/*! jQuery v3.2.1 | (c) JS Foundation and other contributors | jquery.org/license */ ! function(a, b) {
    "use strict";
    "object" == typeof module && "object" == typeof module.exports ? module.exports = a.document ? b(a, !0) : function(a) {
        if (!a.document) throw new Error("jQuery requires a window with a document");
        return b(a);
    } : b(a);
}("undefined" != typeof window ? window : this, function(a, b) {
    "use strict";
    var c = [],
        d = a.document,
        e = Object.getPrototypeOf,
        f = c.slice,
        g = c.concat,
        h = c.push,
        i = c.indexOf,
        j = {},
        k = j.toString,
        l = j.hasOwnProperty,
        m = l.toString,
        n = m.call(Object),
        o = {};

    function p(a, b) {
        b = b || d;
        var c = b.createElement("script");
        c.text = a, b.head.appendChild(c).parentNode.removeChild(c);
    }
    var q = "3.2.1",
        r = function(a, b) {
            return new r.fn.init(a, b);
        },
        s = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
        t = /^-ms-/,
        u = /-([a-z])/g,
        v = function(a, b) {
            return b.toUpperCase();
        };
    r.fn = r.prototype = {
        jquery: q,
        constructor: r,
        length: 0,
        toArray: function() {
            return f.call(this);
        },
        get: function(a) {
            return null == a ? f.call(this) : a < 0 ? this[a + this.length] : this[a];
        },
        pushStack: function(a) {
            var b = r.merge(this.constructor(), a);
            return b.prevObject = this, b;
        },
        each: function(a) {
            return r.each(this, a);
        },
        map: function(a) {
            return this.pushStack(r.map(this, function(b, c) {
                return a.call(b, c, b);
            }));
        },
        slice: function() {
            return this.pushStack(f.apply(this, arguments));
        },
        first: function() {
            return this.eq(0);
        },
        last: function() {
            return this.eq(-1);
        },
        eq: function(a) {
            var b = this.length,
                c = +a + (a < 0 ? b : 0);
            return this.pushStack(c >= 0 && c < b ? [this[c]] : []);
        },
        end: function() {
            return this.prevObject || this.constructor();
        },
        push: h,
        sort: c.sort,
        splice: c.splice
    }, r.extend = r.fn.extend = function() {
        var a, b, c, d, e, f, g = arguments[0] || {},
            h = 1,
            i = arguments.length,
            j = !1;
        for ("boolean" == typeof g && (j = g, g = arguments[h] || {}, h++), "object" == typeof g || r.isFunction(g) || (g = {}), h === i && (g = this, h--); h < i; h++)
            if (null != (a = arguments[h]))
                for (b in a) c = g[b], d = a[b], g !== d && (j && d && (r.isPlainObject(d) || (e = Array.isArray(d))) ? (e ? (e = !1, f = c && Array.isArray(c) ? c : []) : f = c && r.isPlainObject(c) ? c : {}, g[b] = r.extend(j, f, d)) : void 0 !== d && (g[b] = d));
        return g;
    }, r.extend({
        expando: "jQuery" + (q + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function(a) {
            throw new Error(a);
        },
        noop: function() {},
        isFunction: function(a) {
            return "function" === r.type(a);
        },
        isWindow: function(a) {
            return null != a && a === a.window;
        },
        isNumeric: function(a) {
            var b = r.type(a);
            return ("number" === b || "string" === b) && !isNaN(a - parseFloat(a));
        },
        isPlainObject: function(a) {
            var b, c;
            return !(!a || "[object Object]" !== k.call(a)) && (!(b = e(a)) || (c = l.call(b, "constructor") && b.constructor, "function" == typeof c && m.call(c) === n));
        },
        isEmptyObject: function(a) {
            var b;
            for (b in a) return !1;
            return !0;
        },
        type: function(a) {
            return null == a ? a + "" : "object" == typeof a || "function" == typeof a ? j[k.call(a)] || "object" : typeof a;
        },
        globalEval: function(a) {
            p(a);
        },
        camelCase: function(a) {
            return a.replace(t, "ms-").replace(u, v);
        },
        each: function(a, b) {
            var c, d = 0;
            if (w(a)) {
                for (c = a.length; d < c; d++)
                    if (b.call(a[d], d, a[d]) === !1) break;
            } else
                for (d in a)
                    if (b.call(a[d], d, a[d]) === !1) break;
            return a;
        },
        trim: function(a) {
            return null == a ? "" : (a + "").replace(s, "");
        },
        makeArray: function(a, b) {
            var c = b || [];
            return null != a && (w(Object(a)) ? r.merge(c, "string" == typeof a ? [a] : a) : h.call(c, a)), c;
        },
        inArray: function(a, b, c) {
            return null == b ? -1 : i.call(b, a, c);
        },
        merge: function(a, b) {
            for (var c = +b.length, d = 0, e = a.length; d < c; d++) a[e++] = b[d];
            return a.length = e, a;
        },
        grep: function(a, b, c) {
            for (var d, e = [], f = 0, g = a.length, h = !c; f < g; f++) d = !b(a[f], f), d !== h && e.push(a[f]);
            return e;
        },
        map: function(a, b, c) {
            var d, e, f = 0,
                h = [];
            if (w(a))
                for (d = a.length; f < d; f++) e = b(a[f], f, c), null != e && h.push(e);
            else
                for (f in a) e = b(a[f], f, c), null != e && h.push(e);
            return g.apply([], h);
        },
        guid: 1,
        proxy: function(a, b) {
            var c, d, e;
            if ("string" == typeof b && (c = a[b], b = a, a = c), r.isFunction(a)) return d = f.call(arguments, 2), e = function() {
                return a.apply(b || this, d.concat(f.call(arguments)));
            }, e.guid = a.guid = a.guid || r.guid++, e;
        },
        now: Date.now,
        support: o
    }), "function" == typeof Symbol && (r.fn[Symbol.iterator] = c[Symbol.iterator]), r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(a, b) {
        j["[object " + b + "]"] = b.toLowerCase();
    });

    function w(a) {
        var b = !!a && "length" in a && a.length,
            c = r.type(a);
        return "function" !== c && !r.isWindow(a) && ("array" === c || 0 === b || "number" == typeof b && b > 0 && b - 1 in a);
    }
    var x = function(a) {
        var b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u = "sizzle" + 1 * new Date(),
            v = a.document,
            w = 0,
            x = 0,
            y = ha(),
            z = ha(),
            A = ha(),
            B = function(a, b) {
                return a === b && (l = !0), 0;
            },
            C = {}.hasOwnProperty,
            D = [],
            E = D.pop,
            F = D.push,
            G = D.push,
            H = D.slice,
            I = function(a, b) {
                for (var c = 0, d = a.length; c < d; c++)
                    if (a[c] === b) return c;
                return -1;
            },
            J = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
            K = "[\\x20\\t\\r\\n\\f]",
            L = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+",
            M = "\\[" + K + "*(" + L + ")(?:" + K + "*([*^$|!~]?=)" + K + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + L + "))|)" + K + "*\\]",
            N = ":(" + L + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + M + ")*)|.*)\\)|)",
            O = new RegExp(K + "+", "g"),
            P = new RegExp("^" + K + "+|((?:^|[^\\\\])(?:\\\\.)*)" + K + "+$", "g"),
            Q = new RegExp("^" + K + "*," + K + "*"),
            R = new RegExp("^" + K + "*([>+~]|" + K + ")" + K + "*"),
            S = new RegExp("=" + K + "*([^\\]'\"]*?)" + K + "*\\]", "g"),
            T = new RegExp(N),
            U = new RegExp("^" + L + "$"),
            V = {
                ID: new RegExp("^#(" + L + ")"),
                CLASS: new RegExp("^\\.(" + L + ")"),
                TAG: new RegExp("^(" + L + "|[*])"),
                ATTR: new RegExp("^" + M),
                PSEUDO: new RegExp("^" + N),
                CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + K + "*(even|odd|(([+-]|)(\\d*)n|)" + K + "*(?:([+-]|)" + K + "*(\\d+)|))" + K + "*\\)|)", "i"),
                bool: new RegExp("^(?:" + J + ")$", "i"),
                needsContext: new RegExp("^" + K + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + K + "*((?:-\\d)?\\d*)" + K + "*\\)|)(?=[^-]|$)", "i")
            },
            W = /^(?:input|select|textarea|button)$/i,
            X = /^h\d$/i,
            Y = /^[^{]+\{\s*\[native \w/,
            Z = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
            $ = /[+~]/,
            _ = new RegExp("\\\\([\\da-f]{1,6}" + K + "?|(" + K + ")|.)", "ig"),
            aa = function(a, b, c) {
                var d = "0x" + b - 65536;
                return d !== d || c ? b : d < 0 ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320);
            },
            ba = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
            ca = function(a, b) {
                return b ? "\0" === a ? "\ufffd" : a.slice(0, -1) + "\\" + a.charCodeAt(a.length - 1).toString(16) + " " : "\\" + a;
            },
            da = function() {
                m();
            },
            ea = ta(function(a) {
                return a.disabled === !0 && ("form" in a || "label" in a);
            }, {
                dir: "parentNode",
                next: "legend"
            });
        try {
            G.apply(D = H.call(v.childNodes), v.childNodes), D[v.childNodes.length].nodeType;
        } catch (fa) {
            G = {
                apply: D.length ? function(a, b) {
                    F.apply(a, H.call(b));
                } : function(a, b) {
                    var c = a.length,
                        d = 0;
                    while (a[c++] = b[d++]);
                    a.length = c - 1;
                }
            };
        }

        function ga(a, b, d, e) {
            var f, h, j, k, l, o, r, s = b && b.ownerDocument,
                w = b ? b.nodeType : 9;
            if (d = d || [], "string" != typeof a || !a || 1 !== w && 9 !== w && 11 !== w) return d;
            if (!e && ((b ? b.ownerDocument || b : v) !== n && m(b), b = b || n, p)) {
                if (11 !== w && (l = Z.exec(a)))
                    if (f = l[1]) {
                        if (9 === w) {
                            if (!(j = b.getElementById(f))) return d;
                            if (j.id === f) return d.push(j), d;
                        } else if (s && (j = s.getElementById(f)) && t(b, j) && j.id === f) return d.push(j), d;
                    } else {
                        if (l[2]) return G.apply(d, b.getElementsByTagName(a)), d;
                        if ((f = l[3]) && c.getElementsByClassName && b.getElementsByClassName) return G.apply(d, b.getElementsByClassName(f)), d;
                    }
                if (c.qsa && !A[a + " "] && (!q || !q.test(a))) {
                    if (1 !== w) s = b, r = a;
                    else if ("object" !== b.nodeName.toLowerCase()) {
                        (k = b.getAttribute("id")) ? k = k.replace(ba, ca): b.setAttribute("id", k = u), o = g(a), h = o.length;
                        while (h--) o[h] = "#" + k + " " + sa(o[h]);
                        r = o.join(","), s = $.test(a) && qa(b.parentNode) || b;
                    }
                    if (r) try {
                        return G.apply(d, s.querySelectorAll(r)), d;
                    } catch (x) {} finally {
                        k === u && b.removeAttribute("id");
                    }
                }
            }
            return i(a.replace(P, "$1"), b, d, e);
        }

        function ha() {
            var a = [];

            function b(c, e) {
                return a.push(c + " ") > d.cacheLength && delete b[a.shift()], b[c + " "] = e;
            }
            return b;
        }

        function ia(a) {
            return a[u] = !0, a;
        }

        function ja(a) {
            var b = n.createElement("fieldset");
            try {
                return !!a(b);
            } catch (c) {
                return !1;
            } finally {
                b.parentNode && b.parentNode.removeChild(b), b = null;
            }
        }

        function ka(a, b) {
            var c = a.split("|"),
                e = c.length;
            while (e--) d.attrHandle[c[e]] = b;
        }

        function la(a, b) {
            var c = b && a,
                d = c && 1 === a.nodeType && 1 === b.nodeType && a.sourceIndex - b.sourceIndex;
            if (d) return d;
            if (c)
                while (c = c.nextSibling)
                    if (c === b) return -1;
            return a ? 1 : -1;
        }

        function ma(a) {
            return function(b) {
                var c = b.nodeName.toLowerCase();
                return "input" === c && b.type === a;
            };
        }

        function na(a) {
            return function(b) {
                var c = b.nodeName.toLowerCase();
                return ("input" === c || "button" === c) && b.type === a;
            };
        }

        function oa(a) {
            return function(b) {
                return "form" in b ? b.parentNode && b.disabled === !1 ? "label" in b ? "label" in b.parentNode ? b.parentNode.disabled === a : b.disabled === a : b.isDisabled === a || b.isDisabled !== !a && ea(b) === a : b.disabled === a : "label" in b && b.disabled === a;
            };
        }

        function pa(a) {
            return ia(function(b) {
                return b = +b, ia(function(c, d) {
                    var e, f = a([], c.length, b),
                        g = f.length;
                    while (g--) c[e = f[g]] && (c[e] = !(d[e] = c[e]));
                });
            });
        }

        function qa(a) {
            return a && "undefined" != typeof a.getElementsByTagName && a;
        }
        c = ga.support = {}, f = ga.isXML = function(a) {
            var b = a && (a.ownerDocument || a).documentElement;
            return !!b && "HTML" !== b.nodeName;
        }, m = ga.setDocument = function(a) {
            var b, e, g = a ? a.ownerDocument || a : v;
            return g !== n && 9 === g.nodeType && g.documentElement ? (n = g, o = n.documentElement, p = !f(n), v !== n && (e = n.defaultView) && e.top !== e && (e.addEventListener ? e.addEventListener("unload", da, !1) : e.attachEvent && e.attachEvent("onunload", da)), c.attributes = ja(function(a) {
                return a.className = "i", !a.getAttribute("className");
            }), c.getElementsByTagName = ja(function(a) {
                return a.appendChild(n.createComment("")), !a.getElementsByTagName("*").length;
            }), c.getElementsByClassName = Y.test(n.getElementsByClassName), c.getById = ja(function(a) {
                return o.appendChild(a).id = u, !n.getElementsByName || !n.getElementsByName(u).length;
            }), c.getById ? (d.filter.ID = function(a) {
                var b = a.replace(_, aa);
                return function(a) {
                    return a.getAttribute("id") === b;
                };
            }, d.find.ID = function(a, b) {
                if ("undefined" != typeof b.getElementById && p) {
                    var c = b.getElementById(a);
                    return c ? [c] : [];
                }
            }) : (d.filter.ID = function(a) {
                var b = a.replace(_, aa);
                return function(a) {
                    var c = "undefined" != typeof a.getAttributeNode && a.getAttributeNode("id");
                    return c && c.value === b;
                };
            }, d.find.ID = function(a, b) {
                if ("undefined" != typeof b.getElementById && p) {
                    var c, d, e, f = b.getElementById(a);
                    if (f) {
                        if (c = f.getAttributeNode("id"), c && c.value === a) return [f];
                        e = b.getElementsByName(a), d = 0;
                        while (f = e[d++])
                            if (c = f.getAttributeNode("id"), c && c.value === a) return [f];
                    }
                    return [];
                }
            }), d.find.TAG = c.getElementsByTagName ? function(a, b) {
                return "undefined" != typeof b.getElementsByTagName ? b.getElementsByTagName(a) : c.qsa ? b.querySelectorAll(a) : void 0;
            } : function(a, b) {
                var c, d = [],
                    e = 0,
                    f = b.getElementsByTagName(a);
                if ("*" === a) {
                    while (c = f[e++]) 1 === c.nodeType && d.push(c);
                    return d;
                }
                return f;
            }, d.find.CLASS = c.getElementsByClassName && function(a, b) {
                if ("undefined" != typeof b.getElementsByClassName && p) return b.getElementsByClassName(a);
            }, r = [], q = [], (c.qsa = Y.test(n.querySelectorAll)) && (ja(function(a) {
                o.appendChild(a).innerHTML = "<a id='" + u + "'></a><select id='" + u + "-\r\\' msallowcapture=''><option selected=''></option></select>", a.querySelectorAll("[msallowcapture^='']").length && q.push("[*^$]=" + K + "*(?:''|\"\")"), a.querySelectorAll("[selected]").length || q.push("\\[" + K + "*(?:value|" + J + ")"), a.querySelectorAll("[id~=" + u + "-]").length || q.push("~="), a.querySelectorAll(":checked").length || q.push(":checked"), a.querySelectorAll("a#" + u + "+*").length || q.push(".#.+[+~]");
            }), ja(function(a) {
                a.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                var b = n.createElement("input");
                b.setAttribute("type", "hidden"), a.appendChild(b).setAttribute("name", "D"), a.querySelectorAll("[name=d]").length && q.push("name" + K + "*[*^$|!~]?="), 2 !== a.querySelectorAll(":enabled").length && q.push(":enabled", ":disabled"), o.appendChild(a).disabled = !0, 2 !== a.querySelectorAll(":disabled").length && q.push(":enabled", ":disabled"), a.querySelectorAll("*,:x"), q.push(",.*:");
            })), (c.matchesSelector = Y.test(s = o.matches || o.webkitMatchesSelector || o.mozMatchesSelector || o.oMatchesSelector || o.msMatchesSelector)) && ja(function(a) {
                c.disconnectedMatch = s.call(a, "*"), s.call(a, "[s!='']:x"), r.push("!=", N);
            }), q = q.length && new RegExp(q.join("|")), r = r.length && new RegExp(r.join("|")), b = Y.test(o.compareDocumentPosition), t = b || Y.test(o.contains) ? function(a, b) {
                var c = 9 === a.nodeType ? a.documentElement : a,
                    d = b && b.parentNode;
                return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d)));
            } : function(a, b) {
                if (b)
                    while (b = b.parentNode)
                        if (b === a) return !0;
                return !1;
            }, B = b ? function(a, b) {
                if (a === b) return l = !0, 0;
                var d = !a.compareDocumentPosition - !b.compareDocumentPosition;
                return d ? d : (d = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1, 1 & d || !c.sortDetached && b.compareDocumentPosition(a) === d ? a === n || a.ownerDocument === v && t(v, a) ? -1 : b === n || b.ownerDocument === v && t(v, b) ? 1 : k ? I(k, a) - I(k, b) : 0 : 4 & d ? -1 : 1);
            } : function(a, b) {
                if (a === b) return l = !0, 0;
                var c, d = 0,
                    e = a.parentNode,
                    f = b.parentNode,
                    g = [a],
                    h = [b];
                if (!e || !f) return a === n ? -1 : b === n ? 1 : e ? -1 : f ? 1 : k ? I(k, a) - I(k, b) : 0;
                if (e === f) return la(a, b);
                c = a;
                while (c = c.parentNode) g.unshift(c);
                c = b;
                while (c = c.parentNode) h.unshift(c);
                while (g[d] === h[d]) d++;
                return d ? la(g[d], h[d]) : g[d] === v ? -1 : h[d] === v ? 1 : 0;
            }, n) : n;
        }, ga.matches = function(a, b) {
            return ga(a, null, null, b);
        }, ga.matchesSelector = function(a, b) {
            if ((a.ownerDocument || a) !== n && m(a), b = b.replace(S, "='$1']"), c.matchesSelector && p && !A[b + " "] && (!r || !r.test(b)) && (!q || !q.test(b))) try {
                var d = s.call(a, b);
                if (d || c.disconnectedMatch || a.document && 11 !== a.document.nodeType) return d;
            } catch (e) {}
            return ga(b, n, null, [a]).length > 0;
        }, ga.contains = function(a, b) {
            return (a.ownerDocument || a) !== n && m(a), t(a, b);
        }, ga.attr = function(a, b) {
            (a.ownerDocument || a) !== n && m(a);
            var e = d.attrHandle[b.toLowerCase()],
                f = e && C.call(d.attrHandle, b.toLowerCase()) ? e(a, b, !p) : void 0;
            return void 0 !== f ? f : c.attributes || !p ? a.getAttribute(b) : (f = a.getAttributeNode(b)) && f.specified ? f.value : null;
        }, ga.escape = function(a) {
            return (a + "").replace(ba, ca);
        }, ga.error = function(a) {
            throw new Error("Syntax error, unrecognized expression: " + a);
        }, ga.uniqueSort = function(a) {
            var b, d = [],
                e = 0,
                f = 0;
            if (l = !c.detectDuplicates, k = !c.sortStable && a.slice(0), a.sort(B), l) {
                while (b = a[f++]) b === a[f] && (e = d.push(f));
                while (e--) a.splice(d[e], 1);
            }
            return k = null, a;
        }, e = ga.getText = function(a) {
            var b, c = "",
                d = 0,
                f = a.nodeType;
            if (f) {
                if (1 === f || 9 === f || 11 === f) {
                    if ("string" == typeof a.textContent) return a.textContent;
                    for (a = a.firstChild; a; a = a.nextSibling) c += e(a);
                } else if (3 === f || 4 === f) return a.nodeValue;
            } else
                while (b = a[d++]) c += e(b);
            return c;
        }, d = ga.selectors = {
            cacheLength: 50,
            createPseudo: ia,
            match: V,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(a) {
                    return a[1] = a[1].replace(_, aa), a[3] = (a[3] || a[4] || a[5] || "").replace(_, aa), "~=" === a[2] && (a[3] = " " + a[3] + " "), a.slice(0, 4);
                },
                CHILD: function(a) {
                    return a[1] = a[1].toLowerCase(), "nth" === a[1].slice(0, 3) ? (a[3] || ga.error(a[0]), a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])), a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && ga.error(a[0]), a;
                },
                PSEUDO: function(a) {
                    var b, c = !a[6] && a[2];
                    return V.CHILD.test(a[0]) ? null : (a[3] ? a[2] = a[4] || a[5] || "" : c && T.test(c) && (b = g(c, !0)) && (b = c.indexOf(")", c.length - b) - c.length) && (a[0] = a[0].slice(0, b), a[2] = c.slice(0, b)), a.slice(0, 3));
                }
            },
            filter: {
                TAG: function(a) {
                    var b = a.replace(_, aa).toLowerCase();
                    return "*" === a ? function() {
                        return !0;
                    } : function(a) {
                        return a.nodeName && a.nodeName.toLowerCase() === b;
                    };
                },
                CLASS: function(a) {
                    var b = y[a + " "];
                    return b || (b = new RegExp("(^|" + K + ")" + a + "(" + K + "|$)")) && y(a, function(a) {
                        return b.test("string" == typeof a.className && a.className || "undefined" != typeof a.getAttribute && a.getAttribute("class") || "");
                    });
                },
                ATTR: function(a, b, c) {
                    return function(d) {
                        var e = ga.attr(d, a);
                        return null == e ? "!=" === b : !b || (e += "", "=" === b ? e === c : "!=" === b ? e !== c : "^=" === b ? c && 0 === e.indexOf(c) : "*=" === b ? c && e.indexOf(c) > -1 : "$=" === b ? c && e.slice(-c.length) === c : "~=" === b ? (" " + e.replace(O, " ") + " ").indexOf(c) > -1 : "|=" === b && (e === c || e.slice(0, c.length + 1) === c + "-"));
                    };
                },
                CHILD: function(a, b, c, d, e) {
                    var f = "nth" !== a.slice(0, 3),
                        g = "last" !== a.slice(-4),
                        h = "of-type" === b;
                    return 1 === d && 0 === e ? function(a) {
                        return !!a.parentNode;
                    } : function(b, c, i) {
                        var j, k, l, m, n, o, p = f !== g ? "nextSibling" : "previousSibling",
                            q = b.parentNode,
                            r = h && b.nodeName.toLowerCase(),
                            s = !i && !h,
                            t = !1;
                        if (q) {
                            if (f) {
                                while (p) {
                                    m = b;
                                    while (m = m[p])
                                        if (h ? m.nodeName.toLowerCase() === r : 1 === m.nodeType) return !1;
                                    o = p = "only" === a && !o && "nextSibling";
                                }
                                return !0;
                            }
                            if (o = [g ? q.firstChild : q.lastChild], g && s) {
                                m = q, l = m[u] || (m[u] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), j = k[a] || [], n = j[0] === w && j[1], t = n && j[2], m = n && q.childNodes[n];
                                while (m = ++n && m && m[p] || (t = n = 0) || o.pop())
                                    if (1 === m.nodeType && ++t && m === b) {
                                        k[a] = [w, n, t];
                                        break;
                                    }
                            } else if (s && (m = b, l = m[u] || (m[u] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), j = k[a] || [], n = j[0] === w && j[1], t = n), t === !1)
                                while (m = ++n && m && m[p] || (t = n = 0) || o.pop())
                                    if ((h ? m.nodeName.toLowerCase() === r : 1 === m.nodeType) && ++t && (s && (l = m[u] || (m[u] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), k[a] = [w, t]), m === b)) break;
                            return t -= e, t === d || t % d === 0 && t / d >= 0;
                        }
                    };
                },
                PSEUDO: function(a, b) {
                    var c, e = d.pseudos[a] || d.setFilters[a.toLowerCase()] || ga.error("unsupported pseudo: " + a);
                    return e[u] ? e(b) : e.length > 1 ? (c = [a, a, "", b], d.setFilters.hasOwnProperty(a.toLowerCase()) ? ia(function(a, c) {
                        var d, f = e(a, b),
                            g = f.length;
                        while (g--) d = I(a, f[g]), a[d] = !(c[d] = f[g]);
                    }) : function(a) {
                        return e(a, 0, c);
                    }) : e;
                }
            },
            pseudos: {
                not: ia(function(a) {
                    var b = [],
                        c = [],
                        d = h(a.replace(P, "$1"));
                    return d[u] ? ia(function(a, b, c, e) {
                        var f, g = d(a, null, e, []),
                            h = a.length;
                        while (h--)(f = g[h]) && (a[h] = !(b[h] = f));
                    }) : function(a, e, f) {
                        return b[0] = a, d(b, null, f, c), b[0] = null, !c.pop();
                    };
                }),
                has: ia(function(a) {
                    return function(b) {
                        return ga(a, b).length > 0;
                    };
                }),
                contains: ia(function(a) {
                    return a = a.replace(_, aa),
                        function(b) {
                            return (b.textContent || b.innerText || e(b)).indexOf(a) > -1;
                        };
                }),
                lang: ia(function(a) {
                    return U.test(a || "") || ga.error("unsupported lang: " + a), a = a.replace(_, aa).toLowerCase(),
                        function(b) {
                            var c;
                            do
                                if (c = p ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang")) return c = c.toLowerCase(), c === a || 0 === c.indexOf(a + "-"); while ((b = b.parentNode) && 1 === b.nodeType);
                            return !1;
                        };
                }),
                target: function(b) {
                    var c = a.location && a.location.hash;
                    return c && c.slice(1) === b.id;
                },
                root: function(a) {
                    return a === o;
                },
                focus: function(a) {
                    return a === n.activeElement && (!n.hasFocus || n.hasFocus()) && !!(a.type || a.href || ~a.tabIndex);
                },
                enabled: oa(!1),
                disabled: oa(!0),
                checked: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && !!a.checked || "option" === b && !!a.selected;
                },
                selected: function(a) {
                    return a.parentNode && a.parentNode.selectedIndex, a.selected === !0;
                },
                empty: function(a) {
                    for (a = a.firstChild; a; a = a.nextSibling)
                        if (a.nodeType < 6) return !1;
                    return !0;
                },
                parent: function(a) {
                    return !d.pseudos.empty(a);
                },
                header: function(a) {
                    return X.test(a.nodeName);
                },
                input: function(a) {
                    return W.test(a.nodeName);
                },
                button: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && "button" === a.type || "button" === b;
                },
                text: function(a) {
                    var b;
                    return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (b = a.getAttribute("type")) || "text" === b.toLowerCase());
                },
                first: pa(function() {
                    return [0];
                }),
                last: pa(function(a, b) {
                    return [b - 1];
                }),
                eq: pa(function(a, b, c) {
                    return [c < 0 ? c + b : c];
                }),
                even: pa(function(a, b) {
                    for (var c = 0; c < b; c += 2) a.push(c);
                    return a;
                }),
                odd: pa(function(a, b) {
                    for (var c = 1; c < b; c += 2) a.push(c);
                    return a;
                }),
                lt: pa(function(a, b, c) {
                    for (var d = c < 0 ? c + b : c; --d >= 0;) a.push(d);
                    return a;
                }),
                gt: pa(function(a, b, c) {
                    for (var d = c < 0 ? c + b : c; ++d < b;) a.push(d);
                    return a;
                })
            }
        }, d.pseudos.nth = d.pseudos.eq;
        for (b in {
                radio: !0,
                checkbox: !0,
                file: !0,
                password: !0,
                image: !0
            }) d.pseudos[b] = ma(b);
        for (b in {
                submit: !0,
                reset: !0
            }) d.pseudos[b] = na(b);

        function ra() {}
        ra.prototype = d.filters = d.pseudos, d.setFilters = new ra(), g = ga.tokenize = function(a, b) {
            var c, e, f, g, h, i, j, k = z[a + " "];
            if (k) return b ? 0 : k.slice(0);
            h = a, i = [], j = d.preFilter;
            while (h) {
                c && !(e = Q.exec(h)) || (e && (h = h.slice(e[0].length) || h), i.push(f = [])), c = !1, (e = R.exec(h)) && (c = e.shift(), f.push({
                    value: c,
                    type: e[0].replace(P, " ")
                }), h = h.slice(c.length));
                for (g in d.filter) !(e = V[g].exec(h)) || j[g] && !(e = j[g](e)) || (c = e.shift(), f.push({
                    value: c,
                    type: g,
                    matches: e
                }), h = h.slice(c.length));
                if (!c) break;
            }
            return b ? h.length : h ? ga.error(a) : z(a, i).slice(0);
        };

        function sa(a) {
            for (var b = 0, c = a.length, d = ""; b < c; b++) d += a[b].value;
            return d;
        }

        function ta(a, b, c) {
            var d = b.dir,
                e = b.next,
                f = e || d,
                g = c && "parentNode" === f,
                h = x++;
            return b.first ? function(b, c, e) {
                while (b = b[d])
                    if (1 === b.nodeType || g) return a(b, c, e);
                return !1;
            } : function(b, c, i) {
                var j, k, l, m = [w, h];
                if (i) {
                    while (b = b[d])
                        if ((1 === b.nodeType || g) && a(b, c, i)) return !0;
                } else
                    while (b = b[d])
                        if (1 === b.nodeType || g)
                            if (l = b[u] || (b[u] = {}), k = l[b.uniqueID] || (l[b.uniqueID] = {}), e && e === b.nodeName.toLowerCase()) b = b[d] || b;
                            else {
                                if ((j = k[f]) && j[0] === w && j[1] === h) return m[2] = j[2];
                                if (k[f] = m, m[2] = a(b, c, i)) return !0;
                            } return !1;
            };
        }

        function ua(a) {
            return a.length > 1 ? function(b, c, d) {
                var e = a.length;
                while (e--)
                    if (!a[e](b, c, d)) return !1;
                return !0;
            } : a[0];
        }

        function va(a, b, c) {
            for (var d = 0, e = b.length; d < e; d++) ga(a, b[d], c);
            return c;
        }

        function wa(a, b, c, d, e) {
            for (var f, g = [], h = 0, i = a.length, j = null != b; h < i; h++)(f = a[h]) && (c && !c(f, d, e) || (g.push(f), j && b.push(h)));
            return g;
        }

        function xa(a, b, c, d, e, f) {
            return d && !d[u] && (d = xa(d)), e && !e[u] && (e = xa(e, f)), ia(function(f, g, h, i) {
                var j, k, l, m = [],
                    n = [],
                    o = g.length,
                    p = f || va(b || "*", h.nodeType ? [h] : h, []),
                    q = !a || !f && b ? p : wa(p, m, a, h, i),
                    r = c ? e || (f ? a : o || d) ? [] : g : q;
                if (c && c(q, r, h, i), d) {
                    j = wa(r, n), d(j, [], h, i), k = j.length;
                    while (k--)(l = j[k]) && (r[n[k]] = !(q[n[k]] = l));
                }
                if (f) {
                    if (e || a) {
                        if (e) {
                            j = [], k = r.length;
                            while (k--)(l = r[k]) && j.push(q[k] = l);
                            e(null, r = [], j, i);
                        }
                        k = r.length;
                        while (k--)(l = r[k]) && (j = e ? I(f, l) : m[k]) > -1 && (f[j] = !(g[j] = l));
                    }
                } else r = wa(r === g ? r.splice(o, r.length) : r), e ? e(null, g, r, i) : G.apply(g, r);
            });
        }

        function ya(a) {
            for (var b, c, e, f = a.length, g = d.relative[a[0].type], h = g || d.relative[" "], i = g ? 1 : 0, k = ta(function(a) {
                    return a === b;
                }, h, !0), l = ta(function(a) {
                    return I(b, a) > -1;
                }, h, !0), m = [function(a, c, d) {
                    var e = !g && (d || c !== j) || ((b = c).nodeType ? k(a, c, d) : l(a, c, d));
                    return b = null, e;
                }]; i < f; i++)
                if (c = d.relative[a[i].type]) m = [ta(ua(m), c)];
                else {
                    if (c = d.filter[a[i].type].apply(null, a[i].matches), c[u]) {
                        for (e = ++i; e < f; e++)
                            if (d.relative[a[e].type]) break;
                        return xa(i > 1 && ua(m), i > 1 && sa(a.slice(0, i - 1).concat({
                            value: " " === a[i - 2].type ? "*" : ""
                        })).replace(P, "$1"), c, i < e && ya(a.slice(i, e)), e < f && ya(a = a.slice(e)), e < f && sa(a));
                    }
                    m.push(c);
                }
            return ua(m);
        }

        function za(a, b) {
            var c = b.length > 0,
                e = a.length > 0,
                f = function(f, g, h, i, k) {
                    var l, o, q, r = 0,
                        s = "0",
                        t = f && [],
                        u = [],
                        v = j,
                        x = f || e && d.find.TAG("*", k),
                        y = w += null == v ? 1 : Math.random() || .1,
                        z = x.length;
                    for (k && (j = g === n || g || k); s !== z && null != (l = x[s]); s++) {
                        if (e && l) {
                            o = 0, g || l.ownerDocument === n || (m(l), h = !p);
                            while (q = a[o++])
                                if (q(l, g || n, h)) {
                                    i.push(l);
                                    break;
                                }
                            k && (w = y);
                        }
                        c && ((l = !q && l) && r--, f && t.push(l));
                    }
                    if (r += s, c && s !== r) {
                        o = 0;
                        while (q = b[o++]) q(t, u, g, h);
                        if (f) {
                            if (r > 0)
                                while (s--) t[s] || u[s] || (u[s] = E.call(i));
                            u = wa(u);
                        }
                        G.apply(i, u), k && !f && u.length > 0 && r + b.length > 1 && ga.uniqueSort(i);
                    }
                    return k && (w = y, j = v), t;
                };
            return c ? ia(f) : f;
        }
        return h = ga.compile = function(a, b) {
            var c, d = [],
                e = [],
                f = A[a + " "];
            if (!f) {
                b || (b = g(a)), c = b.length;
                while (c--) f = ya(b[c]), f[u] ? d.push(f) : e.push(f);
                f = A(a, za(e, d)), f.selector = a;
            }
            return f;
        }, i = ga.select = function(a, b, c, e) {
            var f, i, j, k, l, m = "function" == typeof a && a,
                n = !e && g(a = m.selector || a);
            if (c = c || [], 1 === n.length) {
                if (i = n[0] = n[0].slice(0), i.length > 2 && "ID" === (j = i[0]).type && 9 === b.nodeType && p && d.relative[i[1].type]) {
                    if (b = (d.find.ID(j.matches[0].replace(_, aa), b) || [])[0], !b) return c;
                    m && (b = b.parentNode), a = a.slice(i.shift().value.length);
                }
                f = V.needsContext.test(a) ? 0 : i.length;
                while (f--) {
                    if (j = i[f], d.relative[k = j.type]) break;
                    if ((l = d.find[k]) && (e = l(j.matches[0].replace(_, aa), $.test(i[0].type) && qa(b.parentNode) || b))) {
                        if (i.splice(f, 1), a = e.length && sa(i), !a) return G.apply(c, e), c;
                        break;
                    }
                }
            }
            return (m || h(a, n))(e, b, !p, c, !b || $.test(a) && qa(b.parentNode) || b), c;
        }, c.sortStable = u.split("").sort(B).join("") === u, c.detectDuplicates = !!l, m(), c.sortDetached = ja(function(a) {
            return 1 & a.compareDocumentPosition(n.createElement("fieldset"));
        }), ja(function(a) {
            return a.innerHTML = "<a href='#'></a>", "#" === a.firstChild.getAttribute("href");
        }) || ka("type|href|height|width", function(a, b, c) {
            if (!c) return a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2);
        }), c.attributes && ja(function(a) {
            return a.innerHTML = "<input/>", a.firstChild.setAttribute("value", ""), "" === a.firstChild.getAttribute("value");
        }) || ka("value", function(a, b, c) {
            if (!c && "input" === a.nodeName.toLowerCase()) return a.defaultValue;
        }), ja(function(a) {
            return null == a.getAttribute("disabled");
        }) || ka(J, function(a, b, c) {
            var d;
            if (!c) return a[b] === !0 ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null;
        }), ga;
    }(a);
    r.find = x, r.expr = x.selectors, r.expr[":"] = r.expr.pseudos, r.uniqueSort = r.unique = x.uniqueSort, r.text = x.getText, r.isXMLDoc = x.isXML, r.contains = x.contains, r.escapeSelector = x.escape;
    var y = function(a, b, c) {
            var d = [],
                e = void 0 !== c;
            while ((a = a[b]) && 9 !== a.nodeType)
                if (1 === a.nodeType) {
                    if (e && r(a).is(c)) break;
                    d.push(a);
                }
            return d;
        },
        z = function(a, b) {
            for (var c = []; a; a = a.nextSibling) 1 === a.nodeType && a !== b && c.push(a);
            return c;
        },
        A = r.expr.match.needsContext;

    function B(a, b) {
        return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase();
    }
    var C = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,
        D = /^.[^:#\[\.,]*$/;

    function E(a, b, c) {
        return r.isFunction(b) ? r.grep(a, function(a, d) {
            return !!b.call(a, d, a) !== c;
        }) : b.nodeType ? r.grep(a, function(a) {
            return a === b !== c;
        }) : "string" != typeof b ? r.grep(a, function(a) {
            return i.call(b, a) > -1 !== c;
        }) : D.test(b) ? r.filter(b, a, c) : (b = r.filter(b, a), r.grep(a, function(a) {
            return i.call(b, a) > -1 !== c && 1 === a.nodeType;
        }));
    }
    r.filter = function(a, b, c) {
        var d = b[0];
        return c && (a = ":not(" + a + ")"), 1 === b.length && 1 === d.nodeType ? r.find.matchesSelector(d, a) ? [d] : [] : r.find.matches(a, r.grep(b, function(a) {
            return 1 === a.nodeType;
        }));
    }, r.fn.extend({
        find: function(a) {
            var b, c, d = this.length,
                e = this;
            if ("string" != typeof a) return this.pushStack(r(a).filter(function() {
                for (b = 0; b < d; b++)
                    if (r.contains(e[b], this)) return !0;
            }));
            for (c = this.pushStack([]), b = 0; b < d; b++) r.find(a, e[b], c);
            return d > 1 ? r.uniqueSort(c) : c;
        },
        filter: function(a) {
            return this.pushStack(E(this, a || [], !1));
        },
        not: function(a) {
            return this.pushStack(E(this, a || [], !0));
        },
        is: function(a) {
            return !!E(this, "string" == typeof a && A.test(a) ? r(a) : a || [], !1).length;
        }
    });
    var F, G = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,
        H = r.fn.init = function(a, b, c) {
            var e, f;
            if (!a) return this;
            if (c = c || F, "string" == typeof a) {
                if (e = "<" === a[0] && ">" === a[a.length - 1] && a.length >= 3 ? [null, a, null] : G.exec(a), !e || !e[1] && b) return !b || b.jquery ? (b || c).find(a) : this.constructor(b).find(a);
                if (e[1]) {
                    if (b = b instanceof r ? b[0] : b, r.merge(this, r.parseHTML(e[1], b && b.nodeType ? b.ownerDocument || b : d, !0)), C.test(e[1]) && r.isPlainObject(b))
                        for (e in b) r.isFunction(this[e]) ? this[e](b[e]) : this.attr(e, b[e]);
                    return this;
                }
                return f = d.getElementById(e[2]), f && (this[0] = f, this.length = 1), this;
            }
            return a.nodeType ? (this[0] = a, this.length = 1, this) : r.isFunction(a) ? void 0 !== c.ready ? c.ready(a) : a(r) : r.makeArray(a, this);
        };
    H.prototype = r.fn, F = r(d);
    var I = /^(?:parents|prev(?:Until|All))/,
        J = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
    r.fn.extend({
        has: function(a) {
            var b = r(a, this),
                c = b.length;
            return this.filter(function() {
                for (var a = 0; a < c; a++)
                    if (r.contains(this, b[a])) return !0;
            });
        },
        closest: function(a, b) {
            var c, d = 0,
                e = this.length,
                f = [],
                g = "string" != typeof a && r(a);
            if (!A.test(a))
                for (; d < e; d++)
                    for (c = this[d]; c && c !== b; c = c.parentNode)
                        if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && r.find.matchesSelector(c, a))) {
                            f.push(c);
                            break;
                        }
            return this.pushStack(f.length > 1 ? r.uniqueSort(f) : f);
        },
        index: function(a) {
            return a ? "string" == typeof a ? i.call(r(a), this[0]) : i.call(this, a.jquery ? a[0] : a) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1;
        },
        add: function(a, b) {
            return this.pushStack(r.uniqueSort(r.merge(this.get(), r(a, b))));
        },
        addBack: function(a) {
            return this.add(null == a ? this.prevObject : this.prevObject.filter(a));
        }
    });

    function K(a, b) {
        while ((a = a[b]) && 1 !== a.nodeType);
        return a;
    }
    r.each({
        parent: function(a) {
            var b = a.parentNode;
            return b && 11 !== b.nodeType ? b : null;
        },
        parents: function(a) {
            return y(a, "parentNode");
        },
        parentsUntil: function(a, b, c) {
            return y(a, "parentNode", c);
        },
        next: function(a) {
            return K(a, "nextSibling");
        },
        prev: function(a) {
            return K(a, "previousSibling");
        },
        nextAll: function(a) {
            return y(a, "nextSibling");
        },
        prevAll: function(a) {
            return y(a, "previousSibling");
        },
        nextUntil: function(a, b, c) {
            return y(a, "nextSibling", c);
        },
        prevUntil: function(a, b, c) {
            return y(a, "previousSibling", c);
        },
        siblings: function(a) {
            return z((a.parentNode || {}).firstChild, a);
        },
        children: function(a) {
            return z(a.firstChild);
        },
        contents: function(a) {
            return B(a, "iframe") ? a.contentDocument : (B(a, "template") && (a = a.content || a), r.merge([], a.childNodes));
        }
    }, function(a, b) {
        r.fn[a] = function(c, d) {
            var e = r.map(this, b, c);
            return "Until" !== a.slice(-5) && (d = c), d && "string" == typeof d && (e = r.filter(d, e)), this.length > 1 && (J[a] || r.uniqueSort(e), I.test(a) && e.reverse()), this.pushStack(e);
        };
    });
    var L = /[^\x20\t\r\n\f]+/g;

    function M(a) {
        var b = {};
        return r.each(a.match(L) || [], function(a, c) {
            b[c] = !0;
        }), b;
    }
    r.Callbacks = function(a) {
        a = "string" == typeof a ? M(a) : r.extend({}, a);
        var b, c, d, e, f = [],
            g = [],
            h = -1,
            i = function() {
                for (e = e || a.once, d = b = !0; g.length; h = -1) {
                    c = g.shift();
                    while (++h < f.length) f[h].apply(c[0], c[1]) === !1 && a.stopOnFalse && (h = f.length, c = !1);
                }
                a.memory || (c = !1), b = !1, e && (f = c ? [] : "");
            },
            j = {
                add: function() {
                    return f && (c && !b && (h = f.length - 1, g.push(c)), function d(b) {
                        r.each(b, function(b, c) {
                            r.isFunction(c) ? a.unique && j.has(c) || f.push(c) : c && c.length && "string" !== r.type(c) && d(c);
                        });
                    }(arguments), c && !b && i()), this;
                },
                remove: function() {
                    return r.each(arguments, function(a, b) {
                        var c;
                        while ((c = r.inArray(b, f, c)) > -1) f.splice(c, 1), c <= h && h--;
                    }), this;
                },
                has: function(a) {
                    return a ? r.inArray(a, f) > -1 : f.length > 0;
                },
                empty: function() {
                    return f && (f = []), this;
                },
                disable: function() {
                    return e = g = [], f = c = "", this;
                },
                disabled: function() {
                    return !f;
                },
                lock: function() {
                    return e = g = [], c || b || (f = c = ""), this;
                },
                locked: function() {
                    return !!e;
                },
                fireWith: function(a, c) {
                    return e || (c = c || [], c = [a, c.slice ? c.slice() : c], g.push(c), b || i()), this;
                },
                fire: function() {
                    return j.fireWith(this, arguments), this;
                },
                fired: function() {
                    return !!d;
                }
            };
        return j;
    };

    function N(a) {
        return a;
    }

    function O(a) {
        throw a;
    }

    function P(a, b, c, d) {
        var e;
        try {
            a && r.isFunction(e = a.promise) ? e.call(a).done(b).fail(c) : a && r.isFunction(e = a.then) ? e.call(a, b, c) : b.apply(void 0, [a].slice(d));
        } catch (a) {
            c.apply(void 0, [a]);
        }
    }
    r.extend({
        Deferred: function(b) {
            var c = [
                    ["notify", "progress", r.Callbacks("memory"), r.Callbacks("memory"), 2],
                    ["resolve", "done", r.Callbacks("once memory"), r.Callbacks("once memory"), 0, "resolved"],
                    ["reject", "fail", r.Callbacks("once memory"), r.Callbacks("once memory"), 1, "rejected"]
                ],
                d = "pending",
                e = {
                    state: function() {
                        return d;
                    },
                    always: function() {
                        return f.done(arguments).fail(arguments), this;
                    },
                    "catch": function(a) {
                        return e.then(null, a);
                    },
                    pipe: function() {
                        var a = arguments;
                        return r.Deferred(function(b) {
                            r.each(c, function(c, d) {
                                var e = r.isFunction(a[d[4]]) && a[d[4]];
                                f[d[1]](function() {
                                    var a = e && e.apply(this, arguments);
                                    a && r.isFunction(a.promise) ? a.promise().progress(b.notify).done(b.resolve).fail(b.reject) : b[d[0] + "With"](this, e ? [a] : arguments);
                                });
                            }), a = null;
                        }).promise();
                    },
                    then: function(b, d, e) {
                        var f = 0;

                        function g(b, c, d, e) {
                            return function() {
                                var h = this,
                                    i = arguments,
                                    j = function() {
                                        var a, j;
                                        if (!(b < f)) {
                                            if (a = d.apply(h, i), a === c.promise()) throw new TypeError("Thenable self-resolution");
                                            j = a && ("object" == typeof a || "function" == typeof a) && a.then, r.isFunction(j) ? e ? j.call(a, g(f, c, N, e), g(f, c, O, e)) : (f++, j.call(a, g(f, c, N, e), g(f, c, O, e), g(f, c, N, c.notifyWith))) : (d !== N && (h = void 0, i = [a]), (e || c.resolveWith)(h, i));
                                        }
                                    },
                                    k = e ? j : function() {
                                        try {
                                            j();
                                        } catch (a) {
                                            r.Deferred.exceptionHook && r.Deferred.exceptionHook(a, k.stackTrace), b + 1 >= f && (d !== O && (h = void 0, i = [a]), c.rejectWith(h, i));
                                        }
                                    };
                                b ? k() : (r.Deferred.getStackHook && (k.stackTrace = r.Deferred.getStackHook()), a.setTimeout(k));
                            };
                        }
                        return r.Deferred(function(a) {
                            c[0][3].add(g(0, a, r.isFunction(e) ? e : N, a.notifyWith)), c[1][3].add(g(0, a, r.isFunction(b) ? b : N)), c[2][3].add(g(0, a, r.isFunction(d) ? d : O));
                        }).promise();
                    },
                    promise: function(a) {
                        return null != a ? r.extend(a, e) : e;
                    }
                },
                f = {};
            return r.each(c, function(a, b) {
                var g = b[2],
                    h = b[5];
                e[b[1]] = g.add, h && g.add(function() {
                    d = h;
                }, c[3 - a][2].disable, c[0][2].lock), g.add(b[3].fire), f[b[0]] = function() {
                    return f[b[0] + "With"](this === f ? void 0 : this, arguments), this;
                }, f[b[0] + "With"] = g.fireWith;
            }), e.promise(f), b && b.call(f, f), f;
        },
        when: function(a) {
            var b = arguments.length,
                c = b,
                d = Array(c),
                e = f.call(arguments),
                g = r.Deferred(),
                h = function(a) {
                    return function(c) {
                        d[a] = this, e[a] = arguments.length > 1 ? f.call(arguments) : c, --b || g.resolveWith(d, e);
                    };
                };
            if (b <= 1 && (P(a, g.done(h(c)).resolve, g.reject, !b), "pending" === g.state() || r.isFunction(e[c] && e[c].then))) return g.then();
            while (c--) P(e[c], h(c), g.reject);
            return g.promise();
        }
    });
    var Q = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
    r.Deferred.exceptionHook = function(b, c) {
        a.console && a.console.warn && b && Q.test(b.name) && a.console.warn("jQuery.Deferred exception: " + b.message, b.stack, c);
    }, r.readyException = function(b) {
        a.setTimeout(function() {
            throw b;
        });
    };
    var R = r.Deferred();
    r.fn.ready = function(a) {
        return R.then(a)["catch"](function(a) {
            r.readyException(a);
        }), this;
    }, r.extend({
        isReady: !1,
        readyWait: 1,
        ready: function(a) {
            (a === !0 ? --r.readyWait : r.isReady) || (r.isReady = !0, a !== !0 && --r.readyWait > 0 || R.resolveWith(d, [r]));
        }
    }), r.ready.then = R.then;

    function S() {
        d.removeEventListener("DOMContentLoaded", S), a.removeEventListener("load", S), r.ready();
    }
    "complete" === d.readyState || "loading" !== d.readyState && !d.documentElement.doScroll ? a.setTimeout(r.ready) : (d.addEventListener("DOMContentLoaded", S), a.addEventListener("load", S));
    var T = function(a, b, c, d, e, f, g) {
            var h = 0,
                i = a.length,
                j = null == c;
            if ("object" === r.type(c)) {
                e = !0;
                for (h in c) T(a, b, h, c[h], !0, f, g);
            } else if (void 0 !== d && (e = !0, r.isFunction(d) || (g = !0), j && (g ? (b.call(a, d), b = null) : (j = b, b = function(a, b, c) {
                    return j.call(r(a), c);
                })), b))
                for (; h < i; h++) b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c)));
            return e ? a : j ? b.call(a) : i ? b(a[0], c) : f;
        },
        U = function(a) {
            return 1 === a.nodeType || 9 === a.nodeType || !+a.nodeType;
        };

    function V() {
        this.expando = r.expando + V.uid++;
    }
    V.uid = 1, V.prototype = {
        cache: function(a) {
            var b = a[this.expando];
            return b || (b = {}, U(a) && (a.nodeType ? a[this.expando] = b : Object.defineProperty(a, this.expando, {
                value: b,
                configurable: !0
            }))), b;
        },
        set: function(a, b, c) {
            var d, e = this.cache(a);
            if ("string" == typeof b) e[r.camelCase(b)] = c;
            else
                for (d in b) e[r.camelCase(d)] = b[d];
            return e;
        },
        get: function(a, b) {
            return void 0 === b ? this.cache(a) : a[this.expando] && a[this.expando][r.camelCase(b)];
        },
        access: function(a, b, c) {
            return void 0 === b || b && "string" == typeof b && void 0 === c ? this.get(a, b) : (this.set(a, b, c), void 0 !== c ? c : b);
        },
        remove: function(a, b) {
            var c, d = a[this.expando];
            if (void 0 !== d) {
                if (void 0 !== b) {
                    Array.isArray(b) ? b = b.map(r.camelCase) : (b = r.camelCase(b), b = b in d ? [b] : b.match(L) || []), c = b.length;
                    while (c--) delete d[b[c]];
                }(void 0 === b || r.isEmptyObject(d)) && (a.nodeType ? a[this.expando] = void 0 : delete a[this.expando]);
            }
        },
        hasData: function(a) {
            var b = a[this.expando];
            return void 0 !== b && !r.isEmptyObject(b);
        }
    };
    var W = new V(),
        X = new V(),
        Y = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
        Z = /[A-Z]/g;

    function $(a) {
        return "true" === a || "false" !== a && ("null" === a ? null : a === +a + "" ? +a : Y.test(a) ? JSON.parse(a) : a);
    }

    function _(a, b, c) {
        var d;
        if (void 0 === c && 1 === a.nodeType)
            if (d = "data-" + b.replace(Z, "-$&").toLowerCase(), c = a.getAttribute(d), "string" == typeof c) {
                try {
                    c = $(c);
                } catch (e) {}
                X.set(a, b, c);
            } else c = void 0;
        return c;
    }
    r.extend({
        hasData: function(a) {
            return X.hasData(a) || W.hasData(a);
        },
        data: function(a, b, c) {
            return X.access(a, b, c);
        },
        removeData: function(a, b) {
            X.remove(a, b);
        },
        _data: function(a, b, c) {
            return W.access(a, b, c);
        },
        _removeData: function(a, b) {
            W.remove(a, b);
        }
    }), r.fn.extend({
        data: function(a, b) {
            var c, d, e, f = this[0],
                g = f && f.attributes;
            if (void 0 === a) {
                if (this.length && (e = X.get(f), 1 === f.nodeType && !W.get(f, "hasDataAttrs"))) {
                    c = g.length;
                    while (c--) g[c] && (d = g[c].name, 0 === d.indexOf("data-") && (d = r.camelCase(d.slice(5)), _(f, d, e[d])));
                    W.set(f, "hasDataAttrs", !0);
                }
                return e;
            }
            return "object" == typeof a ? this.each(function() {
                X.set(this, a);
            }) : T(this, function(b) {
                var c;
                if (f && void 0 === b) {
                    if (c = X.get(f, a), void 0 !== c) return c;
                    if (c = _(f, a), void 0 !== c) return c;
                } else this.each(function() {
                    X.set(this, a, b);
                });
            }, null, b, arguments.length > 1, null, !0);
        },
        removeData: function(a) {
            return this.each(function() {
                X.remove(this, a);
            });
        }
    }), r.extend({
        queue: function(a, b, c) {
            var d;
            if (a) return b = (b || "fx") + "queue", d = W.get(a, b), c && (!d || Array.isArray(c) ? d = W.access(a, b, r.makeArray(c)) : d.push(c)), d || [];
        },
        dequeue: function(a, b) {
            b = b || "fx";
            var c = r.queue(a, b),
                d = c.length,
                e = c.shift(),
                f = r._queueHooks(a, b),
                g = function() {
                    r.dequeue(a, b);
                };
            "inprogress" === e && (e = c.shift(), d--), e && ("fx" === b && c.unshift("inprogress"), delete f.stop, e.call(a, g, f)), !d && f && f.empty.fire();
        },
        _queueHooks: function(a, b) {
            var c = b + "queueHooks";
            return W.get(a, c) || W.access(a, c, {
                empty: r.Callbacks("once memory").add(function() {
                    W.remove(a, [b + "queue", c]);
                })
            });
        }
    }), r.fn.extend({
        queue: function(a, b) {
            var c = 2;
            return "string" != typeof a && (b = a, a = "fx", c--), arguments.length < c ? r.queue(this[0], a) : void 0 === b ? this : this.each(function() {
                var c = r.queue(this, a, b);
                r._queueHooks(this, a), "fx" === a && "inprogress" !== c[0] && r.dequeue(this, a);
            });
        },
        dequeue: function(a) {
            return this.each(function() {
                r.dequeue(this, a);
            });
        },
        clearQueue: function(a) {
            return this.queue(a || "fx", []);
        },
        promise: function(a, b) {
            var c, d = 1,
                e = r.Deferred(),
                f = this,
                g = this.length,
                h = function() {
                    --d || e.resolveWith(f, [f]);
                };
            "string" != typeof a && (b = a, a = void 0), a = a || "fx";
            while (g--) c = W.get(f[g], a + "queueHooks"), c && c.empty && (d++, c.empty.add(h));
            return h(), e.promise(b);
        }
    });
    var aa = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
        ba = new RegExp("^(?:([+-])=|)(" + aa + ")([a-z%]*)$", "i"),
        ca = ["Top", "Right", "Bottom", "Left"],
        da = function(a, b) {
            return a = b || a, "none" === a.style.display || "" === a.style.display && r.contains(a.ownerDocument, a) && "none" === r.css(a, "display");
        },
        ea = function(a, b, c, d) {
            var e, f, g = {};
            for (f in b) g[f] = a.style[f], a.style[f] = b[f];
            e = c.apply(a, d || []);
            for (f in b) a.style[f] = g[f];
            return e;
        };

    function fa(a, b, c, d) {
        var e, f = 1,
            g = 20,
            h = d ? function() {
                return d.cur();
            } : function() {
                return r.css(a, b, "");
            },
            i = h(),
            j = c && c[3] || (r.cssNumber[b] ? "" : "px"),
            k = (r.cssNumber[b] || "px" !== j && +i) && ba.exec(r.css(a, b));
        if (k && k[3] !== j) {
            j = j || k[3], c = c || [], k = +i || 1;
            do f = f || ".5", k /= f, r.style(a, b, k + j); while (f !== (f = h() / i) && 1 !== f && --g);
        }
        return c && (k = +k || +i || 0, e = c[1] ? k + (c[1] + 1) * c[2] : +c[2], d && (d.unit = j, d.start = k, d.end = e)), e;
    }
    var ga = {};

    function ha(a) {
        var b, c = a.ownerDocument,
            d = a.nodeName,
            e = ga[d];
        return e ? e : (b = c.body.appendChild(c.createElement(d)), e = r.css(b, "display"), b.parentNode.removeChild(b), "none" === e && (e = "block"), ga[d] = e, e);
    }

    function ia(a, b) {
        for (var c, d, e = [], f = 0, g = a.length; f < g; f++) d = a[f], d.style && (c = d.style.display, b ? ("none" === c && (e[f] = W.get(d, "display") || null, e[f] || (d.style.display = "")), "" === d.style.display && da(d) && (e[f] = ha(d))) : "none" !== c && (e[f] = "none", W.set(d, "display", c)));
        for (f = 0; f < g; f++) null != e[f] && (a[f].style.display = e[f]);
        return a;
    }
    r.fn.extend({
        show: function() {
            return ia(this, !0);
        },
        hide: function() {
            return ia(this);
        },
        toggle: function(a) {
            return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function() {
                da(this) ? r(this).show() : r(this).hide();
            });
        }
    });
    var ja = /^(?:checkbox|radio)$/i,
        ka = /<([a-z][^\/\0>\x20\t\r\n\f]+)/i,
        la = /^$|\/(?:java|ecma)script/i,
        ma = {
            option: [1, "<select multiple='multiple'>", "</select>"],
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: [0, "", ""]
        };
    ma.optgroup = ma.option, ma.tbody = ma.tfoot = ma.colgroup = ma.caption = ma.thead, ma.th = ma.td;

    function na(a, b) {
        var c;
        return c = "undefined" != typeof a.getElementsByTagName ? a.getElementsByTagName(b || "*") : "undefined" != typeof a.querySelectorAll ? a.querySelectorAll(b || "*") : [], void 0 === b || b && B(a, b) ? r.merge([a], c) : c;
    }

    function oa(a, b) {
        for (var c = 0, d = a.length; c < d; c++) W.set(a[c], "globalEval", !b || W.get(b[c], "globalEval"));
    }
    var pa = /<|&#?\w+;/;

    function qa(a, b, c, d, e) {
        for (var f, g, h, i, j, k, l = b.createDocumentFragment(), m = [], n = 0, o = a.length; n < o; n++)
            if (f = a[n], f || 0 === f)
                if ("object" === r.type(f)) r.merge(m, f.nodeType ? [f] : f);
                else if (pa.test(f)) {
            g = g || l.appendChild(b.createElement("div")), h = (ka.exec(f) || ["", ""])[1].toLowerCase(), i = ma[h] || ma._default, g.innerHTML = i[1] + r.htmlPrefilter(f) + i[2], k = i[0];
            while (k--) g = g.lastChild;
            r.merge(m, g.childNodes), g = l.firstChild, g.textContent = "";
        } else m.push(b.createTextNode(f));
        l.textContent = "", n = 0;
        while (f = m[n++])
            if (d && r.inArray(f, d) > -1) e && e.push(f);
            else if (j = r.contains(f.ownerDocument, f), g = na(l.appendChild(f), "script"), j && oa(g), c) {
            k = 0;
            while (f = g[k++]) la.test(f.type || "") && c.push(f);
        }
        return l;
    }! function() {
        var a = d.createDocumentFragment(),
            b = a.appendChild(d.createElement("div")),
            c = d.createElement("input");
        c.setAttribute("type", "radio"), c.setAttribute("checked", "checked"), c.setAttribute("name", "t"), b.appendChild(c), o.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked, b.innerHTML = "<textarea>x</textarea>", o.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue;
    }();
    var ra = d.documentElement,
        sa = /^key/,
        ta = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
        ua = /^([^.]*)(?:\.(.+)|)/;

    function va() {
        return !0;
    }

    function wa() {
        return !1;
    }

    function xa() {
        try {
            return d.activeElement;
        } catch (a) {}
    }

    function ya(a, b, c, d, e, f) {
        var g, h;
        if ("object" == typeof b) {
            "string" != typeof c && (d = d || c, c = void 0);
            for (h in b) ya(a, h, c, d, b[h], f);
            return a;
        }
        if (null == d && null == e ? (e = c, d = c = void 0) : null == e && ("string" == typeof c ? (e = d, d = void 0) : (e = d, d = c, c = void 0)), e === !1) e = wa;
        else if (!e) return a;
        return 1 === f && (g = e, e = function(a) {
            return r().off(a), g.apply(this, arguments);
        }, e.guid = g.guid || (g.guid = r.guid++)), a.each(function() {
            r.event.add(this, b, e, d, c);
        });
    }
    r.event = {
        global: {},
        add: function(a, b, c, d, e) {
            var f, g, h, i, j, k, l, m, n, o, p, q = W.get(a);
            if (q) {
                c.handler && (f = c, c = f.handler, e = f.selector), e && r.find.matchesSelector(ra, e), c.guid || (c.guid = r.guid++), (i = q.events) || (i = q.events = {}), (g = q.handle) || (g = q.handle = function(b) {
                    return "undefined" != typeof r && r.event.triggered !== b.type ? r.event.dispatch.apply(a, arguments) : void 0;
                }), b = (b || "").match(L) || [""], j = b.length;
                while (j--) h = ua.exec(b[j]) || [], n = p = h[1], o = (h[2] || "").split(".").sort(), n && (l = r.event.special[n] || {}, n = (e ? l.delegateType : l.bindType) || n, l = r.event.special[n] || {}, k = r.extend({
                    type: n,
                    origType: p,
                    data: d,
                    handler: c,
                    guid: c.guid,
                    selector: e,
                    needsContext: e && r.expr.match.needsContext.test(e),
                    namespace: o.join(".")
                }, f), (m = i[n]) || (m = i[n] = [], m.delegateCount = 0, l.setup && l.setup.call(a, d, o, g) !== !1 || a.addEventListener && a.addEventListener(n, g)), l.add && (l.add.call(a, k), k.handler.guid || (k.handler.guid = c.guid)), e ? m.splice(m.delegateCount++, 0, k) : m.push(k), r.event.global[n] = !0);
            }
        },
        remove: function(a, b, c, d, e) {
            var f, g, h, i, j, k, l, m, n, o, p, q = W.hasData(a) && W.get(a);
            if (q && (i = q.events)) {
                b = (b || "").match(L) || [""], j = b.length;
                while (j--)
                    if (h = ua.exec(b[j]) || [], n = p = h[1], o = (h[2] || "").split(".").sort(), n) {
                        l = r.event.special[n] || {}, n = (d ? l.delegateType : l.bindType) || n, m = i[n] || [], h = h[2] && new RegExp("(^|\\.)" + o.join("\\.(?:.*\\.|)") + "(\\.|$)"), g = f = m.length;
                        while (f--) k = m[f], !e && p !== k.origType || c && c.guid !== k.guid || h && !h.test(k.namespace) || d && d !== k.selector && ("**" !== d || !k.selector) || (m.splice(f, 1), k.selector && m.delegateCount--, l.remove && l.remove.call(a, k));
                        g && !m.length && (l.teardown && l.teardown.call(a, o, q.handle) !== !1 || r.removeEvent(a, n, q.handle), delete i[n]);
                    } else
                        for (n in i) r.event.remove(a, n + b[j], c, d, !0);
                r.isEmptyObject(i) && W.remove(a, "handle events");
            }
        },
        dispatch: function(a) {
            var b = r.event.fix(a),
                c, d, e, f, g, h, i = new Array(arguments.length),
                j = (W.get(this, "events") || {})[b.type] || [],
                k = r.event.special[b.type] || {};
            for (i[0] = b, c = 1; c < arguments.length; c++) i[c] = arguments[c];
            if (b.delegateTarget = this, !k.preDispatch || k.preDispatch.call(this, b) !== !1) {
                h = r.event.handlers.call(this, b, j), c = 0;
                while ((f = h[c++]) && !b.isPropagationStopped()) {
                    b.currentTarget = f.elem, d = 0;
                    while ((g = f.handlers[d++]) && !b.isImmediatePropagationStopped()) b.rnamespace && !b.rnamespace.test(g.namespace) || (b.handleObj = g, b.data = g.data, e = ((r.event.special[g.origType] || {}).handle || g.handler).apply(f.elem, i), void 0 !== e && (b.result = e) === !1 && (b.preventDefault(), b.stopPropagation()));
                }
                return k.postDispatch && k.postDispatch.call(this, b), b.result;
            }
        },
        handlers: function(a, b) {
            var c, d, e, f, g, h = [],
                i = b.delegateCount,
                j = a.target;
            if (i && j.nodeType && !("click" === a.type && a.button >= 1))
                for (; j !== this; j = j.parentNode || this)
                    if (1 === j.nodeType && ("click" !== a.type || j.disabled !== !0)) {
                        for (f = [], g = {}, c = 0; c < i; c++) d = b[c], e = d.selector + " ", void 0 === g[e] && (g[e] = d.needsContext ? r(e, this).index(j) > -1 : r.find(e, this, null, [j]).length), g[e] && f.push(d);
                        f.length && h.push({
                            elem: j,
                            handlers: f
                        });
                    }
            return j = this, i < b.length && h.push({
                elem: j,
                handlers: b.slice(i)
            }), h;
        },
        addProp: function(a, b) {
            Object.defineProperty(r.Event.prototype, a, {
                enumerable: !0,
                configurable: !0,
                get: r.isFunction(b) ? function() {
                    if (this.originalEvent) return b(this.originalEvent);
                } : function() {
                    if (this.originalEvent) return this.originalEvent[a];
                },
                set: function(b) {
                    Object.defineProperty(this, a, {
                        enumerable: !0,
                        configurable: !0,
                        writable: !0,
                        value: b
                    });
                }
            });
        },
        fix: function(a) {
            return a[r.expando] ? a : new r.Event(a);
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function() {
                    if (this !== xa() && this.focus) return this.focus(), !1;
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    if (this === xa() && this.blur) return this.blur(), !1;
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    if ("checkbox" === this.type && this.click && B(this, "input")) return this.click(), !1;
                },
                _default: function(a) {
                    return B(a.target, "a");
                }
            },
            beforeunload: {
                postDispatch: function(a) {
                    void 0 !== a.result && a.originalEvent && (a.originalEvent.returnValue = a.result);
                }
            }
        }
    }, r.removeEvent = function(a, b, c) {
        a.removeEventListener && a.removeEventListener(b, c);
    }, r.Event = function(a, b) {
        return this instanceof r.Event ? (a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && a.returnValue === !1 ? va : wa, this.target = a.target && 3 === a.target.nodeType ? a.target.parentNode : a.target, this.currentTarget = a.currentTarget, this.relatedTarget = a.relatedTarget) : this.type = a, b && r.extend(this, b), this.timeStamp = a && a.timeStamp || r.now(), void(this[r.expando] = !0)) : new r.Event(a, b);
    }, r.Event.prototype = {
        constructor: r.Event,
        isDefaultPrevented: wa,
        isPropagationStopped: wa,
        isImmediatePropagationStopped: wa,
        isSimulated: !1,
        preventDefault: function() {
            var a = this.originalEvent;
            this.isDefaultPrevented = va, a && !this.isSimulated && a.preventDefault();
        },
        stopPropagation: function() {
            var a = this.originalEvent;
            this.isPropagationStopped = va, a && !this.isSimulated && a.stopPropagation();
        },
        stopImmediatePropagation: function() {
            var a = this.originalEvent;
            this.isImmediatePropagationStopped = va, a && !this.isSimulated && a.stopImmediatePropagation(), this.stopPropagation();
        }
    }, r.each({
        altKey: !0,
        bubbles: !0,
        cancelable: !0,
        changedTouches: !0,
        ctrlKey: !0,
        detail: !0,
        eventPhase: !0,
        metaKey: !0,
        pageX: !0,
        pageY: !0,
        shiftKey: !0,
        view: !0,
        "char": !0,
        charCode: !0,
        key: !0,
        keyCode: !0,
        button: !0,
        buttons: !0,
        clientX: !0,
        clientY: !0,
        offsetX: !0,
        offsetY: !0,
        pointerId: !0,
        pointerType: !0,
        screenX: !0,
        screenY: !0,
        targetTouches: !0,
        toElement: !0,
        touches: !0,
        which: function(a) {
            var b = a.button;
            return null == a.which && sa.test(a.type) ? null != a.charCode ? a.charCode : a.keyCode : !a.which && void 0 !== b && ta.test(a.type) ? 1 & b ? 1 : 2 & b ? 3 : 4 & b ? 2 : 0 : a.which;
        }
    }, r.event.addProp), r.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function(a, b) {
        r.event.special[a] = {
            delegateType: b,
            bindType: b,
            handle: function(a) {
                var c, d = this,
                    e = a.relatedTarget,
                    f = a.handleObj;
                return e && (e === d || r.contains(d, e)) || (a.type = f.origType, c = f.handler.apply(this, arguments), a.type = b), c;
            }
        };
    }), r.fn.extend({
        on: function(a, b, c, d) {
            return ya(this, a, b, c, d);
        },
        one: function(a, b, c, d) {
            return ya(this, a, b, c, d, 1);
        },
        off: function(a, b, c) {
            var d, e;
            if (a && a.preventDefault && a.handleObj) return d = a.handleObj, r(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d.origType, d.selector, d.handler), this;
            if ("object" == typeof a) {
                for (e in a) this.off(e, b, a[e]);
                return this;
            }
            return b !== !1 && "function" != typeof b || (c = b, b = void 0), c === !1 && (c = wa), this.each(function() {
                r.event.remove(this, a, c, b);
            });
        }
    });
    var za = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,
        Aa = /<script|<style|<link/i,
        Ba = /checked\s*(?:[^=]|=\s*.checked.)/i,
        Ca = /^true\/(.*)/,
        Da = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;

    function Ea(a, b) {
        return B(a, "table") && B(11 !== b.nodeType ? b : b.firstChild, "tr") ? r(">tbody", a)[0] || a : a;
    }

    function Fa(a) {
        return a.type = (null !== a.getAttribute("type")) + "/" + a.type, a;
    }

    function Ga(a) {
        var b = Ca.exec(a.type);
        return b ? a.type = b[1] : a.removeAttribute("type"), a;
    }

    function Ha(a, b) {
        var c, d, e, f, g, h, i, j;
        if (1 === b.nodeType) {
            if (W.hasData(a) && (f = W.access(a), g = W.set(b, f), j = f.events)) {
                delete g.handle, g.events = {};
                for (e in j)
                    for (c = 0, d = j[e].length; c < d; c++) r.event.add(b, e, j[e][c]);
            }
            X.hasData(a) && (h = X.access(a), i = r.extend({}, h), X.set(b, i));
        }
    }

    function Ia(a, b) {
        var c = b.nodeName.toLowerCase();
        "input" === c && ja.test(a.type) ? b.checked = a.checked : "input" !== c && "textarea" !== c || (b.defaultValue = a.defaultValue);
    }

    function Ja(a, b, c, d) {
        b = g.apply([], b);
        var e, f, h, i, j, k, l = 0,
            m = a.length,
            n = m - 1,
            q = b[0],
            s = r.isFunction(q);
        if (s || m > 1 && "string" == typeof q && !o.checkClone && Ba.test(q)) return a.each(function(e) {
            var f = a.eq(e);
            s && (b[0] = q.call(this, e, f.html())), Ja(f, b, c, d);
        });
        if (m && (e = qa(b, a[0].ownerDocument, !1, a, d), f = e.firstChild, 1 === e.childNodes.length && (e = f), f || d)) {
            for (h = r.map(na(e, "script"), Fa), i = h.length; l < m; l++) j = e, l !== n && (j = r.clone(j, !0, !0), i && r.merge(h, na(j, "script"))), c.call(a[l], j, l);
            if (i)
                for (k = h[h.length - 1].ownerDocument, r.map(h, Ga), l = 0; l < i; l++) j = h[l], la.test(j.type || "") && !W.access(j, "globalEval") && r.contains(k, j) && (j.src ? r._evalUrl && r._evalUrl(j.src) : p(j.textContent.replace(Da, ""), k));
        }
        return a;
    }

    function Ka(a, b, c) {
        for (var d, e = b ? r.filter(b, a) : a, f = 0; null != (d = e[f]); f++) c || 1 !== d.nodeType || r.cleanData(na(d)), d.parentNode && (c && r.contains(d.ownerDocument, d) && oa(na(d, "script")), d.parentNode.removeChild(d));
        return a;
    }
    r.extend({
        htmlPrefilter: function(a) {
            return a.replace(za, "<$1></$2>");
        },
        clone: function(a, b, c) {
            var d, e, f, g, h = a.cloneNode(!0),
                i = r.contains(a.ownerDocument, a);
            if (!(o.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || r.isXMLDoc(a)))
                for (g = na(h), f = na(a), d = 0, e = f.length; d < e; d++) Ia(f[d], g[d]);
            if (b)
                if (c)
                    for (f = f || na(a), g = g || na(h), d = 0, e = f.length; d < e; d++) Ha(f[d], g[d]);
                else Ha(a, h);
            return g = na(h, "script"), g.length > 0 && oa(g, !i && na(a, "script")), h;
        },
        cleanData: function(a) {
            for (var b, c, d, e = r.event.special, f = 0; void 0 !== (c = a[f]); f++)
                if (U(c)) {
                    if (b = c[W.expando]) {
                        if (b.events)
                            for (d in b.events) e[d] ? r.event.remove(c, d) : r.removeEvent(c, d, b.handle);
                        c[W.expando] = void 0;
                    }
                    c[X.expando] && (c[X.expando] = void 0);
                }
        }
    }), r.fn.extend({
        detach: function(a) {
            return Ka(this, a, !0);
        },
        remove: function(a) {
            return Ka(this, a);
        },
        text: function(a) {
            return T(this, function(a) {
                return void 0 === a ? r.text(this) : this.empty().each(function() {
                    1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = a);
                });
            }, null, a, arguments.length);
        },
        append: function() {
            return Ja(this, arguments, function(a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = Ea(this, a);
                    b.appendChild(a);
                }
            });
        },
        prepend: function() {
            return Ja(this, arguments, function(a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = Ea(this, a);
                    b.insertBefore(a, b.firstChild);
                }
            });
        },
        before: function() {
            return Ja(this, arguments, function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this);
            });
        },
        after: function() {
            return Ja(this, arguments, function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this.nextSibling);
            });
        },
        empty: function() {
            for (var a, b = 0; null != (a = this[b]); b++) 1 === a.nodeType && (r.cleanData(na(a, !1)), a.textContent = "");
            return this;
        },
        clone: function(a, b) {
            return a = null != a && a, b = null == b ? a : b, this.map(function() {
                return r.clone(this, a, b);
            });
        },
        html: function(a) {
            return T(this, function(a) {
                var b = this[0] || {},
                    c = 0,
                    d = this.length;
                if (void 0 === a && 1 === b.nodeType) return b.innerHTML;
                if ("string" == typeof a && !Aa.test(a) && !ma[(ka.exec(a) || ["", ""])[1].toLowerCase()]) {
                    a = r.htmlPrefilter(a);
                    try {
                        for (; c < d; c++) b = this[c] || {}, 1 === b.nodeType && (r.cleanData(na(b, !1)), b.innerHTML = a);
                        b = 0;
                    } catch (e) {}
                }
                b && this.empty().append(a);
            }, null, a, arguments.length);
        },
        replaceWith: function() {
            var a = [];
            return Ja(this, arguments, function(b) {
                var c = this.parentNode;
                r.inArray(this, a) < 0 && (r.cleanData(na(this)), c && c.replaceChild(b, this));
            }, a);
        }
    }), r.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(a, b) {
        r.fn[a] = function(a) {
            for (var c, d = [], e = r(a), f = e.length - 1, g = 0; g <= f; g++) c = g === f ? this : this.clone(!0), r(e[g])[b](c), h.apply(d, c.get());
            return this.pushStack(d);
        };
    });
    var La = /^margin/,
        Ma = new RegExp("^(" + aa + ")(?!px)[a-z%]+$", "i"),
        Na = function(b) {
            var c = b.ownerDocument.defaultView;
            return c && c.opener || (c = a), c.getComputedStyle(b);
        };
    ! function() {
        function b() {
            if (i) {
                i.style.cssText = "box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%", i.innerHTML = "", ra.appendChild(h);
                var b = a.getComputedStyle(i);
                c = "1%" !== b.top, g = "2px" === b.marginLeft, e = "4px" === b.width, i.style.marginRight = "50%", f = "4px" === b.marginRight, ra.removeChild(h), i = null;
            }
        }
        var c, e, f, g, h = d.createElement("div"),
            i = d.createElement("div");
        i.style && (i.style.backgroundClip = "content-box", i.cloneNode(!0).style.backgroundClip = "", o.clearCloneStyle = "content-box" === i.style.backgroundClip, h.style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute", h.appendChild(i), r.extend(o, {
            pixelPosition: function() {
                return b(), c;
            },
            boxSizingReliable: function() {
                return b(), e;
            },
            pixelMarginRight: function() {
                return b(), f;
            },
            reliableMarginLeft: function() {
                return b(), g;
            }
        }));
    }();

    function Oa(a, b, c) {
        var d, e, f, g, h = a.style;
        return c = c || Na(a), c && (g = c.getPropertyValue(b) || c[b], "" !== g || r.contains(a.ownerDocument, a) || (g = r.style(a, b)), !o.pixelMarginRight() && Ma.test(g) && La.test(b) && (d = h.width, e = h.minWidth, f = h.maxWidth, h.minWidth = h.maxWidth = h.width = g, g = c.width, h.width = d, h.minWidth = e, h.maxWidth = f)), void 0 !== g ? g + "" : g;
    }

    function Pa(a, b) {
        return {
            get: function() {
                return a() ? void delete this.get : (this.get = b).apply(this, arguments);
            }
        };
    }
    var Qa = /^(none|table(?!-c[ea]).+)/,
        Ra = /^--/,
        Sa = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        },
        Ta = {
            letterSpacing: "0",
            fontWeight: "400"
        },
        Ua = ["Webkit", "Moz", "ms"],
        Va = d.createElement("div").style;

    function Wa(a) {
        if (a in Va) return a;
        var b = a[0].toUpperCase() + a.slice(1),
            c = Ua.length;
        while (c--)
            if (a = Ua[c] + b, a in Va) return a;
    }

    function Xa(a) {
        var b = r.cssProps[a];
        return b || (b = r.cssProps[a] = Wa(a) || a), b;
    }

    function Ya(a, b, c) {
        var d = ba.exec(b);
        return d ? Math.max(0, d[2] - (c || 0)) + (d[3] || "px") : b;
    }

    function Za(a, b, c, d, e) {
        var f, g = 0;
        for (f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0; f < 4; f += 2) "margin" === c && (g += r.css(a, c + ca[f], !0, e)), d ? ("content" === c && (g -= r.css(a, "padding" + ca[f], !0, e)), "margin" !== c && (g -= r.css(a, "border" + ca[f] + "Width", !0, e))) : (g += r.css(a, "padding" + ca[f], !0, e), "padding" !== c && (g += r.css(a, "border" + ca[f] + "Width", !0, e)));
        return g;
    }

    function $a(a, b, c) {
        var d, e = Na(a),
            f = Oa(a, b, e),
            g = "border-box" === r.css(a, "boxSizing", !1, e);
        return Ma.test(f) ? f : (d = g && (o.boxSizingReliable() || f === a.style[b]), "auto" === f && (f = a["offset" + b[0].toUpperCase() + b.slice(1)]), f = parseFloat(f) || 0, f + Za(a, b, c || (g ? "border" : "content"), d, e) + "px");
    }
    r.extend({
        cssHooks: {
            opacity: {
                get: function(a, b) {
                    if (b) {
                        var c = Oa(a, "opacity");
                        return "" === c ? "1" : c;
                    }
                }
            }
        },
        cssNumber: {
            animationIterationCount: !0,
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": "cssFloat"
        },
        style: function(a, b, c, d) {
            if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
                var e, f, g, h = r.camelCase(b),
                    i = Ra.test(b),
                    j = a.style;
                return i || (b = Xa(h)), g = r.cssHooks[b] || r.cssHooks[h], void 0 === c ? g && "get" in g && void 0 !== (e = g.get(a, !1, d)) ? e : j[b] : (f = typeof c, "string" === f && (e = ba.exec(c)) && e[1] && (c = fa(a, b, e), f = "number"), null != c && c === c && ("number" === f && (c += e && e[3] || (r.cssNumber[h] ? "" : "px")), o.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (j[b] = "inherit"), g && "set" in g && void 0 === (c = g.set(a, c, d)) || (i ? j.setProperty(b, c) : j[b] = c)), void 0);
            }
        },
        css: function(a, b, c, d) {
            var e, f, g, h = r.camelCase(b),
                i = Ra.test(b);
            return i || (b = Xa(h)), g = r.cssHooks[b] || r.cssHooks[h], g && "get" in g && (e = g.get(a, !0, c)), void 0 === e && (e = Oa(a, b, d)), "normal" === e && b in Ta && (e = Ta[b]), "" === c || c ? (f = parseFloat(e), c === !0 || isFinite(f) ? f || 0 : e) : e;
        }
    }), r.each(["height", "width"], function(a, b) {
        r.cssHooks[b] = {
            get: function(a, c, d) {
                if (c) return !Qa.test(r.css(a, "display")) || a.getClientRects().length && a.getBoundingClientRect().width ? $a(a, b, d) : ea(a, Sa, function() {
                    return $a(a, b, d);
                });
            },
            set: function(a, c, d) {
                var e, f = d && Na(a),
                    g = d && Za(a, b, d, "border-box" === r.css(a, "boxSizing", !1, f), f);
                return g && (e = ba.exec(c)) && "px" !== (e[3] || "px") && (a.style[b] = c, c = r.css(a, b)), Ya(a, c, g);
            }
        };
    }), r.cssHooks.marginLeft = Pa(o.reliableMarginLeft, function(a, b) {
        if (b) return (parseFloat(Oa(a, "marginLeft")) || a.getBoundingClientRect().left - ea(a, {
            marginLeft: 0
        }, function() {
            return a.getBoundingClientRect().left;
        })) + "px";
    }), r.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(a, b) {
        r.cssHooks[a + b] = {
            expand: function(c) {
                for (var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c]; d < 4; d++) e[a + ca[d] + b] = f[d] || f[d - 2] || f[0];
                return e;
            }
        }, La.test(a) || (r.cssHooks[a + b].set = Ya);
    }), r.fn.extend({
        css: function(a, b) {
            return T(this, function(a, b, c) {
                var d, e, f = {},
                    g = 0;
                if (Array.isArray(b)) {
                    for (d = Na(a), e = b.length; g < e; g++) f[b[g]] = r.css(a, b[g], !1, d);
                    return f;
                }
                return void 0 !== c ? r.style(a, b, c) : r.css(a, b);
            }, a, b, arguments.length > 1);
        }
    });

    function _a(a, b, c, d, e) {
        return new _a.prototype.init(a, b, c, d, e);
    }
    r.Tween = _a, _a.prototype = {
        constructor: _a,
        init: function(a, b, c, d, e, f) {
            this.elem = a, this.prop = c, this.easing = e || r.easing._default, this.options = b, this.start = this.now = this.cur(), this.end = d, this.unit = f || (r.cssNumber[c] ? "" : "px");
        },
        cur: function() {
            var a = _a.propHooks[this.prop];
            return a && a.get ? a.get(this) : _a.propHooks._default.get(this);
        },
        run: function(a) {
            var b, c = _a.propHooks[this.prop];
            return this.options.duration ? this.pos = b = r.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : this.pos = b = a, this.now = (this.end - this.start) * b + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), c && c.set ? c.set(this) : _a.propHooks._default.set(this), this;
        }
    }, _a.prototype.init.prototype = _a.prototype, _a.propHooks = {
        _default: {
            get: function(a) {
                var b;
                return 1 !== a.elem.nodeType || null != a.elem[a.prop] && null == a.elem.style[a.prop] ? a.elem[a.prop] : (b = r.css(a.elem, a.prop, ""), b && "auto" !== b ? b : 0);
            },
            set: function(a) {
                r.fx.step[a.prop] ? r.fx.step[a.prop](a) : 1 !== a.elem.nodeType || null == a.elem.style[r.cssProps[a.prop]] && !r.cssHooks[a.prop] ? a.elem[a.prop] = a.now : r.style(a.elem, a.prop, a.now + a.unit);
            }
        }
    }, _a.propHooks.scrollTop = _a.propHooks.scrollLeft = {
        set: function(a) {
            a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now);
        }
    }, r.easing = {
        linear: function(a) {
            return a;
        },
        swing: function(a) {
            return .5 - Math.cos(a * Math.PI) / 2;
        },
        _default: "swing"
    }, r.fx = _a.prototype.init, r.fx.step = {};
    var ab, bb, cb = /^(?:toggle|show|hide)$/,
        db = /queueHooks$/;

    function eb() {
        bb && (d.hidden === !1 && a.requestAnimationFrame ? a.requestAnimationFrame(eb) : a.setTimeout(eb, r.fx.interval), r.fx.tick());
    }

    function fb() {
        return a.setTimeout(function() {
            ab = void 0;
        }), ab = r.now();
    }

    function gb(a, b) {
        var c, d = 0,
            e = {
                height: a
            };
        for (b = b ? 1 : 0; d < 4; d += 2 - b) c = ca[d], e["margin" + c] = e["padding" + c] = a;
        return b && (e.opacity = e.width = a), e;
    }

    function hb(a, b, c) {
        for (var d, e = (kb.tweeners[b] || []).concat(kb.tweeners["*"]), f = 0, g = e.length; f < g; f++)
            if (d = e[f].call(c, b, a)) return d;
    }

    function ib(a, b, c) {
        var d, e, f, g, h, i, j, k, l = "width" in b || "height" in b,
            m = this,
            n = {},
            o = a.style,
            p = a.nodeType && da(a),
            q = W.get(a, "fxshow");
        c.queue || (g = r._queueHooks(a, "fx"), null == g.unqueued && (g.unqueued = 0, h = g.empty.fire, g.empty.fire = function() {
            g.unqueued || h();
        }), g.unqueued++, m.always(function() {
            m.always(function() {
                g.unqueued--, r.queue(a, "fx").length || g.empty.fire();
            });
        }));
        for (d in b)
            if (e = b[d], cb.test(e)) {
                if (delete b[d], f = f || "toggle" === e, e === (p ? "hide" : "show")) {
                    if ("show" !== e || !q || void 0 === q[d]) continue;
                    p = !0;
                }
                n[d] = q && q[d] || r.style(a, d);
            }
        if (i = !r.isEmptyObject(b), i || !r.isEmptyObject(n)) {
            l && 1 === a.nodeType && (c.overflow = [o.overflow, o.overflowX, o.overflowY], j = q && q.display, null == j && (j = W.get(a, "display")), k = r.css(a, "display"), "none" === k && (j ? k = j : (ia([a], !0), j = a.style.display || j, k = r.css(a, "display"), ia([a]))), ("inline" === k || "inline-block" === k && null != j) && "none" === r.css(a, "float") && (i || (m.done(function() {
                o.display = j;
            }), null == j && (k = o.display, j = "none" === k ? "" : k)), o.display = "inline-block")), c.overflow && (o.overflow = "hidden", m.always(function() {
                o.overflow = c.overflow[0], o.overflowX = c.overflow[1], o.overflowY = c.overflow[2];
            })), i = !1;
            for (d in n) i || (q ? "hidden" in q && (p = q.hidden) : q = W.access(a, "fxshow", {
                display: j
            }), f && (q.hidden = !p), p && ia([a], !0), m.done(function() {
                p || ia([a]), W.remove(a, "fxshow");
                for (d in n) r.style(a, d, n[d]);
            })), i = hb(p ? q[d] : 0, d, m), d in q || (q[d] = i.start, p && (i.end = i.start, i.start = 0));
        }
    }

    function jb(a, b) {
        var c, d, e, f, g;
        for (c in a)
            if (d = r.camelCase(c), e = b[d], f = a[c], Array.isArray(f) && (e = f[1], f = a[c] = f[0]), c !== d && (a[d] = f, delete a[c]), g = r.cssHooks[d], g && "expand" in g) {
                f = g.expand(f), delete a[d];
                for (c in f) c in a || (a[c] = f[c], b[c] = e);
            } else b[d] = e;
    }

    function kb(a, b, c) {
        var d, e, f = 0,
            g = kb.prefilters.length,
            h = r.Deferred().always(function() {
                delete i.elem;
            }),
            i = function() {
                if (e) return !1;
                for (var b = ab || fb(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length; g < i; g++) j.tweens[g].run(f);
                return h.notifyWith(a, [j, f, c]), f < 1 && i ? c : (i || h.notifyWith(a, [j, 1, 0]), h.resolveWith(a, [j]), !1);
            },
            j = h.promise({
                elem: a,
                props: r.extend({}, b),
                opts: r.extend(!0, {
                    specialEasing: {},
                    easing: r.easing._default
                }, c),
                originalProperties: b,
                originalOptions: c,
                startTime: ab || fb(),
                duration: c.duration,
                tweens: [],
                createTween: function(b, c) {
                    var d = r.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing);
                    return j.tweens.push(d), d;
                },
                stop: function(b) {
                    var c = 0,
                        d = b ? j.tweens.length : 0;
                    if (e) return this;
                    for (e = !0; c < d; c++) j.tweens[c].run(1);
                    return b ? (h.notifyWith(a, [j, 1, 0]), h.resolveWith(a, [j, b])) : h.rejectWith(a, [j, b]), this;
                }
            }),
            k = j.props;
        for (jb(k, j.opts.specialEasing); f < g; f++)
            if (d = kb.prefilters[f].call(j, a, k, j.opts)) return r.isFunction(d.stop) && (r._queueHooks(j.elem, j.opts.queue).stop = r.proxy(d.stop, d)), d;
        return r.map(k, hb, j), r.isFunction(j.opts.start) && j.opts.start.call(a, j), j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always), r.fx.timer(r.extend(i, {
            elem: a,
            anim: j,
            queue: j.opts.queue
        })), j;
    }
    r.Animation = r.extend(kb, {
            tweeners: {
                "*": [function(a, b) {
                    var c = this.createTween(a, b);
                    return fa(c.elem, a, ba.exec(b), c), c;
                }]
            },
            tweener: function(a, b) {
                r.isFunction(a) ? (b = a, a = ["*"]) : a = a.match(L);
                for (var c, d = 0, e = a.length; d < e; d++) c = a[d], kb.tweeners[c] = kb.tweeners[c] || [], kb.tweeners[c].unshift(b);
            },
            prefilters: [ib],
            prefilter: function(a, b) {
                b ? kb.prefilters.unshift(a) : kb.prefilters.push(a);
            }
        }), r.speed = function(a, b, c) {
            var d = a && "object" == typeof a ? r.extend({}, a) : {
                complete: c || !c && b || r.isFunction(a) && a,
                duration: a,
                easing: c && b || b && !r.isFunction(b) && b
            };
            return r.fx.off ? d.duration = 0 : "number" != typeof d.duration && (d.duration in r.fx.speeds ? d.duration = r.fx.speeds[d.duration] : d.duration = r.fx.speeds._default), null != d.queue && d.queue !== !0 || (d.queue = "fx"), d.old = d.complete, d.complete = function() {
                r.isFunction(d.old) && d.old.call(this), d.queue && r.dequeue(this, d.queue);
            }, d;
        }, r.fn.extend({
            fadeTo: function(a, b, c, d) {
                return this.filter(da).css("opacity", 0).show().end().animate({
                    opacity: b
                }, a, c, d);
            },
            animate: function(a, b, c, d) {
                var e = r.isEmptyObject(a),
                    f = r.speed(b, c, d),
                    g = function() {
                        var b = kb(this, r.extend({}, a), f);
                        (e || W.get(this, "finish")) && b.stop(!0);
                    };
                return g.finish = g, e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g);
            },
            stop: function(a, b, c) {
                var d = function(a) {
                    var b = a.stop;
                    delete a.stop, b(c);
                };
                return "string" != typeof a && (c = b, b = a, a = void 0), b && a !== !1 && this.queue(a || "fx", []), this.each(function() {
                    var b = !0,
                        e = null != a && a + "queueHooks",
                        f = r.timers,
                        g = W.get(this);
                    if (e) g[e] && g[e].stop && d(g[e]);
                    else
                        for (e in g) g[e] && g[e].stop && db.test(e) && d(g[e]);
                    for (e = f.length; e--;) f[e].elem !== this || null != a && f[e].queue !== a || (f[e].anim.stop(c), b = !1, f.splice(e, 1));
                    !b && c || r.dequeue(this, a);
                });
            },
            finish: function(a) {
                return a !== !1 && (a = a || "fx"), this.each(function() {
                    var b, c = W.get(this),
                        d = c[a + "queue"],
                        e = c[a + "queueHooks"],
                        f = r.timers,
                        g = d ? d.length : 0;
                    for (c.finish = !0, r.queue(this, a, []), e && e.stop && e.stop.call(this, !0), b = f.length; b--;) f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0), f.splice(b, 1));
                    for (b = 0; b < g; b++) d[b] && d[b].finish && d[b].finish.call(this);
                    delete c.finish;
                });
            }
        }), r.each(["toggle", "show", "hide"], function(a, b) {
            var c = r.fn[b];
            r.fn[b] = function(a, d, e) {
                return null == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(gb(b, !0), a, d, e);
            };
        }), r.each({
            slideDown: gb("show"),
            slideUp: gb("hide"),
            slideToggle: gb("toggle"),
            fadeIn: {
                opacity: "show"
            },
            fadeOut: {
                opacity: "hide"
            },
            fadeToggle: {
                opacity: "toggle"
            }
        }, function(a, b) {
            r.fn[a] = function(a, c, d) {
                return this.animate(b, a, c, d);
            };
        }), r.timers = [], r.fx.tick = function() {
            var a, b = 0,
                c = r.timers;
            for (ab = r.now(); b < c.length; b++) a = c[b], a() || c[b] !== a || c.splice(b--, 1);
            c.length || r.fx.stop(), ab = void 0;
        }, r.fx.timer = function(a) {
            r.timers.push(a), r.fx.start();
        }, r.fx.interval = 13, r.fx.start = function() {
            bb || (bb = !0, eb());
        }, r.fx.stop = function() {
            bb = null;
        }, r.fx.speeds = {
            slow: 600,
            fast: 200,
            _default: 400
        }, r.fn.delay = function(b, c) {
            return b = r.fx ? r.fx.speeds[b] || b : b, c = c || "fx", this.queue(c, function(c, d) {
                var e = a.setTimeout(c, b);
                d.stop = function() {
                    a.clearTimeout(e);
                };
            });
        },
        function() {
            var a = d.createElement("input"),
                b = d.createElement("select"),
                c = b.appendChild(d.createElement("option"));
            a.type = "checkbox", o.checkOn = "" !== a.value, o.optSelected = c.selected, a = d.createElement("input"), a.value = "t", a.type = "radio", o.radioValue = "t" === a.value;
        }();
    var lb, mb = r.expr.attrHandle;
    r.fn.extend({
        attr: function(a, b) {
            return T(this, r.attr, a, b, arguments.length > 1);
        },
        removeAttr: function(a) {
            return this.each(function() {
                r.removeAttr(this, a);
            });
        }
    }), r.extend({
        attr: function(a, b, c) {
            var d, e, f = a.nodeType;
            if (3 !== f && 8 !== f && 2 !== f) return "undefined" == typeof a.getAttribute ? r.prop(a, b, c) : (1 === f && r.isXMLDoc(a) || (e = r.attrHooks[b.toLowerCase()] || (r.expr.match.bool.test(b) ? lb : void 0)), void 0 !== c ? null === c ? void r.removeAttr(a, b) : e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : (a.setAttribute(b, c + ""), c) : e && "get" in e && null !== (d = e.get(a, b)) ? d : (d = r.find.attr(a, b), null == d ? void 0 : d));
        },
        attrHooks: {
            type: {
                set: function(a, b) {
                    if (!o.radioValue && "radio" === b && B(a, "input")) {
                        var c = a.value;
                        return a.setAttribute("type", b), c && (a.value = c), b;
                    }
                }
            }
        },
        removeAttr: function(a, b) {
            var c, d = 0,
                e = b && b.match(L);
            if (e && 1 === a.nodeType)
                while (c = e[d++]) a.removeAttribute(c);
        }
    }), lb = {
        set: function(a, b, c) {
            return b === !1 ? r.removeAttr(a, c) : a.setAttribute(c, c), c;
        }
    }, r.each(r.expr.match.bool.source.match(/\w+/g), function(a, b) {
        var c = mb[b] || r.find.attr;
        mb[b] = function(a, b, d) {
            var e, f, g = b.toLowerCase();
            return d || (f = mb[g], mb[g] = e, e = null != c(a, b, d) ? g : null, mb[g] = f), e;
        };
    });
    var nb = /^(?:input|select|textarea|button)$/i,
        ob = /^(?:a|area)$/i;
    r.fn.extend({
        prop: function(a, b) {
            return T(this, r.prop, a, b, arguments.length > 1);
        },
        removeProp: function(a) {
            return this.each(function() {
                delete this[r.propFix[a] || a];
            });
        }
    }), r.extend({
        prop: function(a, b, c) {
            var d, e, f = a.nodeType;
            if (3 !== f && 8 !== f && 2 !== f) return 1 === f && r.isXMLDoc(a) || (b = r.propFix[b] || b, e = r.propHooks[b]), void 0 !== c ? e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && "get" in e && null !== (d = e.get(a, b)) ? d : a[b];
        },
        propHooks: {
            tabIndex: {
                get: function(a) {
                    var b = r.find.attr(a, "tabindex");
                    return b ? parseInt(b, 10) : nb.test(a.nodeName) || ob.test(a.nodeName) && a.href ? 0 : -1;
                }
            }
        },
        propFix: {
            "for": "htmlFor",
            "class": "className"
        }
    }), o.optSelected || (r.propHooks.selected = {
        get: function(a) {
            var b = a.parentNode;
            return b && b.parentNode && b.parentNode.selectedIndex, null;
        },
        set: function(a) {
            var b = a.parentNode;
            b && (b.selectedIndex, b.parentNode && b.parentNode.selectedIndex);
        }
    }), r.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
        r.propFix[this.toLowerCase()] = this;
    });

    function pb(a) {
        var b = a.match(L) || [];
        return b.join(" ");
    }

    function qb(a) {
        return a.getAttribute && a.getAttribute("class") || "";
    }
    r.fn.extend({
        addClass: function(a) {
            var b, c, d, e, f, g, h, i = 0;
            if (r.isFunction(a)) return this.each(function(b) {
                r(this).addClass(a.call(this, b, qb(this)));
            });
            if ("string" == typeof a && a) {
                b = a.match(L) || [];
                while (c = this[i++])
                    if (e = qb(c), d = 1 === c.nodeType && " " + pb(e) + " ") {
                        g = 0;
                        while (f = b[g++]) d.indexOf(" " + f + " ") < 0 && (d += f + " ");
                        h = pb(d), e !== h && c.setAttribute("class", h);
                    }
            }
            return this;
        },
        removeClass: function(a) {
            var b, c, d, e, f, g, h, i = 0;
            if (r.isFunction(a)) return this.each(function(b) {
                r(this).removeClass(a.call(this, b, qb(this)));
            });
            if (!arguments.length) return this.attr("class", "");
            if ("string" == typeof a && a) {
                b = a.match(L) || [];
                while (c = this[i++])
                    if (e = qb(c), d = 1 === c.nodeType && " " + pb(e) + " ") {
                        g = 0;
                        while (f = b[g++])
                            while (d.indexOf(" " + f + " ") > -1) d = d.replace(" " + f + " ", " ");
                        h = pb(d), e !== h && c.setAttribute("class", h);
                    }
            }
            return this;
        },
        toggleClass: function(a, b) {
            var c = typeof a;
            return "boolean" == typeof b && "string" === c ? b ? this.addClass(a) : this.removeClass(a) : r.isFunction(a) ? this.each(function(c) {
                r(this).toggleClass(a.call(this, c, qb(this), b), b);
            }) : this.each(function() {
                var b, d, e, f;
                if ("string" === c) {
                    d = 0, e = r(this), f = a.match(L) || [];
                    while (b = f[d++]) e.hasClass(b) ? e.removeClass(b) : e.addClass(b);
                } else void 0 !== a && "boolean" !== c || (b = qb(this), b && W.set(this, "__className__", b), this.setAttribute && this.setAttribute("class", b || a === !1 ? "" : W.get(this, "__className__") || ""));
            });
        },
        hasClass: function(a) {
            var b, c, d = 0;
            b = " " + a + " ";
            while (c = this[d++])
                if (1 === c.nodeType && (" " + pb(qb(c)) + " ").indexOf(b) > -1) return !0;
            return !1;
        }
    });
    var rb = /\r/g;
    r.fn.extend({
        val: function(a) {
            var b, c, d, e = this[0]; {
                if (arguments.length) return d = r.isFunction(a), this.each(function(c) {
                    var e;
                    1 === this.nodeType && (e = d ? a.call(this, c, r(this).val()) : a, null == e ? e = "" : "number" == typeof e ? e += "" : Array.isArray(e) && (e = r.map(e, function(a) {
                        return null == a ? "" : a + "";
                    })), b = r.valHooks[this.type] || r.valHooks[this.nodeName.toLowerCase()], b && "set" in b && void 0 !== b.set(this, e, "value") || (this.value = e));
                });
                if (e) return b = r.valHooks[e.type] || r.valHooks[e.nodeName.toLowerCase()], b && "get" in b && void 0 !== (c = b.get(e, "value")) ? c : (c = e.value, "string" == typeof c ? c.replace(rb, "") : null == c ? "" : c);
            }
        }
    }), r.extend({
        valHooks: {
            option: {
                get: function(a) {
                    var b = r.find.attr(a, "value");
                    return null != b ? b : pb(r.text(a));
                }
            },
            select: {
                get: function(a) {
                    var b, c, d, e = a.options,
                        f = a.selectedIndex,
                        g = "select-one" === a.type,
                        h = g ? null : [],
                        i = g ? f + 1 : e.length;
                    for (d = f < 0 ? i : g ? f : 0; d < i; d++)
                        if (c = e[d], (c.selected || d === f) && !c.disabled && (!c.parentNode.disabled || !B(c.parentNode, "optgroup"))) {
                            if (b = r(c).val(), g) return b;
                            h.push(b);
                        }
                    return h;
                },
                set: function(a, b) {
                    var c, d, e = a.options,
                        f = r.makeArray(b),
                        g = e.length;
                    while (g--) d = e[g], (d.selected = r.inArray(r.valHooks.option.get(d), f) > -1) && (c = !0);
                    return c || (a.selectedIndex = -1), f;
                }
            }
        }
    }), r.each(["radio", "checkbox"], function() {
        r.valHooks[this] = {
            set: function(a, b) {
                if (Array.isArray(b)) return a.checked = r.inArray(r(a).val(), b) > -1;
            }
        }, o.checkOn || (r.valHooks[this].get = function(a) {
            return null === a.getAttribute("value") ? "on" : a.value;
        });
    });
    var sb = /^(?:focusinfocus|focusoutblur)$/;
    r.extend(r.event, {
        trigger: function(b, c, e, f) {
            var g, h, i, j, k, m, n, o = [e || d],
                p = l.call(b, "type") ? b.type : b,
                q = l.call(b, "namespace") ? b.namespace.split(".") : [];
            if (h = i = e = e || d, 3 !== e.nodeType && 8 !== e.nodeType && !sb.test(p + r.event.triggered) && (p.indexOf(".") > -1 && (q = p.split("."), p = q.shift(), q.sort()), k = p.indexOf(":") < 0 && "on" + p, b = b[r.expando] ? b : new r.Event(p, "object" == typeof b && b), b.isTrigger = f ? 2 : 3, b.namespace = q.join("."), b.rnamespace = b.namespace ? new RegExp("(^|\\.)" + q.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, b.result = void 0, b.target || (b.target = e), c = null == c ? [b] : r.makeArray(c, [b]), n = r.event.special[p] || {}, f || !n.trigger || n.trigger.apply(e, c) !== !1)) {
                if (!f && !n.noBubble && !r.isWindow(e)) {
                    for (j = n.delegateType || p, sb.test(j + p) || (h = h.parentNode); h; h = h.parentNode) o.push(h), i = h;
                    i === (e.ownerDocument || d) && o.push(i.defaultView || i.parentWindow || a);
                }
                g = 0;
                while ((h = o[g++]) && !b.isPropagationStopped()) b.type = g > 1 ? j : n.bindType || p, m = (W.get(h, "events") || {})[b.type] && W.get(h, "handle"), m && m.apply(h, c), m = k && h[k], m && m.apply && U(h) && (b.result = m.apply(h, c), b.result === !1 && b.preventDefault());
                return b.type = p, f || b.isDefaultPrevented() || n._default && n._default.apply(o.pop(), c) !== !1 || !U(e) || k && r.isFunction(e[p]) && !r.isWindow(e) && (i = e[k], i && (e[k] = null), r.event.triggered = p, e[p](), r.event.triggered = void 0, i && (e[k] = i)), b.result;
            }
        },
        simulate: function(a, b, c) {
            var d = r.extend(new r.Event(), c, {
                type: a,
                isSimulated: !0
            });
            r.event.trigger(d, null, b);
        }
    }), r.fn.extend({
        trigger: function(a, b) {
            return this.each(function() {
                r.event.trigger(a, b, this);
            });
        },
        triggerHandler: function(a, b) {
            var c = this[0];
            if (c) return r.event.trigger(a, b, c, !0);
        }
    }), r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function(a, b) {
        r.fn[b] = function(a, c) {
            return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b);
        };
    }), r.fn.extend({
        hover: function(a, b) {
            return this.mouseenter(a).mouseleave(b || a);
        }
    }), o.focusin = "onfocusin" in a, o.focusin || r.each({
        focus: "focusin",
        blur: "focusout"
    }, function(a, b) {
        var c = function(a) {
            r.event.simulate(b, a.target, r.event.fix(a));
        };
        r.event.special[b] = {
            setup: function() {
                var d = this.ownerDocument || this,
                    e = W.access(d, b);
                e || d.addEventListener(a, c, !0), W.access(d, b, (e || 0) + 1);
            },
            teardown: function() {
                var d = this.ownerDocument || this,
                    e = W.access(d, b) - 1;
                e ? W.access(d, b, e) : (d.removeEventListener(a, c, !0), W.remove(d, b));
            }
        };
    });
    var tb = a.location,
        ub = r.now(),
        vb = /\?/;
    r.parseXML = function(b) {
        var c;
        if (!b || "string" != typeof b) return null;
        try {
            c = new a.DOMParser().parseFromString(b, "text/xml");
        } catch (d) {
            c = void 0;
        }
        return c && !c.getElementsByTagName("parsererror").length || r.error("Invalid XML: " + b), c;
    };
    var wb = /\[\]$/,
        xb = /\r?\n/g,
        yb = /^(?:submit|button|image|reset|file)$/i,
        zb = /^(?:input|select|textarea|keygen)/i;

    function Ab(a, b, c, d) {
        var e;
        if (Array.isArray(b)) r.each(b, function(b, e) {
            c || wb.test(a) ? d(a, e) : Ab(a + "[" + ("object" == typeof e && null != e ? b : "") + "]", e, c, d);
        });
        else if (c || "object" !== r.type(b)) d(a, b);
        else
            for (e in b) Ab(a + "[" + e + "]", b[e], c, d);
    }
    r.param = function(a, b) {
        var c, d = [],
            e = function(a, b) {
                var c = r.isFunction(b) ? b() : b;
                d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(null == c ? "" : c);
            };
        if (Array.isArray(a) || a.jquery && !r.isPlainObject(a)) r.each(a, function() {
            e(this.name, this.value);
        });
        else
            for (c in a) Ab(c, a[c], b, e);
        return d.join("&");
    }, r.fn.extend({
        serialize: function() {
            return r.param(this.serializeArray());
        },
        serializeArray: function() {
            return this.map(function() {
                var a = r.prop(this, "elements");
                return a ? r.makeArray(a) : this;
            }).filter(function() {
                var a = this.type;
                return this.name && !r(this).is(":disabled") && zb.test(this.nodeName) && !yb.test(a) && (this.checked || !ja.test(a));
            }).map(function(a, b) {
                var c = r(this).val();
                return null == c ? null : Array.isArray(c) ? r.map(c, function(a) {
                    return {
                        name: b.name,
                        value: a.replace(xb, "\r\n")
                    };
                }) : {
                    name: b.name,
                    value: c.replace(xb, "\r\n")
                };
            }).get();
        }
    });
    var Bb = /%20/g,
        Cb = /#.*$/,
        Db = /([?&])_=[^&]*/,
        Eb = /^(.*?):[ \t]*([^\r\n]*)$/gm,
        Fb = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
        Gb = /^(?:GET|HEAD)$/,
        Hb = /^\/\//,
        Ib = {},
        Jb = {},
        Kb = "*/".concat("*"),
        Lb = d.createElement("a");
    Lb.href = tb.href;

    function Mb(a) {
        return function(b, c) {
            "string" != typeof b && (c = b, b = "*");
            var d, e = 0,
                f = b.toLowerCase().match(L) || [];
            if (r.isFunction(c))
                while (d = f[e++]) "+" === d[0] ? (d = d.slice(1) || "*", (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c);
        };
    }

    function Nb(a, b, c, d) {
        var e = {},
            f = a === Jb;

        function g(h) {
            var i;
            return e[h] = !0, r.each(a[h] || [], function(a, h) {
                var j = h(b, c, d);
                return "string" != typeof j || f || e[j] ? f ? !(i = j) : void 0 : (b.dataTypes.unshift(j), g(j), !1);
            }), i;
        }
        return g(b.dataTypes[0]) || !e["*"] && g("*");
    }

    function Ob(a, b) {
        var c, d, e = r.ajaxSettings.flatOptions || {};
        for (c in b) void 0 !== b[c] && ((e[c] ? a : d || (d = {}))[c] = b[c]);
        return d && r.extend(!0, a, d), a;
    }

    function Pb(a, b, c) {
        var d, e, f, g, h = a.contents,
            i = a.dataTypes;
        while ("*" === i[0]) i.shift(), void 0 === d && (d = a.mimeType || b.getResponseHeader("Content-Type"));
        if (d)
            for (e in h)
                if (h[e] && h[e].test(d)) {
                    i.unshift(e);
                    break;
                }
        if (i[0] in c) f = i[0];
        else {
            for (e in c) {
                if (!i[0] || a.converters[e + " " + i[0]]) {
                    f = e;
                    break;
                }
                g || (g = e);
            }
            f = f || g;
        }
        if (f) return f !== i[0] && i.unshift(f), c[f];
    }

    function Qb(a, b, c, d) {
        var e, f, g, h, i, j = {},
            k = a.dataTypes.slice();
        if (k[1])
            for (g in a.converters) j[g.toLowerCase()] = a.converters[g];
        f = k.shift();
        while (f)
            if (a.responseFields[f] && (c[a.responseFields[f]] = b), !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)), i = f, f = k.shift())
                if ("*" === f) f = i;
                else if ("*" !== i && i !== f) {
            if (g = j[i + " " + f] || j["* " + f], !g)
                for (e in j)
                    if (h = e.split(" "), h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) {
                        g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0], k.unshift(h[1]));
                        break;
                    }
            if (g !== !0)
                if (g && a["throws"]) b = g(b);
                else try {
                    b = g(b);
                } catch (l) {
                    return {
                        state: "parsererror",
                        error: g ? l : "No conversion from " + i + " to " + f
                    };
                }
        }
        return {
            state: "success",
            data: b
        };
    }
    r.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: tb.href,
            type: "GET",
            isLocal: Fb.test(tb.protocol),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": Kb,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /\bxml\b/,
                html: /\bhtml/,
                json: /\bjson\b/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": JSON.parse,
                "text xml": r.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(a, b) {
            return b ? Ob(Ob(a, r.ajaxSettings), b) : Ob(r.ajaxSettings, a);
        },
        ajaxPrefilter: Mb(Ib),
        ajaxTransport: Mb(Jb),
        ajax: function(b, c) {
            "object" == typeof b && (c = b, b = void 0), c = c || {};
            var e, f, g, h, i, j, k, l, m, n, o = r.ajaxSetup({}, c),
                p = o.context || o,
                q = o.context && (p.nodeType || p.jquery) ? r(p) : r.event,
                s = r.Deferred(),
                t = r.Callbacks("once memory"),
                u = o.statusCode || {},
                v = {},
                w = {},
                x = "canceled",
                y = {
                    readyState: 0,
                    getResponseHeader: function(a) {
                        var b;
                        if (k) {
                            if (!h) {
                                h = {};
                                while (b = Eb.exec(g)) h[b[1].toLowerCase()] = b[2];
                            }
                            b = h[a.toLowerCase()];
                        }
                        return null == b ? null : b;
                    },
                    getAllResponseHeaders: function() {
                        return k ? g : null;
                    },
                    setRequestHeader: function(a, b) {
                        return null == k && (a = w[a.toLowerCase()] = w[a.toLowerCase()] || a, v[a] = b), this;
                    },
                    overrideMimeType: function(a) {
                        return null == k && (o.mimeType = a), this;
                    },
                    statusCode: function(a) {
                        var b;
                        if (a)
                            if (k) y.always(a[y.status]);
                            else
                                for (b in a) u[b] = [u[b], a[b]];
                        return this;
                    },
                    abort: function(a) {
                        var b = a || x;
                        return e && e.abort(b), A(0, b), this;
                    }
                };
            if (s.promise(y), o.url = ((b || o.url || tb.href) + "").replace(Hb, tb.protocol + "//"), o.type = c.method || c.type || o.method || o.type, o.dataTypes = (o.dataType || "*").toLowerCase().match(L) || [""], null == o.crossDomain) {
                j = d.createElement("a");
                try {
                    j.href = o.url, j.href = j.href, o.crossDomain = Lb.protocol + "//" + Lb.host != j.protocol + "//" + j.host;
                } catch (z) {
                    o.crossDomain = !0;
                }
            }
            if (o.data && o.processData && "string" != typeof o.data && (o.data = r.param(o.data, o.traditional)), Nb(Ib, o, c, y), k) return y;
            l = r.event && o.global, l && 0 === r.active++ && r.event.trigger("ajaxStart"), o.type = o.type.toUpperCase(), o.hasContent = !Gb.test(o.type), f = o.url.replace(Cb, ""), o.hasContent ? o.data && o.processData && 0 === (o.contentType || "").indexOf("application/x-www-form-urlencoded") && (o.data = o.data.replace(Bb, "+")) : (n = o.url.slice(f.length), o.data && (f += (vb.test(f) ? "&" : "?") + o.data, delete o.data), o.cache === !1 && (f = f.replace(Db, "$1"), n = (vb.test(f) ? "&" : "?") + "_=" + ub++ + n), o.url = f + n), o.ifModified && (r.lastModified[f] && y.setRequestHeader("If-Modified-Since", r.lastModified[f]), r.etag[f] && y.setRequestHeader("If-None-Match", r.etag[f])), (o.data && o.hasContent && o.contentType !== !1 || c.contentType) && y.setRequestHeader("Content-Type", o.contentType), y.setRequestHeader("Accept", o.dataTypes[0] && o.accepts[o.dataTypes[0]] ? o.accepts[o.dataTypes[0]] + ("*" !== o.dataTypes[0] ? ", " + Kb + "; q=0.01" : "") : o.accepts["*"]);
            for (m in o.headers) y.setRequestHeader(m, o.headers[m]);
            if (o.beforeSend && (o.beforeSend.call(p, y, o) === !1 || k)) return y.abort();
            if (x = "abort", t.add(o.complete), y.done(o.success), y.fail(o.error), e = Nb(Jb, o, c, y)) {
                if (y.readyState = 1, l && q.trigger("ajaxSend", [y, o]), k) return y;
                o.async && o.timeout > 0 && (i = a.setTimeout(function() {
                    y.abort("timeout");
                }, o.timeout));
                try {
                    k = !1, e.send(v, A);
                } catch (z) {
                    if (k) throw z;
                    A(-1, z);
                }
            } else A(-1, "No Transport");

            function A(b, c, d, h) {
                var j, m, n, v, w, x = c;
                k || (k = !0, i && a.clearTimeout(i), e = void 0, g = h || "", y.readyState = b > 0 ? 4 : 0, j = b >= 200 && b < 300 || 304 === b, d && (v = Pb(o, y, d)), v = Qb(o, v, y, j), j ? (o.ifModified && (w = y.getResponseHeader("Last-Modified"), w && (r.lastModified[f] = w), w = y.getResponseHeader("etag"), w && (r.etag[f] = w)), 204 === b || "HEAD" === o.type ? x = "nocontent" : 304 === b ? x = "notmodified" : (x = v.state, m = v.data, n = v.error, j = !n)) : (n = x, !b && x || (x = "error", b < 0 && (b = 0))), y.status = b, y.statusText = (c || x) + "", j ? s.resolveWith(p, [m, x, y]) : s.rejectWith(p, [y, x, n]), y.statusCode(u), u = void 0, l && q.trigger(j ? "ajaxSuccess" : "ajaxError", [y, o, j ? m : n]), t.fireWith(p, [y, x]), l && (q.trigger("ajaxComplete", [y, o]), --r.active || r.event.trigger("ajaxStop")));
            }
            return y;
        },
        getJSON: function(a, b, c) {
            return r.get(a, b, c, "json");
        },
        getScript: function(a, b) {
            return r.get(a, void 0, b, "script");
        }
    }), r.each(["get", "post"], function(a, b) {
        r[b] = function(a, c, d, e) {
            return r.isFunction(c) && (e = e || d, d = c, c = void 0), r.ajax(r.extend({
                url: a,
                type: b,
                dataType: e,
                data: c,
                success: d
            }, r.isPlainObject(a) && a));
        };
    }), r._evalUrl = function(a) {
        return r.ajax({
            url: a,
            type: "GET",
            dataType: "script",
            cache: !0,
            async: !1,
            global: !1,
            "throws": !0
        });
    }, r.fn.extend({
        wrapAll: function(a) {
            var b;
            return this[0] && (r.isFunction(a) && (a = a.call(this[0])), b = r(a, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && b.insertBefore(this[0]), b.map(function() {
                var a = this;
                while (a.firstElementChild) a = a.firstElementChild;
                return a;
            }).append(this)), this;
        },
        wrapInner: function(a) {
            return r.isFunction(a) ? this.each(function(b) {
                r(this).wrapInner(a.call(this, b));
            }) : this.each(function() {
                var b = r(this),
                    c = b.contents();
                c.length ? c.wrapAll(a) : b.append(a);
            });
        },
        wrap: function(a) {
            var b = r.isFunction(a);
            return this.each(function(c) {
                r(this).wrapAll(b ? a.call(this, c) : a);
            });
        },
        unwrap: function(a) {
            return this.parent(a).not("body").each(function() {
                r(this).replaceWith(this.childNodes);
            }), this;
        }
    }), r.expr.pseudos.hidden = function(a) {
        return !r.expr.pseudos.visible(a);
    }, r.expr.pseudos.visible = function(a) {
        return !!(a.offsetWidth || a.offsetHeight || a.getClientRects().length);
    }, r.ajaxSettings.xhr = function() {
        try {
            return new a.XMLHttpRequest();
        } catch (b) {}
    };
    var Rb = {
            0: 200,
            1223: 204
        },
        Sb = r.ajaxSettings.xhr();
    o.cors = !!Sb && "withCredentials" in Sb, o.ajax = Sb = !!Sb, r.ajaxTransport(function(b) {
        var c, d;
        if (o.cors || Sb && !b.crossDomain) return {
            send: function(e, f) {
                var g, h = b.xhr();
                if (h.open(b.type, b.url, b.async, b.username, b.password), b.xhrFields)
                    for (g in b.xhrFields) h[g] = b.xhrFields[g];
                b.mimeType && h.overrideMimeType && h.overrideMimeType(b.mimeType), b.crossDomain || e["X-Requested-With"] || (e["X-Requested-With"] = "XMLHttpRequest");
                for (g in e) h.setRequestHeader(g, e[g]);
                c = function(a) {
                    return function() {
                        c && (c = d = h.onload = h.onerror = h.onabort = h.onreadystatechange = null, "abort" === a ? h.abort() : "error" === a ? "number" != typeof h.status ? f(0, "error") : f(h.status, h.statusText) : f(Rb[h.status] || h.status, h.statusText, "text" !== (h.responseType || "text") || "string" != typeof h.responseText ? {
                            binary: h.response
                        } : {
                            text: h.responseText
                        }, h.getAllResponseHeaders()));
                    };
                }, h.onload = c(), d = h.onerror = c("error"), void 0 !== h.onabort ? h.onabort = d : h.onreadystatechange = function() {
                    4 === h.readyState && a.setTimeout(function() {
                        c && d();
                    });
                }, c = c("abort");
                try {
                    h.send(b.hasContent && b.data || null);
                } catch (i) {
                    if (c) throw i;
                }
            },
            abort: function() {
                c && c();
            }
        };
    }), r.ajaxPrefilter(function(a) {
        a.crossDomain && (a.contents.script = !1);
    }), r.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /\b(?:java|ecma)script\b/
        },
        converters: {
            "text script": function(a) {
                return r.globalEval(a), a;
            }
        }
    }), r.ajaxPrefilter("script", function(a) {
        void 0 === a.cache && (a.cache = !1), a.crossDomain && (a.type = "GET");
    }), r.ajaxTransport("script", function(a) {
        if (a.crossDomain) {
            var b, c;
            return {
                send: function(e, f) {
                    b = r("<script>").prop({
                        charset: a.scriptCharset,
                        src: a.url
                    }).on("load error", c = function(a) {
                        b.remove(), c = null, a && f("error" === a.type ? 404 : 200, a.type);
                    }), d.head.appendChild(b[0]);
                },
                abort: function() {
                    c && c();
                }
            };
        }
    });
    var Tb = [],
        Ub = /(=)\?(?=&|$)|\?\?/;
    r.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var a = Tb.pop() || r.expando + "_" + ub++;
            return this[a] = !0, a;
        }
    }), r.ajaxPrefilter("json jsonp", function(b, c, d) {
        var e, f, g, h = b.jsonp !== !1 && (Ub.test(b.url) ? "url" : "string" == typeof b.data && 0 === (b.contentType || "").indexOf("application/x-www-form-urlencoded") && Ub.test(b.data) && "data");
        if (h || "jsonp" === b.dataTypes[0]) return e = b.jsonpCallback = r.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback, h ? b[h] = b[h].replace(Ub, "$1" + e) : b.jsonp !== !1 && (b.url += (vb.test(b.url) ? "&" : "?") + b.jsonp + "=" + e), b.converters["script json"] = function() {
            return g || r.error(e + " was not called"), g[0];
        }, b.dataTypes[0] = "json", f = a[e], a[e] = function() {
            g = arguments;
        }, d.always(function() {
            void 0 === f ? r(a).removeProp(e) : a[e] = f, b[e] && (b.jsonpCallback = c.jsonpCallback, Tb.push(e)), g && r.isFunction(f) && f(g[0]), g = f = void 0;
        }), "script";
    }), o.createHTMLDocument = function() {
        var a = d.implementation.createHTMLDocument("").body;
        return a.innerHTML = "<form></form><form></form>", 2 === a.childNodes.length;
    }(), r.parseHTML = function(a, b, c) {
        if ("string" != typeof a) return [];
        "boolean" == typeof b && (c = b, b = !1);
        var e, f, g;
        return b || (o.createHTMLDocument ? (b = d.implementation.createHTMLDocument(""), e = b.createElement("base"), e.href = d.location.href, b.head.appendChild(e)) : b = d), f = C.exec(a), g = !c && [], f ? [b.createElement(f[1])] : (f = qa([a], b, g), g && g.length && r(g).remove(), r.merge([], f.childNodes));
    }, r.fn.load = function(a, b, c) {
        var d, e, f, g = this,
            h = a.indexOf(" ");
        return h > -1 && (d = pb(a.slice(h)), a = a.slice(0, h)), r.isFunction(b) ? (c = b, b = void 0) : b && "object" == typeof b && (e = "POST"), g.length > 0 && r.ajax({
            url: a,
            type: e || "GET",
            dataType: "html",
            data: b
        }).done(function(a) {
            f = arguments, g.html(d ? r("<div>").append(r.parseHTML(a)).find(d) : a);
        }).always(c && function(a, b) {
            g.each(function() {
                c.apply(this, f || [a.responseText, b, a]);
            });
        }), this;
    }, r.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(a, b) {
        r.fn[b] = function(a) {
            return this.on(b, a);
        };
    }), r.expr.pseudos.animated = function(a) {
        return r.grep(r.timers, function(b) {
            return a === b.elem;
        }).length;
    }, r.offset = {
        setOffset: function(a, b, c) {
            var d, e, f, g, h, i, j, k = r.css(a, "position"),
                l = r(a),
                m = {};
            "static" === k && (a.style.position = "relative"), h = l.offset(), f = r.css(a, "top"), i = r.css(a, "left"), j = ("absolute" === k || "fixed" === k) && (f + i).indexOf("auto") > -1, j ? (d = l.position(), g = d.top, e = d.left) : (g = parseFloat(f) || 0, e = parseFloat(i) || 0), r.isFunction(b) && (b = b.call(a, c, r.extend({}, h))), null != b.top && (m.top = b.top - h.top + g), null != b.left && (m.left = b.left - h.left + e), "using" in b ? b.using.call(a, m) : l.css(m);
        }
    }, r.fn.extend({
        offset: function(a) {
            if (arguments.length) return void 0 === a ? this : this.each(function(b) {
                r.offset.setOffset(this, a, b);
            });
            var b, c, d, e, f = this[0];
            if (f) return f.getClientRects().length ? (d = f.getBoundingClientRect(), b = f.ownerDocument, c = b.documentElement, e = b.defaultView, {
                top: d.top + e.pageYOffset - c.clientTop,
                left: d.left + e.pageXOffset - c.clientLeft
            }) : {
                top: 0,
                left: 0
            };
        },
        position: function() {
            if (this[0]) {
                var a, b, c = this[0],
                    d = {
                        top: 0,
                        left: 0
                    };
                return "fixed" === r.css(c, "position") ? b = c.getBoundingClientRect() : (a = this.offsetParent(), b = this.offset(), B(a[0], "html") || (d = a.offset()), d = {
                    top: d.top + r.css(a[0], "borderTopWidth", !0),
                    left: d.left + r.css(a[0], "borderLeftWidth", !0)
                }), {
                    top: b.top - d.top - r.css(c, "marginTop", !0),
                    left: b.left - d.left - r.css(c, "marginLeft", !0)
                };
            }
        },
        offsetParent: function() {
            return this.map(function() {
                var a = this.offsetParent;
                while (a && "static" === r.css(a, "position")) a = a.offsetParent;
                return a || ra;
            });
        }
    }), r.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(a, b) {
        var c = "pageYOffset" === b;
        r.fn[a] = function(d) {
            return T(this, function(a, d, e) {
                var f;
                return r.isWindow(a) ? f = a : 9 === a.nodeType && (f = a.defaultView), void 0 === e ? f ? f[b] : a[d] : void(f ? f.scrollTo(c ? f.pageXOffset : e, c ? e : f.pageYOffset) : a[d] = e);
            }, a, d, arguments.length);
        };
    }), r.each(["top", "left"], function(a, b) {
        r.cssHooks[b] = Pa(o.pixelPosition, function(a, c) {
            if (c) return c = Oa(a, b), Ma.test(c) ? r(a).position()[b] + "px" : c;
        });
    }), r.each({
        Height: "height",
        Width: "width"
    }, function(a, b) {
        r.each({
            padding: "inner" + a,
            content: b,
            "": "outer" + a
        }, function(c, d) {
            r.fn[d] = function(e, f) {
                var g = arguments.length && (c || "boolean" != typeof e),
                    h = c || (e === !0 || f === !0 ? "margin" : "border");
                return T(this, function(b, c, e) {
                    var f;
                    return r.isWindow(b) ? 0 === d.indexOf("outer") ? b["inner" + a] : b.document.documentElement["client" + a] : 9 === b.nodeType ? (f = b.documentElement, Math.max(b.body["scroll" + a], f["scroll" + a], b.body["offset" + a], f["offset" + a], f["client" + a])) : void 0 === e ? r.css(b, c, h) : r.style(b, c, e, h);
                }, b, g ? e : void 0, g);
            };
        });
    }), r.fn.extend({
        bind: function(a, b, c) {
            return this.on(a, null, b, c);
        },
        unbind: function(a, b) {
            return this.off(a, null, b);
        },
        delegate: function(a, b, c, d) {
            return this.on(b, a, c, d);
        },
        undelegate: function(a, b, c) {
            return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c);
        }
    }), r.holdReady = function(a) {
        a ? r.readyWait++ : r.ready(!0);
    }, r.isArray = Array.isArray, r.parseJSON = JSON.parse, r.nodeName = B, "function" == typeof define && define.amd && define("jquery", [], function() {
        return r;
    });
    var Vb = a.jQuery,
        Wb = a.$;
    return r.noConflict = function(b) {
        return a.$ === r && (a.$ = Wb), b && a.jQuery === r && (a.jQuery = Vb), r;
    }, b || (a.jQuery = a.$ = r), r;
});
(function(s) {
    var w, f = {},
        o = window,
        l = console,
        m = Math,
        z = 'postMessage',
        p = 0,
        r = 'hasOwnProperty',
        y = [].slice,
        x = 'fail',
        v = o.Worker;

    function d() {
        do {
            p = 0x7FFFFFFF > p ? p + 1 : 0;
        } while (f[r](p));
        return p;
    }
    if (!/MSIE 10/i.test(navigator.userAgent)) {
        try {
            s = o.URL.createObjectURL(new Blob(["var f={},p=postMessage,r='hasOwnProperty';onmessage=function(e){var d=e.data,i=d.i,t=d[r]('t')?d.t:0;switch(d.n){case'a':f[i]=setInterval(function(){p(i)},t);break;case'b':if(f[r](i)){clearInterval(f[i]);delete f[i]}break;case'c':f[i]=setTimeout(function(){p(i);if(f[r](i))delete f[i]},t);break;case'd':if(f[r](i)){clearTimeout(f[i]);delete f[i]}break}}"]));
        } catch (e) {}
    }
    if (typeof v !== 'undefined') {
        try {
            w = new v(s);
            o.setInterval = function(c, t) {
                var i = d();
                f[i] = {
                    c: c,
                    p: y.call(arguments, 2)
                };
                w[z]({
                    n: 'a',
                    i: i,
                    t: t
                });
                return i;
            };
            o.clearInterval = function(i) {
                if (f[r](i)) delete f[i], w[z]({
                    n: 'b',
                    i: i
                });
            };
            o.setTimeout = function(c, t) {
                var i = d();
                f[i] = {
                    c: c,
                    p: y.call(arguments, 2),
                    t: !0
                };
                w[z]({
                    n: 'c',
                    i: i,
                    t: t
                });
                return i;
            };
            o.clearTimeout = function(i) {
                if (f[r](i)) delete f[i], w[z]({
                    n: 'd',
                    i: i
                });
            };
            w.onmessage = function(e) {
                var i = e.data,
                    c, n;
                if (f[r](i)) {
                    n = f[i];
                    c = n.c;
                    if (n[r]('t')) delete f[i];
                }
                if (typeof c == 'string') try {
                    c = new Function(c);
                } catch (k) {}
                if (typeof c == 'function') c.apply(o, n.p);
            };
        } catch (e) {
            l.log(x);
        }
    } else l.log(x);
})('HackTimerWorker.min.js');
(function(e) {
    typeof define == "function" && define.amd ? define(["jquery"], e) : typeof module == "object" && module.exports ? module.exports = function(t, n) {
        return n === undefined && (typeof window != "undefined" ? n = require("jquery") : n = require("jquery")(t)), e(n), n;
    } : e(jQuery);
})(function(e) {
    function A(t, n, i) {
        typeof i == "string" && (i = {
            className: i
        }), this.options = E(w, e.isPlainObject(i) ? i : {}), this.loadHTML(), this.wrapper = e(h.html), this.options.clickToHide && this.wrapper.addClass(r + "-hidable"), this.wrapper.data(r, this), this.arrow = this.wrapper.find("." + r + "-arrow"), this.container = this.wrapper.find("." + r + "-container"), this.container.append(this.userContainer), t && t.length && (this.elementType = t.attr("type"), this.originalElement = t, this.elem = N(t), this.elem.data(r, this), this.elem.before(this.wrapper)), this.container.hide(), this.run(n);
    }
    var t = [].indexOf || function(e) {
            for (var t = 0, n = this.length; t < n; t++)
                if (t in this && this[t] === e) return t;
            return -1;
        },
        n = "notify",
        r = n + "js",
        i = n + "!blank",
        s = {
            t: "top",
            m: "middle",
            b: "bottom",
            l: "left",
            c: "center",
            r: "right"
        },
        o = ["l", "c", "r"],
        u = ["t", "m", "b"],
        a = ["t", "b", "l", "r"],
        f = {
            t: "b",
            m: null,
            b: "t",
            l: "r",
            c: null,
            r: "l"
        },
        l = function(t) {
            var n;
            return n = [], e.each(t.split(/\W+/), function(e, t) {
                var r;
                r = t.toLowerCase().charAt(0);
                if (s[r]) return n.push(r);
            }), n;
        },
        c = {},
        h = {
            name: "core",
            html: '<div class="' + r + '-wrapper">\n	<div class="' + r + '-arrow"></div>\n	<div class="' + r + '-container"></div>\n</div>',
            css: "." + r + "-corner {\n	position: fixed;\n	margin: 5px;\n	z-index: 1050;\n}\n\n." + r + "-corner ." + r + "-wrapper,\n." + r + "-corner ." + r + "-container {\n	position: relative;\n	display: block;\n	height: inherit;\n	width: inherit;\n	margin: 3px;\n}\n\n." + r + "-wrapper {\n	z-index: 1;\n	position: absolute;\n	display: inline-block;\n	height: 0;\n	width: 0;\n}\n\n." + r + "-container {\n	display: none;\n	z-index: 1;\n	position: absolute;\n}\n\n." + r + "-hidable {\n	cursor: pointer;\n}\n\n[data-notify-text],[data-notify-html] {\n	position: relative;\n}\n\n." + r + "-arrow {\n	position: absolute;\n	z-index: 2;\n	width: 0;\n	height: 0;\n}"
        },
        p = {
            "border-radius": ["-webkit-", "-moz-"]
        },
        d = function(e) {
            return c[e];
        },
        v = function(e) {
            if (!e) throw "Missing Style name";
            c[e] && delete c[e];
        },
        m = function(t, i) {
            if (!t) throw "Missing Style name";
            if (!i) throw "Missing Style definition";
            if (!i.html) throw "Missing Style HTML";
            var s = c[t];
            s && s.cssElem && (window.console && console.warn(n + ": overwriting style '" + t + "'"), c[t].cssElem.remove()), i.name = t, c[t] = i;
            var o = "";
            i.classes && e.each(i.classes, function(t, n) {
                return o += "." + r + "-" + i.name + "-" + t + " {\n", e.each(n, function(t, n) {
                    return p[t] && e.each(p[t], function(e, r) {
                        return o += "	" + r + t + ": " + n + ";\n";
                    }), o += "	" + t + ": " + n + ";\n";
                }), o += "}\n";
            }), i.css && (o += "/* styles for " + i.name + " */\n" + i.css), o && (i.cssElem = g(o), i.cssElem.attr("id", "notify-" + i.name));
            var u = {},
                a = e(i.html);
            y("html", a, u), y("text", a, u), i.fields = u;
        },
        g = function(t) {
            var n, r, i;
            r = x("style"), r.attr("type", "text/css"), e("head").append(r);
            try {
                r.html(t);
            } catch (s) {
                r[0].styleSheet.cssText = t;
            }
            return r;
        },
        y = function(t, n, r) {
            var s;
            return t !== "html" && (t = "text"), s = "data-notify-" + t, b(n, "[" + s + "]").each(function() {
                var n;
                n = e(this).attr(s), n || (n = i), r[n] = t;
            });
        },
        b = function(e, t) {
            return e.is(t) ? e : e.find(t);
        },
        w = {
            clickToHide: !0,
            autoHide: !0,
            autoHideDelay: 5e3,
            arrowShow: !0,
            arrowSize: 5,
            breakNewLines: !0,
            elementPosition: "bottom",
            globalPosition: "top right",
            style: "bootstrap",
            className: "error",
            showAnimation: "slideDown",
            showDuration: 400,
            hideAnimation: "slideUp",
            hideDuration: 200,
            gap: 5
        },
        E = function(t, n) {
            var r;
            return r = function() {}, r.prototype = t, e.extend(!0, new r(), n);
        },
        S = function(t) {
            return e.extend(w, t);
        },
        x = function(t) {
            return e("<" + t + "></" + t + ">");
        },
        T = {},
        N = function(t) {
            var n;
            return t.is("[type=radio]") && (n = t.parents("form:first").find("[type=radio]").filter(function(n, r) {
                return e(r).attr("name") === t.attr("name");
            }), t = n.first()), t;
        },
        C = function(e, t, n) {
            var r, i;
            if (typeof n == "string") n = parseInt(n, 10);
            else if (typeof n != "number") return;
            if (isNaN(n)) return;
            return r = s[f[t.charAt(0)]], i = t, e[r] !== undefined && (t = s[r.charAt(0)], n = -n), e[t] === undefined ? e[t] = n : e[t] += n, null;
        },
        k = function(e, t, n) {
            if (e === "l" || e === "t") return 0;
            if (e === "c" || e === "m") return n / 2 - t / 2;
            if (e === "r" || e === "b") return n - t;
            throw "Invalid alignment";
        },
        L = function(e) {
            return L.e = L.e || x("div"), L.e.html(e).html();
        };
    A.prototype.loadHTML = function() {
        var t;
        t = this.getStyle(), this.userContainer = e(t.html), this.userFields = t.fields;
    }, A.prototype.show = function(e, t) {
        var n, r, i, s, o;
        r = function(n) {
            return function() {
                !e && !n.elem && n.destroy();
                if (t) return t();
            };
        }(this), o = this.container.parent().parents(":hidden").length > 0, i = this.container.add(this.arrow), n = [];
        if (o && e) s = "show";
        else if (o && !e) s = "hide";
        else if (!o && e) s = this.options.showAnimation, n.push(this.options.showDuration);
        else {
            if (!!o || !!e) return r();
            s = this.options.hideAnimation, n.push(this.options.hideDuration);
        }
        return n.push(r), i[s].apply(i, n);
    }, A.prototype.setGlobalPosition = function() {
        var t = this.getPosition(),
            n = t[0],
            i = t[1],
            o = s[n],
            u = s[i],
            a = n + "|" + i,
            f = T[a];
        if (!f || !document.body.contains(f[0])) {
            f = T[a] = x("div");
            var l = {};
            l[o] = 0, u === "middle" ? l.top = "45%" : u === "center" ? l.left = "45%" : l[u] = 0, f.css(l).addClass(r + "-corner"), e("body").append(f);
        }
        return f.prepend(this.wrapper);
    }, A.prototype.setElementPosition = function() {
        var n, r, i, l, c, h, p, d, v, m, g, y, b, w, E, S, x, T, N, L, A, O, M, _, D, P, H, B, j;
        H = this.getPosition(), _ = H[0], O = H[1], M = H[2], g = this.elem.position(), d = this.elem.outerHeight(), y = this.elem.outerWidth(), v = this.elem.innerHeight(), m = this.elem.innerWidth(), j = this.wrapper.position(), c = this.container.height(), h = this.container.width(), T = s[_], L = f[_], A = s[L], p = {}, p[A] = _ === "b" ? d : _ === "r" ? y : 0, C(p, "top", g.top - j.top), C(p, "left", g.left - j.left), B = ["top", "left"];
        for (w = 0, S = B.length; w < S; w++) D = B[w], N = parseInt(this.elem.css("margin-" + D), 10), N && C(p, D, N);
        b = Math.max(0, this.options.gap - (this.options.arrowShow ? i : 0)), C(p, A, b);
        if (!this.options.arrowShow) this.arrow.hide();
        else {
            i = this.options.arrowSize, r = e.extend({}, p), n = this.userContainer.css("border-color") || this.userContainer.css("border-top-color") || this.userContainer.css("background-color") || "white";
            for (E = 0, x = a.length; E < x; E++) {
                D = a[E], P = s[D];
                if (D === L) continue;
                l = P === T ? n : "transparent", r["border-" + P] = i + "px solid " + l;
            }
            C(p, s[L], i), t.call(a, O) >= 0 && C(r, s[O], i * 2);
        }
        t.call(u, _) >= 0 ? (C(p, "left", k(O, h, y)), r && C(r, "left", k(O, i, m))) : t.call(o, _) >= 0 && (C(p, "top", k(O, c, d)), r && C(r, "top", k(O, i, v))), this.container.is(":visible") && (p.display = "block"), this.container.removeAttr("style").css(p);
        if (r) return this.arrow.removeAttr("style").css(r);
    }, A.prototype.getPosition = function() {
        var e, n, r, i, s, f, c, h;
        h = this.options.position || (this.elem ? this.options.elementPosition : this.options.globalPosition), e = l(h), e.length === 0 && (e[0] = "b");
        if (n = e[0], t.call(a, n) < 0) throw "Must be one of [" + a + "]";
        if (e.length === 1 || (r = e[0], t.call(u, r) >= 0) && (i = e[1], t.call(o, i) < 0) || (s = e[0], t.call(o, s) >= 0) && (f = e[1], t.call(u, f) < 0)) e[1] = (c = e[0], t.call(o, c) >= 0) ? "m" : "l";
        return e.length === 2 && (e[2] = e[1]), e;
    }, A.prototype.getStyle = function(e) {
        var t;
        e || (e = this.options.style), e || (e = "default"), t = c[e];
        if (!t) throw "Missing style: " + e;
        return t;
    }, A.prototype.updateClasses = function() {
        var t, n;
        return t = ["base"], e.isArray(this.options.className) ? t = t.concat(this.options.className) : this.options.className && t.push(this.options.className), n = this.getStyle(), t = e.map(t, function(e) {
            return r + "-" + n.name + "-" + e;
        }).join(" "), this.userContainer.attr("class", t);
    }, A.prototype.run = function(t, n) {
        var r, s, o, u, a;
        e.isPlainObject(n) ? e.extend(this.options, n) : e.type(n) === "string" && (this.options.className = n);
        if (this.container && !t) {
            this.show(!1);
            return;
        }
        if (!this.container && !t) return;
        s = {}, e.isPlainObject(t) ? s = t : s[i] = t;
        for (o in s) {
            r = s[o], u = this.userFields[o];
            if (!u) continue;
            u === "text" && (r = L(r), this.options.breakNewLines && (r = r.replace(/\n/g, "<br/>"))), a = o === i ? "" : "=" + o, b(this.userContainer, "[data-notify-" + u + a + "]").html(r);
        }
        this.updateClasses(), this.elem ? this.setElementPosition() : this.setGlobalPosition(), this.show(!0), this.options.autoHide && (clearTimeout(this.autohideTimer), this.autohideTimer = setTimeout(this.show.bind(this, !1), this.options.autoHideDelay));
    }, A.prototype.destroy = function() {
        this.wrapper.data(r, null), this.wrapper.remove();
    }, e[n] = function(t, r, i) {
        return t && t.nodeName || t.jquery ? e(t)[n](r, i) : (i = r, r = t, new A(null, r, i)), t;
    }, e.fn[n] = function(t, n) {
        return e(this).each(function() {
            var i = N(e(this)).data(r);
            i && i.destroy();
            var s = new A(e(this), t, n);
        }), this;
    }, e.extend(e[n], {
        defaults: S,
        addStyle: m,
        removeStyle: v,
        pluginOptions: w,
        getStyle: d,
        insertCSS: g
    }), m("bootstrap", {
        html: "<div>\n<span data-notify-text></span>\n</div>",
        classes: {
            base: {
                "font-weight": "bold",
                padding: "8px 15px 8px 14px",
                "text-shadow": "0 1px 0 rgba(255, 255, 255, 0.5)",
                "background-color": "#fcf8e3",
                border: "1px solid #fbeed5",
                "border-radius": "4px",
                "white-space": "nowrap",
                "padding-left": "25px",
                "background-repeat": "no-repeat",
                "background-position": "3px 7px"
            },
            error: {
                color: "#B94A48",
                "background-color": "#F2DEDE",
                "border-color": "#EED3D7",
                "background-image": "url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)"
            },
            success: {
                color: "#468847",
                "background-color": "#DFF0D8",
                "border-color": "#D6E9C6",
                "background-image": "url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)"
            },
            info: {
                color: "#3A87AD",
                "background-color": "#D9EDF7",
                "border-color": "#BCE8F1",
                "background-image": "url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)"
            },
            warn: {
                color: "#C09853",
                "background-color": "#FCF8E3",
                "border-color": "#FBEED5",
                "background-image": "url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)"
            }
        }
    }), e(function() {
        g(h.css).attr("id", "core-notify"), e(document).on("click", "." + r + "-hidable", function(t) {
            e(this).trigger("notify-hide");
        }), e(document).on("notify-hide", "." + r + "-wrapper", function(t) {
            var n = e(this).data(r);
            n && n.show(!1);
        });
    });
});
Number.prototype.zeroFill = function(width) {
    width -= this.toString().length;
    if (width > 0) {
        return new Array(width + (/\./.test(this) ? 2 : 1)).join('0') + this;
    }
    return this + "";
};
Number.prototype.formatMoney = function(c, d, t, sign) {
    let n = this,
        s = n < 0 ? "-" : "",
        i = String(parseInt(n = Math.abs(Number(n) || 0).toFixed(c)));
    j = (j = i.length) > 3 ? j % 3 : 0;
    c = isNaN(c = Math.abs(c)) ? 2 : c;
    d = d == undefined ? "." : d;
    t = t == undefined ? "," : t;
    if (!sign) sign = '';
    return s + sign + (j ? i.substr(0, j) + t : "") + i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : "");
};
Number.prototype.formatCurrency = function(sign) {
    if (user.currency === 'coins') {
        return this.formatMoney(0) + (sign ? T(' coins') : '');
    } else {
        return (this / 1000).formatMoney(2, null, null, '<span class="symbol">$</span>');
    }
};

function arraySum(array) {
    return array.reduce(function(pv, cv) {
        return pv + cv;
    }, 0);
};

function getRandomInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

function getRandomSign() {
    return Math.random() < 0.5 ? -1 : 1;
}

function escapeRegExp(str) {
    return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
}

function shuffle(a) {
    var j, x, i;
    for (i = a.length; i; i--) {
        j = Math.floor(Math.random() * i);
        x = a[i - 1];
        a[i - 1] = a[j];
        a[j] = x;
    }
    return a;
}

function sortByPrice(a, b) {
    return parseFloat(a.price) < parseFloat(b.price) ? 1 : -1;
}

function sortByDataSort(a, b) {
    return parseFloat(a.dataset.sort) < parseFloat(b.dataset.sort) ? 1 : -1;
}

function sortBy(parameter, order) {
    order = order ? order : 'asc';
    let multiplier = 1;
    if (order === 'desc') {
        multiplier = -1;
    }
    return function(a, b) {
        return a.dataset[parameter] > b.dataset[parameter] ? 1 * multiplier : -1 * multiplier;
    };
}

function sortByDataSortAsc(a, b) {
    return parseFloat(a.dataset.sort) > parseFloat(b.dataset.sort) ? 1 : -1;
}
if (!String.linkify) {
    String.prototype.linkify = function() {
        var urlPattern = /\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim;
        var pseudoUrlPattern = /(^|[^\/])(www\.[\S]+(\b|$))/gim;
        return this.replace(urlPattern, '<a href="$&" rel="external">$&</a>').replace(pseudoUrlPattern, '$1<a href="http://$2" rel="external">$2</a>');
    };
}
if (!String.unlinkify) {
    String.prototype.unlinkify = function() {
        var urlPattern = /\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim;
        var pseudoUrlPattern = /(^|[^\/])(www\.[\S]+(\b|$))/gim;
        return this.replace(urlPattern, '[LINK_REMOVED]').replace(pseudoUrlPattern, '$1 [LINK_REMOVED]');
    };
}
$.fn.close = function() {
    if ($(this).hasClass('popup') && $('.popup').length === 1) {
        $('main').removeClass('popped');
    }
    $(this).fadeOut(function() {
        $(this).remove();
    });
    return this;
};
$.fn.cooldown = function(duration) {
    let $btn = this;
    if (duration === 'reload') {
        $('.cooldown', $btn).stop(true).css({
            width: 0
        });
        $btn.attr('disabled', false).removeClass('disabled');
        $('input,textarea,button', $btn).attr('disabled', false).removeClass('disabled');
        return;
    }
    if (!duration) {
        duration = 7000;
    }
    $btn.attr('disabled', true).addClass('disabled');
    $('input,textarea,button', $btn).attr('disabled', true).addClass('disabled');
    if ($('.cooldown', $btn).length === 0) {
        $btn.prepend('<span class="cooldown"></span>');
    }
    $('.cooldown', $btn).stop(true).css({
        width: '100%'
    }).animate({
        width: 0
    }, {
        duration: duration,
        easing: 'linear',
        complete: function(e) {
            $btn.attr('disabled', false).removeClass('disabled');
            $('input,textarea,button', $btn).attr('disabled', false).removeClass('disabled');
        }
    });
    return $btn;
};
$.popup = function(html, options) {
    if (typeof html === 'object') {
        html = $('<div/>').append(html).html();
    }
    $('main').addClass('popped');
    let popup = $('<div class="popup"><div class="flex">' + html + '</div></div>').appendTo('body').fadeIn();
    if (options) {
        if (options.autoclose) {}
        if (!options.permament || options.permament === false) {
            popup.click(function(e) {
                if ($(e.target).parent().hasClass('popup')) {
                    popup.close();
                }
            });
        }
    }
    $('.content', popup).animate({
        top: 0
    }, 800, 'easeOutCubic');
    popup.on('click', '.close', function() {
        popup.close();
        return false;
    });
    return popup;
};
$.fn.loader = function(options) {
    let defaults = {};
    let config = $.extend({}, options, defaults);
    if (config.hide == true) {
        $('.loader', this).close();
    } else {
        this.prepend('<div class="loader"><div class="btn-logo-small"></div></div>');
        if (config.timeout) {
            let that = this;
            setTimeout(function() {
                $('.loader', that).close();
            }, config.timeout);
        }
    }
    return this;
};
jQuery.expr.filters.partoffscreen = function(el) {
    let rect = el.getBoundingClientRect();
    return rect.left < 0 || rect.top < 0 || rect.left + rect.width > window.innerWidth || rect.top + rect.height > window.innerHeight;
};
jQuery.expr.filters.offscreen = function(el) {
    let rect = el.getBoundingClientRect();
    return rect.left + rect.width < 0 || rect.top + rect.height < 0 || rect.left > window.innerWidth || rect.top > window.innerHeight;
};

function nl2br(str, is_xhtml) {
    var breakTag = is_xhtml || typeof is_xhtml === 'undefined' ? '<br />' : '<br>';
    return (str + '').replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g, '$1' + breakTag + '$2');
}
$.fn.extend({
    qcss: function(css) {
        return $(this).queue(function(next) {
            $(this).css(css);
            next();
        });
    },
    qaddClass: function(name) {
        return $(this).queue(function(next) {
            $(this).addClass(name);
            next();
        });
    },
    qremoveClass: function(name) {
        return $(this).queue(function(next) {
            $(this).removeClass(name);
            next();
        });
    }
});
$.fn.countdownClockClear = function() {
    let $this = $(this);
    if ($this.data('countdownClock')) {
        clearInterval($this.data('countdownClock'));
    }
    return $this;
};
$.fn.countdownClock = function(settings) {
    let $this = $(this);
    let time = moment($(this).data('timestamp') * 1000);
    let interval;
    let refresh = function() {
        let seconds = time.diff(moment(), 'seconds');
        if (seconds < 0) {
            clearInterval(interval); //location.reload(true);
        } else {
            let diff = moment.utc(seconds * 1000);
            $('.day', $this).html(Math.floor(seconds / 86400).zeroFill(2));
            $('.hour', $this).html(diff.format('HH'));
            $('.minute', $this).html(diff.format('mm'));
            $('.second', $this).html(diff.format('ss'));
        }
    };
    refresh();
    interval = setInterval(refresh, 1000);
    $this.data('countdownClock', interval);
    return $this;
}; /*! js-cookie v2.1.3 | MIT */
! function(a) {
    var b = !1;
    if ("function" == typeof define && define.amd && (define(a), b = !0), "object" == typeof exports && (module.exports = a(), b = !0), !b) {
        var c = window.Cookies,
            d = window.Cookies = a();
        d.noConflict = function() {
            return window.Cookies = c, d;
        };
    }
}(function() {
    function a() {
        for (var a = 0, b = {}; a < arguments.length; a++) {
            var c = arguments[a];
            for (var d in c) b[d] = c[d];
        }
        return b;
    }

    function b(c) {
        function d(b, e, f) {
            var g;
            if ("undefined" != typeof document) {
                if (arguments.length > 1) {
                    if (f = a({
                            path: "/"
                        }, d.defaults, f), "number" == typeof f.expires) {
                        var h = new Date();
                        h.setMilliseconds(h.getMilliseconds() + 864e5 * f.expires), f.expires = h;
                    }
                    try {
                        g = JSON.stringify(e), /^[\{\[]/.test(g) && (e = g);
                    } catch (i) {}
                    return e = c.write ? c.write(e, b) : encodeURIComponent(e + "").replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), b = encodeURIComponent(b + ""), b = b.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent), b = b.replace(/[\(\)]/g, escape), document.cookie = b + "=" + e + (f.expires ? "; expires=" + f.expires.toUTCString() : "") + (f.path ? "; path=" + f.path : "") + (f.domain ? "; domain=" + f.domain : "") + (f.secure ? "; secure" : "");
                }
                b || (g = {});
                for (var j = document.cookie ? document.cookie.split("; ") : [], k = /(%[0-9A-Z]{2})+/g, l = 0; l < j.length; l++) {
                    var m = j[l].split("="),
                        n = m.slice(1).join("=");
                    '"' === n.charAt(0) && (n = n.slice(1, -1));
                    try {
                        var o = m[0].replace(k, decodeURIComponent);
                        if (n = c.read ? c.read(n, o) : c(n, o) || n.replace(k, decodeURIComponent), this.json) try {
                            n = JSON.parse(n);
                        } catch (i) {}
                        if (b === o) {
                            g = n;
                            break;
                        }
                        b || (g[o] = n);
                    } catch (i) {}
                }
                return g;
            }
        }
        return d.set = d, d.get = function(a) {
            return d.call(d, a);
        }, d.getJSON = function() {
            return d.apply({
                json: !0
            }, [].slice.call(arguments));
        }, d.defaults = {}, d.remove = function(b, c) {
            d(b, "", a(c, {
                expires: -1
            }));
        }, d.withConverter = b, d;
    }
    return b(function() {});
}); // ----------------------------------------------------------------------------
// Buzz, a Javascript HTML5 Audio library
// v1.2.0 - Built 2016-05-22 15:16
// Licensed under the MIT license.
// http://buzz.jaysalvat.com/
// ----------------------------------------------------------------------------
// Copyright (C) 2010-2016 Jay Salvat
// http://jaysalvat.com/
// ----------------------------------------------------------------------------
! function(a, b) {
    "use strict";
    "undefined" != typeof module && module.exports ? module.exports = b() : "function" == typeof define && define.amd ? define([], b) : a.buzz = b();
}(this, function() {
    "use strict";
    var a = window.AudioContext || window.webkitAudioContext,
        b = {
            defaults: {
                autoplay: !1,
                crossOrigin: null,
                duration: 5e3,
                formats: [],
                loop: !1,
                placeholder: "--",
                preload: "metadata",
                volume: 80,
                webAudioApi: !1,
                document: window.document
            },
            types: {
                mp3: "audio/mpeg",
                ogg: "audio/ogg",
                wav: "audio/wav",
                aac: "audio/aac",
                m4a: "audio/x-m4a"
            },
            sounds: [],
            el: document.createElement("audio"),
            getAudioContext: function() {
                if (void 0 === this.audioCtx) try {
                    this.audioCtx = a ? new a() : null;
                } catch (b) {
                    this.audioCtx = null;
                }
                return this.audioCtx;
            },
            sound: function(a, c) {
                function d(a) {
                    for (var b = [], c = a.length - 1, d = 0; c >= d; d++) b.push({
                        start: a.start(d),
                        end: a.end(d)
                    });
                    return b;
                }

                function e(a) {
                    return a.split(".").pop();
                }
                c = c || {};
                var f = c.document || b.defaults.document,
                    g = 0,
                    h = [],
                    i = {},
                    j = b.isSupported();
                if (this.load = function() {
                        return j ? (this.sound.load(), this) : this;
                    }, this.play = function() {
                        return j ? (this.sound.play(), this) : this;
                    }, this.togglePlay = function() {
                        return j ? (this.sound.paused ? this.sound.play() : this.sound.pause(), this) : this;
                    }, this.pause = function() {
                        return j ? (this.sound.pause(), this) : this;
                    }, this.isPaused = function() {
                        return j ? this.sound.paused : null;
                    }, this.stop = function() {
                        return j ? (this.setTime(0), this.sound.pause(), this) : this;
                    }, this.isEnded = function() {
                        return j ? this.sound.ended : null;
                    }, this.loop = function() {
                        return j ? (this.sound.loop = "loop", this.bind("ended.buzzloop", function() {
                            this.currentTime = 0, this.play();
                        }), this) : this;
                    }, this.unloop = function() {
                        return j ? (this.sound.removeAttribute("loop"), this.unbind("ended.buzzloop"), this) : this;
                    }, this.mute = function() {
                        return j ? (this.sound.muted = !0, this) : this;
                    }, this.unmute = function() {
                        return j ? (this.sound.muted = !1, this) : this;
                    }, this.toggleMute = function() {
                        return j ? (this.sound.muted = !this.sound.muted, this) : this;
                    }, this.isMuted = function() {
                        return j ? this.sound.muted : null;
                    }, this.setVolume = function(a) {
                        return j ? (0 > a && (a = 0), a > 100 && (a = 100), this.volume = a, this.sound.volume = a / 100, this) : this;
                    }, this.getVolume = function() {
                        return j ? this.volume : this;
                    }, this.increaseVolume = function(a) {
                        return this.setVolume(this.volume + (a || 1));
                    }, this.decreaseVolume = function(a) {
                        return this.setVolume(this.volume - (a || 1));
                    }, this.setTime = function(a) {
                        if (!j) return this;
                        var b = !0;
                        return this.whenReady(function() {
                            b === !0 && (b = !1, this.sound.currentTime = a);
                        }), this;
                    }, this.getTime = function() {
                        if (!j) return null;
                        var a = Math.round(100 * this.sound.currentTime) / 100;
                        return isNaN(a) ? b.defaults.placeholder : a;
                    }, this.setPercent = function(a) {
                        return j ? this.setTime(b.fromPercent(a, this.sound.duration)) : this;
                    }, this.getPercent = function() {
                        if (!j) return null;
                        var a = Math.round(b.toPercent(this.sound.currentTime, this.sound.duration));
                        return isNaN(a) ? b.defaults.placeholder : a;
                    }, this.setSpeed = function(a) {
                        return j ? (this.sound.playbackRate = a, this) : this;
                    }, this.getSpeed = function() {
                        return j ? this.sound.playbackRate : null;
                    }, this.getDuration = function() {
                        if (!j) return null;
                        var a = Math.round(100 * this.sound.duration) / 100;
                        return isNaN(a) ? b.defaults.placeholder : a;
                    }, this.getPlayed = function() {
                        return j ? d(this.sound.played) : null;
                    }, this.getBuffered = function() {
                        return j ? d(this.sound.buffered) : null;
                    }, this.getSeekable = function() {
                        return j ? d(this.sound.seekable) : null;
                    }, this.getErrorCode = function() {
                        return j && this.sound.error ? this.sound.error.code : 0;
                    }, this.getErrorMessage = function() {
                        if (!j) return null;
                        switch (this.getErrorCode()) {
                            case 1:
                                return "MEDIA_ERR_ABORTED";
                            case 2:
                                return "MEDIA_ERR_NETWORK";
                            case 3:
                                return "MEDIA_ERR_DECODE";
                            case 4:
                                return "MEDIA_ERR_SRC_NOT_SUPPORTED";
                            default:
                                return null;
                        }
                    }, this.getStateCode = function() {
                        return j ? this.sound.readyState : null;
                    }, this.getStateMessage = function() {
                        if (!j) return null;
                        switch (this.getStateCode()) {
                            case 0:
                                return "HAVE_NOTHING";
                            case 1:
                                return "HAVE_METADATA";
                            case 2:
                                return "HAVE_CURRENT_DATA";
                            case 3:
                                return "HAVE_FUTURE_DATA";
                            case 4:
                                return "HAVE_ENOUGH_DATA";
                            default:
                                return null;
                        }
                    }, this.getNetworkStateCode = function() {
                        return j ? this.sound.networkState : null;
                    }, this.getNetworkStateMessage = function() {
                        if (!j) return null;
                        switch (this.getNetworkStateCode()) {
                            case 0:
                                return "NETWORK_EMPTY";
                            case 1:
                                return "NETWORK_IDLE";
                            case 2:
                                return "NETWORK_LOADING";
                            case 3:
                                return "NETWORK_NO_SOURCE";
                            default:
                                return null;
                        }
                    }, this.set = function(a, b) {
                        return j ? (this.sound[a] = b, this) : this;
                    }, this.get = function(a) {
                        return j ? a ? this.sound[a] : this.sound : null;
                    }, this.bind = function(a, b) {
                        if (!j) return this;
                        a = a.split(" ");
                        for (var c = this, d = function(a) {
                                b.call(c, a);
                            }, e = 0; e < a.length; e++) {
                            var f = a[e],
                                g = f;
                            f = g.split(".")[0], h.push({
                                idx: g,
                                func: d
                            }), this.sound.addEventListener(f, d, !0);
                        }
                        return this;
                    }, this.unbind = function(a) {
                        if (!j) return this;
                        a = a.split(" ");
                        for (var b = 0; b < a.length; b++)
                            for (var c = a[b], d = c.split(".")[0], e = 0; e < h.length; e++) {
                                var f = h[e].idx.split(".");
                                (h[e].idx === c || f[1] && f[1] === c.replace(".", "")) && (this.sound.removeEventListener(d, h[e].func, !0), h.splice(e, 1));
                            }
                        return this;
                    }, this.bindOnce = function(a, b) {
                        if (!j) return this;
                        var c = this;
                        return i[g++] = !1, this.bind(a + "." + g, function() {
                            i[g] || (i[g] = !0, b.call(c)), c.unbind(a + "." + g);
                        }), this;
                    }, this.trigger = function(a, b) {
                        if (!j) return this;
                        a = a.split(" ");
                        for (var c = 0; c < a.length; c++)
                            for (var d = a[c], e = 0; e < h.length; e++) {
                                var g = h[e].idx.split(".");
                                if (h[e].idx === d || g[0] && g[0] === d.replace(".", "")) {
                                    var i = f.createEvent("HTMLEvents");
                                    i.initEvent(g[0], !1, !0), i.originalEvent = b, this.sound.dispatchEvent(i);
                                }
                            }
                        return this;
                    }, this.fadeTo = function(a, c, d) {
                        function e() {
                            clearTimeout(f), f = setTimeout(function() {
                                a > g && i.volume < a ? (i.setVolume(i.volume += 1), e()) : g > a && i.volume > a ? (i.setVolume(i.volume -= 1), e()) : d instanceof Function && d.apply(i);
                            }, h);
                        }
                        if (!j) return this;
                        c instanceof Function ? (d = c, c = b.defaults.duration) : c = c || b.defaults.duration;
                        var f, g = this.volume,
                            h = c / Math.abs(g - a),
                            i = this;
                        return this.play(), this.whenReady(function() {
                            e();
                        }), this;
                    }, this.fadeIn = function(a, b) {
                        return j ? this.setVolume(0).fadeTo(100, a, b) : this;
                    }, this.fadeOut = function(a, b) {
                        return j ? this.fadeTo(0, a, b) : this;
                    }, this.fadeWith = function(a, b) {
                        return j ? (this.fadeOut(b, function() {
                            this.stop();
                        }), a.play().fadeIn(b), this) : this;
                    }, this.whenReady = function(a) {
                        if (!j) return null;
                        var b = this;
                        0 === this.sound.readyState ? this.bind("canplay.buzzwhenready", function() {
                            a.call(b);
                        }) : a.call(b);
                    }, this.addSource = function(a) {
                        var c = this,
                            d = f.createElement("source");
                        return d.src = a, b.types[e(a)] && (d.type = b.types[e(a)]), this.sound.appendChild(d), d.addEventListener("error", function(a) {
                            c.trigger("sourceerror", a);
                        }), d;
                    }, j && a) {
                    for (var k in b.defaults) b.defaults.hasOwnProperty(k) && void 0 === c[k] && (c[k] = b.defaults[k]);
                    if (this.sound = f.createElement("audio"), null !== c.crossOrigin && (this.sound.crossOrigin = c.crossOrigin), c.webAudioApi) {
                        var l = b.getAudioContext();
                        l && (this.source = l.createMediaElementSource(this.sound), this.source.connect(l.destination));
                    }
                    if (a instanceof Array)
                        for (var m in a) a.hasOwnProperty(m) && this.addSource(a[m]);
                    else if (c.formats.length)
                        for (var n in c.formats) c.formats.hasOwnProperty(n) && this.addSource(a + "." + c.formats[n]);
                    else this.addSource(a);
                    c.loop && this.loop(), c.autoplay && (this.sound.autoplay = "autoplay"), c.preload === !0 ? this.sound.preload = "auto" : c.preload === !1 ? this.sound.preload = "none" : this.sound.preload = c.preload, this.setVolume(c.volume), b.sounds.push(this);
                }
            },
            group: function(a) {
                function b() {
                    for (var b = c(null, arguments), d = b.shift(), e = 0; e < a.length; e++) a[e][d].apply(a[e], b);
                }

                function c(a, b) {
                    return a instanceof Array ? a : Array.prototype.slice.call(b);
                }
                a = c(a, arguments), this.getSounds = function() {
                    return a;
                }, this.add = function(b) {
                    b = c(b, arguments);
                    for (var d = 0; d < b.length; d++) a.push(b[d]);
                }, this.remove = function(b) {
                    b = c(b, arguments);
                    for (var d = 0; d < b.length; d++)
                        for (var e = 0; e < a.length; e++)
                            if (a[e] === b[d]) {
                                a.splice(e, 1);
                                break;
                            }
                }, this.load = function() {
                    return b("load"), this;
                }, this.play = function() {
                    return b("play"), this;
                }, this.togglePlay = function() {
                    return b("togglePlay"), this;
                }, this.pause = function(a) {
                    return b("pause", a), this;
                }, this.stop = function() {
                    return b("stop"), this;
                }, this.mute = function() {
                    return b("mute"), this;
                }, this.unmute = function() {
                    return b("unmute"), this;
                }, this.toggleMute = function() {
                    return b("toggleMute"), this;
                }, this.setVolume = function(a) {
                    return b("setVolume", a), this;
                }, this.increaseVolume = function(a) {
                    return b("increaseVolume", a), this;
                }, this.decreaseVolume = function(a) {
                    return b("decreaseVolume", a), this;
                }, this.loop = function() {
                    return b("loop"), this;
                }, this.unloop = function() {
                    return b("unloop"), this;
                }, this.setSpeed = function(a) {
                    return b("setSpeed", a), this;
                }, this.setTime = function(a) {
                    return b("setTime", a), this;
                }, this.set = function(a, c) {
                    return b("set", a, c), this;
                }, this.bind = function(a, c) {
                    return b("bind", a, c), this;
                }, this.unbind = function(a) {
                    return b("unbind", a), this;
                }, this.bindOnce = function(a, c) {
                    return b("bindOnce", a, c), this;
                }, this.trigger = function(a) {
                    return b("trigger", a), this;
                }, this.fade = function(a, c, d, e) {
                    return b("fade", a, c, d, e), this;
                }, this.fadeIn = function(a, c) {
                    return b("fadeIn", a, c), this;
                }, this.fadeOut = function(a, c) {
                    return b("fadeOut", a, c), this;
                };
            },
            all: function() {
                return new b.group(b.sounds);
            },
            isSupported: function() {
                return !!b.el.canPlayType;
            },
            isOGGSupported: function() {
                return !!b.el.canPlayType && b.el.canPlayType('audio/ogg; codecs="vorbis"');
            },
            isWAVSupported: function() {
                return !!b.el.canPlayType && b.el.canPlayType('audio/wav; codecs="1"');
            },
            isMP3Supported: function() {
                return !!b.el.canPlayType && b.el.canPlayType("audio/mpeg;");
            },
            isAACSupported: function() {
                return !!b.el.canPlayType && (b.el.canPlayType("audio/x-m4a;") || b.el.canPlayType("audio/aac;"));
            },
            toTimer: function(a, b) {
                var c, d, e;
                return c = Math.floor(a / 3600), c = isNaN(c) ? "--" : c >= 10 ? c : "0" + c, d = b ? Math.floor(a / 60 % 60) : Math.floor(a / 60), d = isNaN(d) ? "--" : d >= 10 ? d : "0" + d, e = Math.floor(a % 60), e = isNaN(e) ? "--" : e >= 10 ? e : "0" + e, b ? c + ":" + d + ":" + e : d + ":" + e;
            },
            fromTimer: function(a) {
                var b = a.toString().split(":");
                return b && 3 === b.length && (a = 3600 * parseInt(b[0], 10) + 60 * parseInt(b[1], 10) + parseInt(b[2], 10)), b && 2 === b.length && (a = 60 * parseInt(b[0], 10) + parseInt(b[1], 10)), a;
            },
            toPercent: function(a, b, c) {
                var d = Math.pow(10, c || 0);
                return Math.round(100 * a / b * d) / d;
            },
            fromPercent: function(a, b, c) {
                var d = Math.pow(10, c || 0);
                return Math.round(b / 100 * a * d) / d;
            }
        };
    return b;
});
! function(e) {
    "use strict";
    var n = function(e, t) {
        var r = /[^\w\-\.:]/.test(e) ? new Function(n.arg + ",tmpl", "var _e=tmpl.encode" + n.helper + ",_s='" + e.replace(n.regexp, n.func) + "';return _s;") : n.cache[e] = n.cache[e] || n(n.load(e));
        return t ? r(t, n) : function(e) {
            return r(e, n);
        };
    };
    n.cache = {}, n.load = function(e) {
        return document.getElementById(e).innerHTML;
    }, n.regexp = /([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g, n.func = function(e, n, t, r, c, u) {
        return n ? {
            "\n": "\\n",
            "\r": "\\r",
            "\t": "\\t",
            " ": " "
        }[n] || "\\" + n : t ? "=" === t ? "'+_e(" + r + ")+'" : "'+(" + r + "==null?'':" + r + ")+'" : c ? "';" : u ? "_s+='" : void 0;
    }, n.encReg = /[<>&"'\x00]/g, n.encMap = {
        "<": "&lt;",
        ">": "&gt;",
        "&": "&amp;",
        '"': "&quot;",
        "'": "&#39;"
    }, n.encode = function(e) {
        return (null == e ? "" : "" + e).replace(n.encReg, function(e) {
            return n.encMap[e] || "";
        });
    }, n.arg = "o", n.helper = ",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}", "function" == typeof define && define.amd ? define(function() {
        return n;
    }) : "object" == typeof module && module.exports ? module.exports = n : e.tmpl = n;
}(this); //# sourceMappingURL=tmpl.min.js.map
/*! sprintf-js v1.1.1 | Copyright (c) 2007-present, Alexandru Mrteanu <hello@alexei.ro> | BSD-3-Clause */
! function() {
    "use strict";

    function e(e) {
        return r(n(e), arguments);
    }

    function t(t, r) {
        return e.apply(null, [t].concat(r || []));
    }

    function r(t, r) {
        var n, i, a, o, p, c, u, f, l, d = 1,
            g = t.length,
            b = "";
        for (i = 0; i < g; i++)
            if ("string" == typeof t[i]) b += t[i];
            else if (Array.isArray(t[i])) {
            if ((o = t[i])[2])
                for (n = r[d], a = 0; a < o[2].length; a++) {
                    if (!n.hasOwnProperty(o[2][a])) throw new Error(e('[sprintf] property "%s" does not exist', o[2][a]));
                    n = n[o[2][a]];
                } else n = o[1] ? r[o[1]] : r[d++];
            if (s.not_type.test(o[8]) && s.not_primitive.test(o[8]) && n instanceof Function && (n = n()), s.numeric_arg.test(o[8]) && "number" != typeof n && isNaN(n)) throw new TypeError(e("[sprintf] expecting number but found %T", n));
            switch (s.number.test(o[8]) && (f = n >= 0), o[8]) {
                case "b":
                    n = parseInt(n, 10).toString(2);
                    break;
                case "c":
                    n = String.fromCharCode(parseInt(n, 10));
                    break;
                case "d":
                case "i":
                    n = parseInt(n, 10);
                    break;
                case "j":
                    n = JSON.stringify(n, null, o[6] ? parseInt(o[6]) : 0);
                    break;
                case "e":
                    n = o[7] ? parseFloat(n).toExponential(o[7]) : parseFloat(n).toExponential();
                    break;
                case "f":
                    n = o[7] ? parseFloat(n).toFixed(o[7]) : parseFloat(n);
                    break;
                case "g":
                    n = o[7] ? String(Number(n.toPrecision(o[7]))) : parseFloat(n);
                    break;
                case "o":
                    n = (parseInt(n, 10) >>> 0).toString(8);
                    break;
                case "s":
                    n = String(n), n = o[7] ? n.substring(0, o[7]) : n;
                    break;
                case "t":
                    n = String(!!n), n = o[7] ? n.substring(0, o[7]) : n;
                    break;
                case "T":
                    n = Object.prototype.toString.call(n).slice(8, -1).toLowerCase(), n = o[7] ? n.substring(0, o[7]) : n;
                    break;
                case "u":
                    n = parseInt(n, 10) >>> 0;
                    break;
                case "v":
                    n = n.valueOf(), n = o[7] ? n.substring(0, o[7]) : n;
                    break;
                case "x":
                    n = (parseInt(n, 10) >>> 0).toString(16);
                    break;
                case "X":
                    n = (parseInt(n, 10) >>> 0).toString(16).toUpperCase();
            }
            s.json.test(o[8]) ? b += n : (!s.number.test(o[8]) || f && !o[3] ? l = "" : (l = f ? "+" : "-", n = n.toString().replace(s.sign, "")), c = o[4] ? "0" === o[4] ? "0" : o[4].charAt(1) : " ", u = o[6] - (l + n).length, p = o[6] && u > 0 ? c.repeat(u) : "", b += o[5] ? l + n + p : "0" === c ? l + p + n : p + l + n);
        }
        return b;
    }

    function n(e) {
        if (i[e]) return i[e];
        for (var t, r = e, n = [], a = 0; r;) {
            if (null !== (t = s.text.exec(r))) n.push(t[0]);
            else if (null !== (t = s.modulo.exec(r))) n.push("%");
            else {
                if (null === (t = s.placeholder.exec(r))) throw new SyntaxError("[sprintf] unexpected placeholder");
                if (t[2]) {
                    a |= 1;
                    var o = [],
                        p = t[2],
                        c = [];
                    if (null === (c = s.key.exec(p))) throw new SyntaxError("[sprintf] failed to parse named argument key");
                    for (o.push(c[1]);
                        "" !== (p = p.substring(c[0].length));)
                        if (null !== (c = s.key_access.exec(p))) o.push(c[1]);
                        else {
                            if (null === (c = s.index_access.exec(p))) throw new SyntaxError("[sprintf] failed to parse named argument key");
                            o.push(c[1]);
                        }
                    t[2] = o;
                } else a |= 2;
                if (3 === a) throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");
                n.push(t);
            }
            r = r.substring(t[0].length);
        }
        return i[e] = n;
    }
    var s = {
            not_string: /[^s]/,
            not_bool: /[^t]/,
            not_type: /[^T]/,
            not_primitive: /[^v]/,
            number: /[diefg]/,
            numeric_arg: /[bcdiefguxX]/,
            json: /[j]/,
            not_json: /[^j]/,
            text: /^[^\x25]+/,
            modulo: /^\x25{2}/,
            placeholder: /^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,
            key: /^([a-z_][a-z_\d]*)/i,
            key_access: /^\.([a-z_][a-z_\d]*)/i,
            index_access: /^\[(\d+)\]/,
            sign: /^[\+\-]/
        },
        i = Object.create(null);
    "undefined" != typeof exports && (exports.sprintf = e, exports.vsprintf = t), "undefined" != typeof window && (window.sprintf = e, window.vsprintf = t, "function" == typeof define && define.amd && define(function() {
        return {
            sprintf: e,
            vsprintf: t
        };
    }));
}(); //# sourceMappingURL=sprintf.min.js.map
/*
 A JavaScript implementation of the SHA family of hashes, as
 defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding
 HMAC implementation as defined in FIPS PUB 198a

 Copyright Brian Turek 2008-2017
 Distributed under the BSD License
 See http://caligatio.github.com/jsSHA/ for more information

 Several functions taken from Paul Johnston
*/
'use strict';
(function(I) {
    function w(c, a, d) {
        var k = 0,
            b = [],
            g = 0,
            f, n, h, e, m, q, y, p, l = !1,
            t = [],
            r = [],
            u, z = !1;
        d = d || {};
        f = d.encoding || "UTF8";
        u = d.numRounds || 1;
        if (u !== parseInt(u, 10) || 1 > u) throw Error("numRounds must a integer >= 1");
        if (0 === c.lastIndexOf("SHA-", 0)) {
            if (q = function(b, a) {
                    return A(b, a, c);
                }, y = function(b, a, k, f) {
                    var g, e;
                    if ("SHA-224" === c || "SHA-256" === c) g = (a + 65 >>> 9 << 4) + 15, e = 16;
                    else throw Error("Unexpected error in SHA-2 implementation");
                    for (; b.length <= g;) b.push(0);
                    b[a >>> 5] |= 128 << 24 - a % 32;
                    a = a + k;
                    b[g] = a & 4294967295;
                    b[g - 1] = a / 4294967296 | 0;
                    k = b.length;
                    for (a = 0; a < k; a += e) f = A(b.slice(a, a + e), f, c);
                    if ("SHA-224" === c) b = [f[0], f[1], f[2], f[3], f[4], f[5], f[6]];
                    else if ("SHA-256" === c) b = f;
                    else throw Error("Unexpected error in SHA-2 implementation");
                    return b;
                }, p = function(b) {
                    return b.slice();
                }, "SHA-224" === c) m = 512, e = 224;
            else if ("SHA-256" === c) m = 512, e = 256;
            else throw Error("Chosen SHA variant is not supported");
        } else throw Error("Chosen SHA variant is not supported");
        h = B(a, f);
        n = x(c);
        this.setHMACKey = function(b, a, g) {
            var e;
            if (!0 === l) throw Error("HMAC key already set");
            if (!0 === z) throw Error("Cannot set HMAC key after calling update");
            f = (g || {}).encoding || "UTF8";
            a = B(a, f)(b);
            b = a.binLen;
            a = a.value;
            e = m >>> 3;
            g = e / 4 - 1;
            if (e < b / 8) {
                for (a = y(a, b, 0, x(c)); a.length <= g;) a.push(0);
                a[g] &= 4294967040;
            } else if (e > b / 8) {
                for (; a.length <= g;) a.push(0);
                a[g] &= 4294967040;
            }
            for (b = 0; b <= g; b += 1) t[b] = a[b] ^ 909522486, r[b] = a[b] ^ 1549556828;
            n = q(t, n);
            k = m;
            l = !0;
        };
        this.update = function(a) {
            var c, f, e, d = 0,
                p = m >>> 5;
            c = h(a, b, g);
            a = c.binLen;
            f = c.value;
            c = a >>> 5;
            for (e = 0; e < c; e += p) d + m <= a && (n = q(f.slice(e, e + p), n), d += m);
            k += d;
            b = f.slice(d >>> 5);
            g = a % m;
            z = !0;
        };
        this.getHash = function(a, f) {
            var d, h, m, q;
            if (!0 === l) throw Error("Cannot call getHash after setting HMAC key");
            m = C(f);
            switch (a) {
                case "HEX":
                    d = function(a) {
                        return D(a, e, m);
                    };
                    break;
                case "B64":
                    d = function(a) {
                        return E(a, e, m);
                    };
                    break;
                case "BYTES":
                    d = function(a) {
                        return F(a, e);
                    };
                    break;
                case "ARRAYBUFFER":
                    try {
                        h = new ArrayBuffer(0);
                    } catch (v) {
                        throw Error("ARRAYBUFFER not supported by this environment");
                    }
                    d = function(a) {
                        return G(a, e);
                    };
                    break;
                default:
                    throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER");
            }
            q = y(b.slice(), g, k, p(n));
            for (h = 1; h < u; h += 1) q = y(q, e, 0, x(c));
            return d(q);
        };
        this.getHMAC = function(a, f) {
            var d, h, t, u;
            if (!1 === l) throw Error("Cannot call getHMAC without first setting HMAC key");
            t = C(f);
            switch (a) {
                case "HEX":
                    d = function(a) {
                        return D(a, e, t);
                    };
                    break;
                case "B64":
                    d = function(a) {
                        return E(a, e, t);
                    };
                    break;
                case "BYTES":
                    d = function(a) {
                        return F(a, e);
                    };
                    break;
                case "ARRAYBUFFER":
                    try {
                        d = new ArrayBuffer(0);
                    } catch (v) {
                        throw Error("ARRAYBUFFER not supported by this environment");
                    }
                    d = function(a) {
                        return G(a, e);
                    };
                    break;
                default:
                    throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER");
            }
            h = y(b.slice(), g, k, p(n));
            u = q(r, x(c));
            u = y(h, e, m, u);
            return d(u);
        };
    }

    function l() {}

    function D(c, a, d) {
        var k = "";
        a /= 8;
        var b, g;
        for (b = 0; b < a; b += 1) g = c[b >>> 2] >>> 8 * (3 + b % 4 * -1), k += "0123456789abcdef".charAt(g >>> 4 & 15) + "0123456789abcdef".charAt(g & 15);
        return d.outputUpper ? k.toUpperCase() : k;
    }

    function E(c, a, d) {
        var k = "",
            b = a / 8,
            g, f, n;
        for (g = 0; g < b; g += 3)
            for (f = g + 1 < b ? c[g + 1 >>> 2] : 0, n = g + 2 < b ? c[g + 2 >>> 2] : 0, n = (c[g >>> 2] >>> 8 * (3 + g % 4 * -1) & 255) << 16 | (f >>> 8 * (3 + (g + 1) % 4 * -1) & 255) << 8 | n >>> 8 * (3 + (g + 2) % 4 * -1) & 255, f = 0; 4 > f; f += 1) 8 * g + 6 * f <= a ? k += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n >>> 6 * (3 - f) & 63) : k += d.b64Pad;
        return k;
    }

    function F(c, a) {
        var d = "",
            k = a / 8,
            b, g;
        for (b = 0; b < k; b += 1) g = c[b >>> 2] >>> 8 * (3 + b % 4 * -1) & 255, d += String.fromCharCode(g);
        return d;
    }

    function G(c, a) {
        var d = a / 8,
            k, b = new ArrayBuffer(d);
        for (k = 0; k < d; k += 1) b[k] = c[k >>> 2] >>> 8 * (3 + k % 4 * -1) & 255;
        return b;
    }

    function C(c) {
        var a = {
            outputUpper: !1,
            b64Pad: "=",
            shakeLen: -1
        };
        c = c || {};
        a.outputUpper = c.outputUpper || !1;
        !0 === c.hasOwnProperty("b64Pad") && (a.b64Pad = c.b64Pad);
        if ("boolean" !== typeof a.outputUpper) throw Error("Invalid outputUpper formatting option");
        if ("string" !== typeof a.b64Pad) throw Error("Invalid b64Pad formatting option");
        return a;
    }

    function B(c, a) {
        var d;
        switch (a) {
            case "UTF8":
            case "UTF16BE":
            case "UTF16LE":
                break;
            default:
                throw Error("encoding must be UTF8, UTF16BE, or UTF16LE");
        }
        switch (c) {
            case "HEX":
                d = function(a, b, c) {
                    var f = a.length,
                        d, h, e, m, q;
                    if (0 !== f % 2) throw Error("String of HEX type must be in byte increments");
                    b = b || [0];
                    c = c || 0;
                    q = c >>> 3;
                    for (d = 0; d < f; d += 2) {
                        h = parseInt(a.substr(d, 2), 16);
                        if (isNaN(h)) throw Error("String of HEX type contains invalid characters");
                        m = (d >>> 1) + q;
                        for (e = m >>> 2; b.length <= e;) b.push(0);
                        b[e] |= h << 8 * (3 + m % 4 * -1);
                    }
                    return {
                        value: b,
                        binLen: 4 * f + c
                    };
                };
                break;
            case "TEXT":
                d = function(c, b, d) {
                    var f, n, h = 0,
                        e, m, q, l, p, r;
                    b = b || [0];
                    d = d || 0;
                    q = d >>> 3;
                    if ("UTF8" === a)
                        for (r = 3, e = 0; e < c.length; e += 1)
                            for (f = c.charCodeAt(e), n = [], 128 > f ? n.push(f) : 2048 > f ? (n.push(192 | f >>> 6), n.push(128 | f & 63)) : 55296 > f || 57344 <= f ? n.push(224 | f >>> 12, 128 | f >>> 6 & 63, 128 | f & 63) : (e += 1, f = 65536 + ((f & 1023) << 10 | c.charCodeAt(e) & 1023), n.push(240 | f >>> 18, 128 | f >>> 12 & 63, 128 | f >>> 6 & 63, 128 | f & 63)), m = 0; m < n.length; m += 1) {
                                p = h + q;
                                for (l = p >>> 2; b.length <= l;) b.push(0);
                                b[l] |= n[m] << 8 * (r + p % 4 * -1);
                                h += 1;
                            } else if ("UTF16BE" === a || "UTF16LE" === a)
                                for (r = 2, e = 0; e < c.length; e += 1) {
                                    f = c.charCodeAt(e);
                                    "UTF16LE" === a && (m = f & 255, f = m << 8 | f >>> 8);
                                    p = h + q;
                                    for (l = p >>> 2; b.length <= l;) b.push(0);
                                    b[l] |= f << 8 * (r + p % 4 * -1);
                                    h += 2;
                                }
                    return {
                        value: b,
                        binLen: 8 * h + d
                    };
                };
                break;
            case "B64":
                d = function(a, b, c) {
                    var f = 0,
                        d, h, e, m, q, l, p;
                    if (-1 === a.search(/^[a-zA-Z0-9=+\/]+$/)) throw Error("Invalid character in base-64 string");
                    h = a.indexOf("=");
                    a = a.replace(/\=/g, "");
                    if (-1 !== h && h < a.length) throw Error("Invalid '=' found in base-64 string");
                    b = b || [0];
                    c = c || 0;
                    l = c >>> 3;
                    for (h = 0; h < a.length; h += 4) {
                        q = a.substr(h, 4);
                        for (e = m = 0; e < q.length; e += 1) d = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(q[e]), m |= d << 18 - 6 * e;
                        for (e = 0; e < q.length - 1; e += 1) {
                            p = f + l;
                            for (d = p >>> 2; b.length <= d;) b.push(0);
                            b[d] |= (m >>> 16 - 8 * e & 255) << 8 * (3 + p % 4 * -1);
                            f += 1;
                        }
                    }
                    return {
                        value: b,
                        binLen: 8 * f + c
                    };
                };
                break;
            case "BYTES":
                d = function(a, b, c) {
                    var d, n, h, e, m;
                    b = b || [0];
                    c = c || 0;
                    h = c >>> 3;
                    for (n = 0; n < a.length; n += 1) d = a.charCodeAt(n), m = n + h, e = m >>> 2, b.length <= e && b.push(0), b[e] |= d << 8 * (3 + m % 4 * -1);
                    return {
                        value: b,
                        binLen: 8 * a.length + c
                    };
                };
                break;
            case "ARRAYBUFFER":
                try {
                    d = new ArrayBuffer(0);
                } catch (k) {
                    throw Error("ARRAYBUFFER not supported by this environment");
                }
                d = function(a, b, c) {
                    var d, n, h, e;
                    b = b || [0];
                    c = c || 0;
                    n = c >>> 3;
                    for (d = 0; d < a.byteLength; d += 1) e = d + n, h = e >>> 2, b.length <= h && b.push(0), b[h] |= a[d] << 8 * (3 + e % 4 * -1);
                    return {
                        value: b,
                        binLen: 8 * a.byteLength + c
                    };
                };
                break;
            default:
                throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER");
        }
        return d;
    }

    function r(c, a) {
        return c >>> a | c << 32 - a;
    }

    function J(c, a, d) {
        return c & a ^ ~c & d;
    }

    function K(c, a, d) {
        return c & a ^ c & d ^ a & d;
    }

    function L(c) {
        return r(c, 2) ^ r(c, 13) ^ r(c, 22);
    }

    function M(c) {
        return r(c, 6) ^ r(c, 11) ^ r(c, 25);
    }

    function N(c) {
        return r(c, 7) ^ r(c, 18) ^ c >>> 3;
    }

    function O(c) {
        return r(c, 17) ^ r(c, 19) ^ c >>> 10;
    }

    function P(c, a) {
        var d = (c & 65535) + (a & 65535);
        return ((c >>> 16) + (a >>> 16) + (d >>> 16) & 65535) << 16 | d & 65535;
    }

    function Q(c, a, d, k) {
        var b = (c & 65535) + (a & 65535) + (d & 65535) + (k & 65535);
        return ((c >>> 16) + (a >>> 16) + (d >>> 16) + (k >>> 16) + (b >>> 16) & 65535) << 16 | b & 65535;
    }

    function R(c, a, d, k, b) {
        var g = (c & 65535) + (a & 65535) + (d & 65535) + (k & 65535) + (b & 65535);
        return ((c >>> 16) + (a >>> 16) + (d >>> 16) + (k >>> 16) + (b >>> 16) + (g >>> 16) & 65535) << 16 | g & 65535;
    }

    function x(c) {
        var a = [],
            d;
        if (0 === c.lastIndexOf("SHA-", 0)) switch (a = [3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428], d = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225], c) {
            case "SHA-224":
                break;
            case "SHA-256":
                a = d;
                break;
            case "SHA-384":
                a = [new l(), new l(), new l(), new l(), new l(), new l(), new l(), new l()];
                break;
            case "SHA-512":
                a = [new l(), new l(), new l(), new l(), new l(), new l(), new l(), new l()];
                break;
            default:
                throw Error("Unknown SHA variant");
        } else throw Error("No SHA variants supported");
        return a;
    }

    function A(c, a, d) {
        var k, b, g, f, n, h, e, m, l, r, p, w, t, x, u, z, A, B, C, D, E, F, v = [],
            G;
        if ("SHA-224" === d || "SHA-256" === d) r = 64, w = 1, F = Number, t = P, x = Q, u = R, z = N, A = O, B = L, C = M, E = K, D = J, G = H;
        else throw Error("Unexpected error in SHA-2 implementation");
        d = a[0];
        k = a[1];
        b = a[2];
        g = a[3];
        f = a[4];
        n = a[5];
        h = a[6];
        e = a[7];
        for (p = 0; p < r; p += 1) 16 > p ? (l = p * w, m = c.length <= l ? 0 : c[l], l = c.length <= l + 1 ? 0 : c[l + 1], v[p] = new F(m, l)) : v[p] = x(A(v[p - 2]), v[p - 7], z(v[p - 15]), v[p - 16]), m = u(e, C(f), D(f, n, h), G[p], v[p]), l = t(B(d), E(d, k, b)), e = h, h = n, n = f, f = t(g, m), g = b, b = k, k = d, d = t(m, l);
        a[0] = t(d, a[0]);
        a[1] = t(k, a[1]);
        a[2] = t(b, a[2]);
        a[3] = t(g, a[3]);
        a[4] = t(f, a[4]);
        a[5] = t(n, a[5]);
        a[6] = t(h, a[6]);
        a[7] = t(e, a[7]);
        return a;
    }
    var H;
    H = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298];
    "function" === typeof define && define.amd ? define(function() {
        return w;
    }) : "undefined" !== typeof exports ? ("undefined" !== typeof module && module.exports && (module.exports = w), exports = w) : I.jsSHA = w;
})(this); //! moment.js
//! version : 2.17.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
! function(a, b) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = b() : "function" == typeof define && define.amd ? define(b) : a.moment = b();
}(this, function() {
    "use strict";

    function a() {
        return od.apply(null, arguments);
    } // This is done to register the method called with moment()
    // without creating circular dependencies.
    function b(a) {
        od = a;
    }

    function c(a) {
        return a instanceof Array || "[object Array]" === Object.prototype.toString.call(a);
    }

    function d(a) { // IE8 will treat undefined and null as object if it wasn't for
        // input != null
        return null != a && "[object Object]" === Object.prototype.toString.call(a);
    }

    function e(a) {
        var b;
        for (b in a) // even if its not own property I'd still call it non-empty
            return !1;
        return !0;
    }

    function f(a) {
        return "number" == typeof a || "[object Number]" === Object.prototype.toString.call(a);
    }

    function g(a) {
        return a instanceof Date || "[object Date]" === Object.prototype.toString.call(a);
    }

    function h(a, b) {
        var c, d = [];
        for (c = 0; c < a.length; ++c) d.push(b(a[c], c));
        return d;
    }

    function i(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b);
    }

    function j(a, b) {
        for (var c in b) i(b, c) && (a[c] = b[c]);
        return i(b, "toString") && (a.toString = b.toString), i(b, "valueOf") && (a.valueOf = b.valueOf), a;
    }

    function k(a, b, c, d) {
        return rb(a, b, c, d, !0).utc();
    }

    function l() { // We need to deep clone this object.
        return {
            empty: !1,
            unusedTokens: [],
            unusedInput: [],
            overflow: -2,
            charsLeftOver: 0,
            nullInput: !1,
            invalidMonth: null,
            invalidFormat: !1,
            userInvalidated: !1,
            iso: !1,
            parsedDateParts: [],
            meridiem: null
        };
    }

    function m(a) {
        return null == a._pf && (a._pf = l()), a._pf;
    }

    function n(a) {
        if (null == a._isValid) {
            var b = m(a),
                c = qd.call(b.parsedDateParts, function(a) {
                    return null != a;
                }),
                d = !isNaN(a._d.getTime()) && b.overflow < 0 && !b.empty && !b.invalidMonth && !b.invalidWeekday && !b.nullInput && !b.invalidFormat && !b.userInvalidated && (!b.meridiem || b.meridiem && c);
            if (a._strict && (d = d && 0 === b.charsLeftOver && 0 === b.unusedTokens.length && void 0 === b.bigHour), null != Object.isFrozen && Object.isFrozen(a)) return d;
            a._isValid = d;
        }
        return a._isValid;
    }

    function o(a) {
        var b = k(NaN);
        return null != a ? j(m(b), a) : m(b).userInvalidated = !0, b;
    }

    function p(a) {
        return void 0 === a;
    }

    function q(a, b) {
        var c, d, e;
        if (p(b._isAMomentObject) || (a._isAMomentObject = b._isAMomentObject), p(b._i) || (a._i = b._i), p(b._f) || (a._f = b._f), p(b._l) || (a._l = b._l), p(b._strict) || (a._strict = b._strict), p(b._tzm) || (a._tzm = b._tzm), p(b._isUTC) || (a._isUTC = b._isUTC), p(b._offset) || (a._offset = b._offset), p(b._pf) || (a._pf = m(b)), p(b._locale) || (a._locale = b._locale), rd.length > 0)
            for (c in rd) d = rd[c], e = b[d], p(e) || (a[d] = e);
        return a;
    } // Moment prototype object
    function r(b) {
        q(this, b), this._d = new Date(null != b._d ? b._d.getTime() : NaN), this.isValid() || (this._d = new Date(NaN)), // Prevent infinite loop in case updateOffset creates new moment
            // objects.
            sd === !1 && (sd = !0, a.updateOffset(this), sd = !1);
    }

    function s(a) {
        return a instanceof r || null != a && null != a._isAMomentObject;
    }

    function t(a) {
        return a < 0 ? Math.ceil(a) || 0 : Math.floor(a);
    }

    function u(a) {
        var b = +a,
            c = 0;
        return 0 !== b && isFinite(b) && (c = t(b)), c;
    } // compare two arrays, return the number of differences
    function v(a, b, c) {
        var d, e = Math.min(a.length, b.length),
            f = Math.abs(a.length - b.length),
            g = 0;
        for (d = 0; d < e; d++)(c && a[d] !== b[d] || !c && u(a[d]) !== u(b[d])) && g++;
        return g + f;
    }

    function w(b) {
        a.suppressDeprecationWarnings === !1 && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + b);
    }

    function x(b, c) {
        var d = !0;
        return j(function() {
            if (null != a.deprecationHandler && a.deprecationHandler(null, b), d) {
                for (var e, f = [], g = 0; g < arguments.length; g++) {
                    if (e = "", "object" == typeof arguments[g]) {
                        e += "\n[" + g + "] ";
                        for (var h in arguments[0]) e += h + ": " + arguments[0][h] + ", ";
                        e = e.slice(0, -2);
                    } else e = arguments[g];
                    f.push(e);
                }
                w(b + "\nArguments: " + Array.prototype.slice.call(f).join("") + "\n" + new Error().stack), d = !1;
            }
            return c.apply(this, arguments);
        }, c);
    }

    function y(b, c) {
        null != a.deprecationHandler && a.deprecationHandler(b, c), td[b] || (w(c), td[b] = !0);
    }

    function z(a) {
        return a instanceof Function || "[object Function]" === Object.prototype.toString.call(a);
    }

    function A(a) {
        var b, c;
        for (c in a) b = a[c], z(b) ? this[c] = b : this["_" + c] = b;
        this._config = a, // Lenient ordinal parsing accepts just a number in addition to
            // number + (possibly) stuff coming from _ordinalParseLenient.
            this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source);
    }

    function B(a, b) {
        var c, e = j({}, a);
        for (c in b) i(b, c) && (d(a[c]) && d(b[c]) ? (e[c] = {}, j(e[c], a[c]), j(e[c], b[c])) : null != b[c] ? e[c] = b[c] : delete e[c]);
        for (c in a) i(a, c) && !i(b, c) && d(a[c]) && ( // make sure changes to properties don't modify parent config
            e[c] = j({}, e[c]));
        return e;
    }

    function C(a) {
        null != a && this.set(a);
    }

    function D(a, b, c) {
        var d = this._calendar[a] || this._calendar.sameElse;
        return z(d) ? d.call(b, c) : d;
    }

    function E(a) {
        var b = this._longDateFormat[a],
            c = this._longDateFormat[a.toUpperCase()];
        return b || !c ? b : (this._longDateFormat[a] = c.replace(/MMMM|MM|DD|dddd/g, function(a) {
            return a.slice(1);
        }), this._longDateFormat[a]);
    }

    function F() {
        return this._invalidDate;
    }

    function G(a) {
        return this._ordinal.replace("%d", a);
    }

    function H(a, b, c, d) {
        var e = this._relativeTime[c];
        return z(e) ? e(a, b, c, d) : e.replace(/%d/i, a);
    }

    function I(a, b) {
        var c = this._relativeTime[a > 0 ? "future" : "past"];
        return z(c) ? c(b) : c.replace(/%s/i, b);
    }

    function J(a, b) {
        var c = a.toLowerCase();
        Dd[c] = Dd[c + "s"] = Dd[b] = a;
    }

    function K(a) {
        return "string" == typeof a ? Dd[a] || Dd[a.toLowerCase()] : void 0;
    }

    function L(a) {
        var b, c, d = {};
        for (c in a) i(a, c) && (b = K(c), b && (d[b] = a[c]));
        return d;
    }

    function M(a, b) {
        Ed[a] = b;
    }

    function N(a) {
        var b = [];
        for (var c in a) b.push({
            unit: c,
            priority: Ed[c]
        });
        return b.sort(function(a, b) {
            return a.priority - b.priority;
        }), b;
    }

    function O(b, c) {
        return function(d) {
            return null != d ? (Q(this, b, d), a.updateOffset(this, c), this) : P(this, b);
        };
    }

    function P(a, b) {
        return a.isValid() ? a._d["get" + (a._isUTC ? "UTC" : "") + b]() : NaN;
    }

    function Q(a, b, c) {
        a.isValid() && a._d["set" + (a._isUTC ? "UTC" : "") + b](c);
    } // MOMENTS
    function R(a) {
        return a = K(a), z(this[a]) ? this[a]() : this;
    }

    function S(a, b) {
        if ("object" == typeof a) {
            a = L(a);
            for (var c = N(a), d = 0; d < c.length; d++) this[c[d].unit](a[c[d].unit]);
        } else if (a = K(a), z(this[a])) return this[a](b);
        return this;
    }

    function T(a, b, c) {
        var d = "" + Math.abs(a),
            e = b - d.length,
            f = a >= 0;
        return (f ? c ? "+" : "" : "-") + Math.pow(10, Math.max(0, e)).toString().substr(1) + d;
    } // token:    'M'
    // padded:   ['MM', 2]
    // ordinal:  'Mo'
    // callback: function () { this.month() + 1 }
    function U(a, b, c, d) {
        var e = d;
        "string" == typeof d && (e = function() {
            return this[d]();
        }), a && (Id[a] = e), b && (Id[b[0]] = function() {
            return T(e.apply(this, arguments), b[1], b[2]);
        }), c && (Id[c] = function() {
            return this.localeData().ordinal(e.apply(this, arguments), a);
        });
    }

    function V(a) {
        return a.match(/\[[\s\S]/) ? a.replace(/^\[|\]$/g, "") : a.replace(/\\/g, "");
    }

    function W(a) {
        var b, c, d = a.match(Fd);
        for (b = 0, c = d.length; b < c; b++) Id[d[b]] ? d[b] = Id[d[b]] : d[b] = V(d[b]);
        return function(b) {
            var e, f = "";
            for (e = 0; e < c; e++) f += d[e] instanceof Function ? d[e].call(b, a) : d[e];
            return f;
        };
    } // format date using native date object
    function X(a, b) {
        return a.isValid() ? (b = Y(b, a.localeData()), Hd[b] = Hd[b] || W(b), Hd[b](a)) : a.localeData().invalidDate();
    }

    function Y(a, b) {
        function c(a) {
            return b.longDateFormat(a) || a;
        }
        var d = 5;
        for (Gd.lastIndex = 0; d >= 0 && Gd.test(a);) a = a.replace(Gd, c), Gd.lastIndex = 0, d -= 1;
        return a;
    }

    function Z(a, b, c) {
        $d[a] = z(b) ? b : function(a, d) {
            return a && c ? c : b;
        };
    }

    function $(a, b) {
        return i($d, a) ? $d[a](b._strict, b._locale) : new RegExp(_(a));
    } // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
    function _(a) {
        return aa(a.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(a, b, c, d, e) {
            return b || c || d || e;
        }));
    }

    function aa(a) {
        return a.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
    }

    function ba(a, b) {
        var c, d = b;
        for ("string" == typeof a && (a = [a]), f(b) && (d = function(a, c) {
                c[b] = u(a);
            }), c = 0; c < a.length; c++) _d[a[c]] = d;
    }

    function ca(a, b) {
        ba(a, function(a, c, d, e) {
            d._w = d._w || {}, b(a, d._w, d, e);
        });
    }

    function da(a, b, c) {
        null != b && i(_d, a) && _d[a](b, c._a, c, a);
    }

    function ea(a, b) {
        return new Date(Date.UTC(a, b + 1, 0)).getUTCDate();
    }

    function fa(a, b) {
        return a ? c(this._months) ? this._months[a.month()] : this._months[(this._months.isFormat || ke).test(b) ? "format" : "standalone"][a.month()] : this._months;
    }

    function ga(a, b) {
        return a ? c(this._monthsShort) ? this._monthsShort[a.month()] : this._monthsShort[ke.test(b) ? "format" : "standalone"][a.month()] : this._monthsShort;
    }

    function ha(a, b, c) {
        var d, e, f, g = a.toLocaleLowerCase();
        if (!this._monthsParse)
            for ( // this is not used
                this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], d = 0; d < 12; ++d) f = k([2e3, d]), this._shortMonthsParse[d] = this.monthsShort(f, "").toLocaleLowerCase(), this._longMonthsParse[d] = this.months(f, "").toLocaleLowerCase();
        return c ? "MMM" === b ? (e = je.call(this._shortMonthsParse, g), e !== -1 ? e : null) : (e = je.call(this._longMonthsParse, g), e !== -1 ? e : null) : "MMM" === b ? (e = je.call(this._shortMonthsParse, g), e !== -1 ? e : (e = je.call(this._longMonthsParse, g), e !== -1 ? e : null)) : (e = je.call(this._longMonthsParse, g), e !== -1 ? e : (e = je.call(this._shortMonthsParse, g), e !== -1 ? e : null));
    }

    function ia(a, b, c) {
        var d, e, f;
        if (this._monthsParseExact) return ha.call(this, a, b, c); // TODO: add sorting
        // Sorting makes sure if one month (or abbr) is a prefix of another
        // see sorting in computeMonthsParse
        for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), d = 0; d < 12; d++) { // test the regex
            if ( // make the regex if we don't have it already
                e = k([2e3, d]), c && !this._longMonthsParse[d] && (this._longMonthsParse[d] = new RegExp("^" + this.months(e, "").replace(".", "") + "$", "i"), this._shortMonthsParse[d] = new RegExp("^" + this.monthsShort(e, "").replace(".", "") + "$", "i")), c || this._monthsParse[d] || (f = "^" + this.months(e, "") + "|^" + this.monthsShort(e, ""), this._monthsParse[d] = new RegExp(f.replace(".", ""), "i")), c && "MMMM" === b && this._longMonthsParse[d].test(a)) return d;
            if (c && "MMM" === b && this._shortMonthsParse[d].test(a)) return d;
            if (!c && this._monthsParse[d].test(a)) return d;
        }
    } // MOMENTS
    function ja(a, b) {
        var c;
        if (!a.isValid()) // No op
            return a;
        if ("string" == typeof b)
            if (/^\d+$/.test(b)) b = u(b);
            else // TODO: Another silent failure?
                if (b = a.localeData().monthsParse(b), !f(b)) return a;
        return c = Math.min(a.date(), ea(a.year(), b)), a._d["set" + (a._isUTC ? "UTC" : "") + "Month"](b, c), a;
    }

    function ka(b) {
        return null != b ? (ja(this, b), a.updateOffset(this, !0), this) : P(this, "Month");
    }

    function la() {
        return ea(this.year(), this.month());
    }

    function ma(a) {
        return this._monthsParseExact ? (i(this, "_monthsRegex") || oa.call(this), a ? this._monthsShortStrictRegex : this._monthsShortRegex) : (i(this, "_monthsShortRegex") || (this._monthsShortRegex = ne), this._monthsShortStrictRegex && a ? this._monthsShortStrictRegex : this._monthsShortRegex);
    }

    function na(a) {
        return this._monthsParseExact ? (i(this, "_monthsRegex") || oa.call(this), a ? this._monthsStrictRegex : this._monthsRegex) : (i(this, "_monthsRegex") || (this._monthsRegex = oe), this._monthsStrictRegex && a ? this._monthsStrictRegex : this._monthsRegex);
    }

    function oa() {
        function a(a, b) {
            return b.length - a.length;
        }
        var b, c, d = [],
            e = [],
            f = [];
        for (b = 0; b < 12; b++) // make the regex if we don't have it already
            c = k([2e3, b]), d.push(this.monthsShort(c, "")), e.push(this.months(c, "")), f.push(this.months(c, "")), f.push(this.monthsShort(c, ""));
        for ( // Sorting makes sure if one month (or abbr) is a prefix of another it
            // will match the longer piece.
            d.sort(a), e.sort(a), f.sort(a), b = 0; b < 12; b++) d[b] = aa(d[b]), e[b] = aa(e[b]);
        for (b = 0; b < 24; b++) f[b] = aa(f[b]);
        this._monthsRegex = new RegExp("^(" + f.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp("^(" + e.join("|") + ")", "i"), this._monthsShortStrictRegex = new RegExp("^(" + d.join("|") + ")", "i");
    } // HELPERS
    function pa(a) {
        return qa(a) ? 366 : 365;
    }

    function qa(a) {
        return a % 4 === 0 && a % 100 !== 0 || a % 400 === 0;
    }

    function ra() {
        return qa(this.year());
    }

    function sa(a, b, c, d, e, f, g) { //can't just apply() to create a date:
        //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply
        var h = new Date(a, b, c, d, e, f, g); //the date constructor remaps years 0-99 to 1900-1999
        return a < 100 && a >= 0 && isFinite(h.getFullYear()) && h.setFullYear(a), h;
    }

    function ta(a) {
        var b = new Date(Date.UTC.apply(null, arguments)); //the Date.UTC function remaps years 0-99 to 1900-1999
        return a < 100 && a >= 0 && isFinite(b.getUTCFullYear()) && b.setUTCFullYear(a), b;
    } // start-of-first-week - start-of-year
    function ua(a, b, c) {
        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)
            d = 7 + b - c, // first-week day local weekday -- which local weekday is fwd
            e = (7 + ta(a, 0, d).getUTCDay() - b) % 7;
        return -e + d - 1;
    } //http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
    function va(a, b, c, d, e) {
        var f, g, h = (7 + c - d) % 7,
            i = ua(a, d, e),
            j = 1 + 7 * (b - 1) + h + i;
        return j <= 0 ? (f = a - 1, g = pa(f) + j) : j > pa(a) ? (f = a + 1, g = j - pa(a)) : (f = a, g = j), {
            year: f,
            dayOfYear: g
        };
    }

    function wa(a, b, c) {
        var d, e, f = ua(a.year(), b, c),
            g = Math.floor((a.dayOfYear() - f - 1) / 7) + 1;
        return g < 1 ? (e = a.year() - 1, d = g + xa(e, b, c)) : g > xa(a.year(), b, c) ? (d = g - xa(a.year(), b, c), e = a.year() + 1) : (e = a.year(), d = g), {
            week: d,
            year: e
        };
    }

    function xa(a, b, c) {
        var d = ua(a, b, c),
            e = ua(a + 1, b, c);
        return (pa(a) - d + e) / 7;
    } // HELPERS
    // LOCALES
    function ya(a) {
        return wa(a, this._week.dow, this._week.doy).week;
    }

    function za() {
        return this._week.dow;
    }

    function Aa() {
        return this._week.doy;
    } // MOMENTS
    function Ba(a) {
        var b = this.localeData().week(this);
        return null == a ? b : this.add(7 * (a - b), "d");
    }

    function Ca(a) {
        var b = wa(this, 1, 4).week;
        return null == a ? b : this.add(7 * (a - b), "d");
    } // HELPERS
    function Da(a, b) {
        return "string" != typeof a ? a : isNaN(a) ? (a = b.weekdaysParse(a), "number" == typeof a ? a : null) : parseInt(a, 10);
    }

    function Ea(a, b) {
        return "string" == typeof a ? b.weekdaysParse(a) % 7 || 7 : isNaN(a) ? null : a;
    }

    function Fa(a, b) {
        return a ? c(this._weekdays) ? this._weekdays[a.day()] : this._weekdays[this._weekdays.isFormat.test(b) ? "format" : "standalone"][a.day()] : this._weekdays;
    }

    function Ga(a) {
        return a ? this._weekdaysShort[a.day()] : this._weekdaysShort;
    }

    function Ha(a) {
        return a ? this._weekdaysMin[a.day()] : this._weekdaysMin;
    }

    function Ia(a, b, c) {
        var d, e, f, g = a.toLocaleLowerCase();
        if (!this._weekdaysParse)
            for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], d = 0; d < 7; ++d) f = k([2e3, 1]).day(d), this._minWeekdaysParse[d] = this.weekdaysMin(f, "").toLocaleLowerCase(), this._shortWeekdaysParse[d] = this.weekdaysShort(f, "").toLocaleLowerCase(), this._weekdaysParse[d] = this.weekdays(f, "").toLocaleLowerCase();
        return c ? "dddd" === b ? (e = je.call(this._weekdaysParse, g), e !== -1 ? e : null) : "ddd" === b ? (e = je.call(this._shortWeekdaysParse, g), e !== -1 ? e : null) : (e = je.call(this._minWeekdaysParse, g), e !== -1 ? e : null) : "dddd" === b ? (e = je.call(this._weekdaysParse, g), e !== -1 ? e : (e = je.call(this._shortWeekdaysParse, g), e !== -1 ? e : (e = je.call(this._minWeekdaysParse, g), e !== -1 ? e : null))) : "ddd" === b ? (e = je.call(this._shortWeekdaysParse, g), e !== -1 ? e : (e = je.call(this._weekdaysParse, g), e !== -1 ? e : (e = je.call(this._minWeekdaysParse, g), e !== -1 ? e : null))) : (e = je.call(this._minWeekdaysParse, g), e !== -1 ? e : (e = je.call(this._weekdaysParse, g), e !== -1 ? e : (e = je.call(this._shortWeekdaysParse, g), e !== -1 ? e : null)));
    }

    function Ja(a, b, c) {
        var d, e, f;
        if (this._weekdaysParseExact) return Ia.call(this, a, b, c);
        for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), d = 0; d < 7; d++) { // test the regex
            if ( // make the regex if we don't have it already
                e = k([2e3, 1]).day(d), c && !this._fullWeekdaysParse[d] && (this._fullWeekdaysParse[d] = new RegExp("^" + this.weekdays(e, "").replace(".", ".?") + "$", "i"), this._shortWeekdaysParse[d] = new RegExp("^" + this.weekdaysShort(e, "").replace(".", ".?") + "$", "i"), this._minWeekdaysParse[d] = new RegExp("^" + this.weekdaysMin(e, "").replace(".", ".?") + "$", "i")), this._weekdaysParse[d] || (f = "^" + this.weekdays(e, "") + "|^" + this.weekdaysShort(e, "") + "|^" + this.weekdaysMin(e, ""), this._weekdaysParse[d] = new RegExp(f.replace(".", ""), "i")), c && "dddd" === b && this._fullWeekdaysParse[d].test(a)) return d;
            if (c && "ddd" === b && this._shortWeekdaysParse[d].test(a)) return d;
            if (c && "dd" === b && this._minWeekdaysParse[d].test(a)) return d;
            if (!c && this._weekdaysParse[d].test(a)) return d;
        }
    } // MOMENTS
    function Ka(a) {
        if (!this.isValid()) return null != a ? this : NaN;
        var b = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        return null != a ? (a = Da(a, this.localeData()), this.add(a - b, "d")) : b;
    }

    function La(a) {
        if (!this.isValid()) return null != a ? this : NaN;
        var b = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return null == a ? b : this.add(a - b, "d");
    }

    function Ma(a) {
        if (!this.isValid()) return null != a ? this : NaN; // behaves the same as moment#day except
        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
        // as a setter, sunday should belong to the previous week.
        if (null != a) {
            var b = Ea(a, this.localeData());
            return this.day(this.day() % 7 ? b : b - 7);
        }
        return this.day() || 7;
    }

    function Na(a) {
        return this._weekdaysParseExact ? (i(this, "_weekdaysRegex") || Qa.call(this), a ? this._weekdaysStrictRegex : this._weekdaysRegex) : (i(this, "_weekdaysRegex") || (this._weekdaysRegex = ue), this._weekdaysStrictRegex && a ? this._weekdaysStrictRegex : this._weekdaysRegex);
    }

    function Oa(a) {
        return this._weekdaysParseExact ? (i(this, "_weekdaysRegex") || Qa.call(this), a ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (i(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = ve), this._weekdaysShortStrictRegex && a ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex);
    }

    function Pa(a) {
        return this._weekdaysParseExact ? (i(this, "_weekdaysRegex") || Qa.call(this), a ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (i(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = we), this._weekdaysMinStrictRegex && a ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex);
    }

    function Qa() {
        function a(a, b) {
            return b.length - a.length;
        }
        var b, c, d, e, f, g = [],
            h = [],
            i = [],
            j = [];
        for (b = 0; b < 7; b++) // make the regex if we don't have it already
            c = k([2e3, 1]).day(b), d = this.weekdaysMin(c, ""), e = this.weekdaysShort(c, ""), f = this.weekdays(c, ""), g.push(d), h.push(e), i.push(f), j.push(d), j.push(e), j.push(f);
        for ( // Sorting makes sure if one weekday (or abbr) is a prefix of another it
            // will match the longer piece.
            g.sort(a), h.sort(a), i.sort(a), j.sort(a), b = 0; b < 7; b++) h[b] = aa(h[b]), i[b] = aa(i[b]), j[b] = aa(j[b]);
        this._weekdaysRegex = new RegExp("^(" + j.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp("^(" + i.join("|") + ")", "i"), this._weekdaysShortStrictRegex = new RegExp("^(" + h.join("|") + ")", "i"), this._weekdaysMinStrictRegex = new RegExp("^(" + g.join("|") + ")", "i");
    } // FORMATTING
    function Ra() {
        return this.hours() % 12 || 12;
    }

    function Sa() {
        return this.hours() || 24;
    }

    function Ta(a, b) {
        U(a, 0, 0, function() {
            return this.localeData().meridiem(this.hours(), this.minutes(), b);
        });
    } // PARSING
    function Ua(a, b) {
        return b._meridiemParse;
    } // LOCALES
    function Va(a) { // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
        // Using charAt should be more compatible.
        return "p" === (a + "").toLowerCase().charAt(0);
    }

    function Wa(a, b, c) {
        return a > 11 ? c ? "pm" : "PM" : c ? "am" : "AM";
    }

    function Xa(a) {
        return a ? a.toLowerCase().replace("_", "-") : a;
    } // pick the locale from the array
    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
    function Ya(a) {
        for (var b, c, d, e, f = 0; f < a.length;) {
            for (e = Xa(a[f]).split("-"), b = e.length, c = Xa(a[f + 1]), c = c ? c.split("-") : null; b > 0;) {
                if (d = Za(e.slice(0, b).join("-"))) return d;
                if (c && c.length >= b && v(e, c, !0) >= b - 1) //the next array item is better than a shallower substring of this one
                    break;
                b--;
            }
            f++;
        }
        return null;
    }

    function Za(a) {
        var b = null; // TODO: Find a better way to register and load all the locales in Node
        if (!Be[a] && "undefined" != typeof module && module && module.exports) try {
            b = xe._abbr, require("./locale/" + a), // because defineLocale currently also sets the global locale, we
                // want to undo that for lazy loaded locales
                $a(b);
        } catch (a) {}
        return Be[a];
    } // This function will load locale and then set the global locale.  If
    // no arguments are passed in, it will simply return the current global
    // locale key.
    function $a(a, b) {
        var c; // moment.duration._locale = moment._locale = data;
        return a && (c = p(b) ? bb(a) : _a(a, b), c && (xe = c)), xe._abbr;
    }

    function _a(a, b) {
        if (null !== b) {
            var c = Ae;
            if (b.abbr = a, null != Be[a]) y("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."), c = Be[a]._config;
            else if (null != b.parentLocale) {
                if (null == Be[b.parentLocale]) return Ce[b.parentLocale] || (Ce[b.parentLocale] = []), Ce[b.parentLocale].push({
                    name: a,
                    config: b
                }), null;
                c = Be[b.parentLocale]._config;
            } // backwards compat for now: also set the locale
            // make sure we set the locale AFTER all child locales have been
            // created, so we won't end up with the child locale set.
            return Be[a] = new C(B(c, b)), Ce[a] && Ce[a].forEach(function(a) {
                _a(a.name, a.config);
            }), $a(a), Be[a];
        } // useful for testing
        return delete Be[a], null;
    }

    function ab(a, b) {
        if (null != b) {
            var c, d = Ae; // MERGE
            null != Be[a] && (d = Be[a]._config), b = B(d, b), c = new C(b), c.parentLocale = Be[a], Be[a] = c, // backwards compat for now: also set the locale
                $a(a);
        } else // pass null for config to unupdate, useful for tests
            null != Be[a] && (null != Be[a].parentLocale ? Be[a] = Be[a].parentLocale : null != Be[a] && delete Be[a]);
        return Be[a];
    } // returns locale data
    function bb(a) {
        var b;
        if (a && a._locale && a._locale._abbr && (a = a._locale._abbr), !a) return xe;
        if (!c(a)) {
            if ( //short-circuit everything else
                b = Za(a)) return b;
            a = [a];
        }
        return Ya(a);
    }

    function cb() {
        return wd(Be);
    }

    function db(a) {
        var b, c = a._a;
        return c && m(a).overflow === -2 && (b = c[be] < 0 || c[be] > 11 ? be : c[ce] < 1 || c[ce] > ea(c[ae], c[be]) ? ce : c[de] < 0 || c[de] > 24 || 24 === c[de] && (0 !== c[ee] || 0 !== c[fe] || 0 !== c[ge]) ? de : c[ee] < 0 || c[ee] > 59 ? ee : c[fe] < 0 || c[fe] > 59 ? fe : c[ge] < 0 || c[ge] > 999 ? ge : -1, m(a)._overflowDayOfYear && (b < ae || b > ce) && (b = ce), m(a)._overflowWeeks && b === -1 && (b = he), m(a)._overflowWeekday && b === -1 && (b = ie), m(a).overflow = b), a;
    } // date from iso format
    function eb(a) {
        var b, c, d, e, f, g, h = a._i,
            i = De.exec(h) || Ee.exec(h);
        if (i) {
            for (m(a).iso = !0, b = 0, c = Ge.length; b < c; b++)
                if (Ge[b][1].exec(i[1])) {
                    e = Ge[b][0], d = Ge[b][2] !== !1;
                    break;
                }
            if (null == e) return void(a._isValid = !1);
            if (i[3]) {
                for (b = 0, c = He.length; b < c; b++)
                    if (He[b][1].exec(i[3])) { // match[2] should be 'T' or space
                        f = (i[2] || " ") + He[b][0];
                        break;
                    }
                if (null == f) return void(a._isValid = !1);
            }
            if (!d && null != f) return void(a._isValid = !1);
            if (i[4]) {
                if (!Fe.exec(i[4])) return void(a._isValid = !1);
                g = "Z";
            }
            a._f = e + (f || "") + (g || ""), kb(a);
        } else a._isValid = !1;
    } // date from iso format or fallback
    function fb(b) {
        var c = Ie.exec(b._i);
        return null !== c ? void(b._d = new Date(+c[1])) : (eb(b), void(b._isValid === !1 && (delete b._isValid, a.createFromInputFallback(b))));
    } // Pick the first defined of two or three arguments.
    function gb(a, b, c) {
        return null != a ? a : null != b ? b : c;
    }

    function hb(b) { // hooks is actually the exported moment object
        var c = new Date(a.now());
        return b._useUTC ? [c.getUTCFullYear(), c.getUTCMonth(), c.getUTCDate()] : [c.getFullYear(), c.getMonth(), c.getDate()];
    } // convert an array to a date.
    // the array should mirror the parameters below
    // note: all values past the year are optional and will default to the lowest possible value.
    // [year, month, day , hour, minute, second, millisecond]
    function ib(a) {
        var b, c, d, e, f = [];
        if (!a._d) { // Default to current date.
            // * if no year, month, day of month are given, default to today
            // * if day of month is given, default month and year
            // * if month is given, default only year
            // * if year is given, don't default anything
            for (d = hb(a), //compute day of the year from weeks and weekdays
                a._w && null == a._a[ce] && null == a._a[be] && jb(a), //if the day of the year is set, figure out what it is
                a._dayOfYear && (e = gb(a._a[ae], d[ae]), a._dayOfYear > pa(e) && (m(a)._overflowDayOfYear = !0), c = ta(e, 0, a._dayOfYear), a._a[be] = c.getUTCMonth(), a._a[ce] = c.getUTCDate()), b = 0; b < 3 && null == a._a[b]; ++b) a._a[b] = f[b] = d[b]; // Zero out whatever was not defaulted, including time
            for (; b < 7; b++) a._a[b] = f[b] = null == a._a[b] ? 2 === b ? 1 : 0 : a._a[b]; // Check for 24:00:00.000
            24 === a._a[de] && 0 === a._a[ee] && 0 === a._a[fe] && 0 === a._a[ge] && (a._nextDay = !0, a._a[de] = 0), a._d = (a._useUTC ? ta : sa).apply(null, f), // Apply timezone offset from input. The actual utcOffset can be changed
                // with parseZone.
                null != a._tzm && a._d.setUTCMinutes(a._d.getUTCMinutes() - a._tzm), a._nextDay && (a._a[de] = 24);
        }
    }

    function jb(a) {
        var b, c, d, e, f, g, h, i;
        if (b = a._w, null != b.GG || null != b.W || null != b.E) f = 1, g = 4, // TODO: We need to take the current isoWeekYear, but that depends on
            // how we interpret now (local, utc, fixed offset). So create
            // a now version of current config (take local/utc/offset flags, and
            // create now).
            c = gb(b.GG, a._a[ae], wa(sb(), 1, 4).year), d = gb(b.W, 1), e = gb(b.E, 1), (e < 1 || e > 7) && (i = !0);
        else {
            f = a._locale._week.dow, g = a._locale._week.doy;
            var j = wa(sb(), f, g);
            c = gb(b.gg, a._a[ae], j.year), // Default to current week.
                d = gb(b.w, j.week), null != b.d ? ( // weekday -- low day numbers are considered next week
                    e = b.d, (e < 0 || e > 6) && (i = !0)) : null != b.e ? ( // local weekday -- counting starts from begining of week
                    e = b.e + f, (b.e < 0 || b.e > 6) && (i = !0)) : // default to begining of week
                e = f;
        }
        d < 1 || d > xa(c, f, g) ? m(a)._overflowWeeks = !0 : null != i ? m(a)._overflowWeekday = !0 : (h = va(c, d, e, f, g), a._a[ae] = h.year, a._dayOfYear = h.dayOfYear);
    } // date from string and format string
    function kb(b) { // TODO: Move this to another part of the creation flow to prevent circular deps
        if (b._f === a.ISO_8601) return void eb(b);
        b._a = [], m(b).empty = !0; // This array is used to make a Date, either with `new Date` or `Date.UTC`
        var c, d, e, f, g, h = "" + b._i,
            i = h.length,
            j = 0;
        for (e = Y(b._f, b._locale).match(Fd) || [], c = 0; c < e.length; c++) f = e[c], d = (h.match($(f, b)) || [])[0], // console.log('token', token, 'parsedInput', parsedInput,
            //         'regex', getParseRegexForToken(token, config));
            d && (g = h.substr(0, h.indexOf(d)), g.length > 0 && m(b).unusedInput.push(g), h = h.slice(h.indexOf(d) + d.length), j += d.length), // don't parse if it's not a known token
            Id[f] ? (d ? m(b).empty = !1 : m(b).unusedTokens.push(f), da(f, d, b)) : b._strict && !d && m(b).unusedTokens.push(f); // add remaining unparsed input length to the string
        m(b).charsLeftOver = i - j, h.length > 0 && m(b).unusedInput.push(h), // clear _12h flag if hour is <= 12
            b._a[de] <= 12 && m(b).bigHour === !0 && b._a[de] > 0 && (m(b).bigHour = void 0), m(b).parsedDateParts = b._a.slice(0), m(b).meridiem = b._meridiem, // handle meridiem
            b._a[de] = lb(b._locale, b._a[de], b._meridiem), ib(b), db(b);
    }

    function lb(a, b, c) {
        var d; // Fallback
        return null == c ? b : null != a.meridiemHour ? a.meridiemHour(b, c) : null != a.isPM ? (d = a.isPM(c), d && b < 12 && (b += 12), d || 12 !== b || (b = 0), b) : b;
    } // date from string and array of format strings
    function mb(a) {
        var b, c, d, e, f;
        if (0 === a._f.length) return m(a).invalidFormat = !0, void(a._d = new Date(NaN));
        for (e = 0; e < a._f.length; e++) f = 0, b = q({}, a), null != a._useUTC && (b._useUTC = a._useUTC), b._f = a._f[e], kb(b), n(b) && ( // if there is any input that was not parsed add a penalty for that format
            f += m(b).charsLeftOver, //or tokens
            f += 10 * m(b).unusedTokens.length, m(b).score = f, (null == d || f < d) && (d = f, c = b));
        j(a, c || b);
    }

    function nb(a) {
        if (!a._d) {
            var b = L(a._i);
            a._a = h([b.year, b.month, b.day || b.date, b.hour, b.minute, b.second, b.millisecond], function(a) {
                return a && parseInt(a, 10);
            }), ib(a);
        }
    }

    function ob(a) {
        var b = new r(db(pb(a))); // Adding is smart enough around DST
        return b._nextDay && (b.add(1, "d"), b._nextDay = void 0), b;
    }

    function pb(a) {
        var b = a._i,
            d = a._f;
        return a._locale = a._locale || bb(a._l), null === b || void 0 === d && "" === b ? o({
            nullInput: !0
        }) : ("string" == typeof b && (a._i = b = a._locale.preparse(b)), s(b) ? new r(db(b)) : (g(b) ? a._d = b : c(d) ? mb(a) : d ? kb(a) : qb(a), n(a) || (a._d = null), a));
    }

    function qb(b) {
        var d = b._i;
        void 0 === d ? b._d = new Date(a.now()) : g(d) ? b._d = new Date(d.valueOf()) : "string" == typeof d ? fb(b) : c(d) ? (b._a = h(d.slice(0), function(a) {
                return parseInt(a, 10);
            }), ib(b)) : "object" == typeof d ? nb(b) : f(d) ? // from milliseconds
            b._d = new Date(d) : a.createFromInputFallback(b);
    }

    function rb(a, b, f, g, h) {
        var i = {}; // object construction must be done this way.
        // https://github.com/moment/moment/issues/1423
        return f !== !0 && f !== !1 || (g = f, f = void 0), (d(a) && e(a) || c(a) && 0 === a.length) && (a = void 0), i._isAMomentObject = !0, i._useUTC = i._isUTC = h, i._l = f, i._i = a, i._f = b, i._strict = g, ob(i);
    }

    function sb(a, b, c, d) {
        return rb(a, b, c, d, !1);
    } // Pick a moment m from moments so that m[fn](other) is true for all
    // other. This relies on the function fn to be transitive.
    //
    // moments should either be an array of moment objects or an array, whose
    // first element is an array of moment objects.
    function tb(a, b) {
        var d, e;
        if (1 === b.length && c(b[0]) && (b = b[0]), !b.length) return sb();
        for (d = b[0], e = 1; e < b.length; ++e) b[e].isValid() && !b[e][a](d) || (d = b[e]);
        return d;
    } // TODO: Use [].sort instead?
    function ub() {
        var a = [].slice.call(arguments, 0);
        return tb("isBefore", a);
    }

    function vb() {
        var a = [].slice.call(arguments, 0);
        return tb("isAfter", a);
    }

    function wb(a) {
        var b = L(a),
            c = b.year || 0,
            d = b.quarter || 0,
            e = b.month || 0,
            f = b.week || 0,
            g = b.day || 0,
            h = b.hour || 0,
            i = b.minute || 0,
            j = b.second || 0,
            k = b.millisecond || 0; // representation for dateAddRemove
        this._milliseconds = +k + 1e3 * j + // 1000
            6e4 * i + // 1000 * 60
            1e3 * h * 60 * 60, //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978
            // Because of dateAddRemove treats 24 hours as different from a
            // day when working around DST, we need to store them separately
            this._days = +g + 7 * f, // It is impossible translate months into days without knowing
            // which months you are are talking about, so we have to store
            // it separately.
            this._months = +e + 3 * d + 12 * c, this._data = {}, this._locale = bb(), this._bubble();
    }

    function xb(a) {
        return a instanceof wb;
    }

    function yb(a) {
        return a < 0 ? Math.round(-1 * a) * -1 : Math.round(a);
    } // FORMATTING
    function zb(a, b) {
        U(a, 0, 0, function() {
            var a = this.utcOffset(),
                c = "+";
            return a < 0 && (a = -a, c = "-"), c + T(~~(a / 60), 2) + b + T(~~a % 60, 2);
        });
    }

    function Ab(a, b) {
        var c = (b || "").match(a);
        if (null === c) return null;
        var d = c[c.length - 1] || [],
            e = (d + "").match(Me) || ["-", 0, 0],
            f = +(60 * e[1]) + u(e[2]);
        return 0 === f ? 0 : "+" === e[0] ? f : -f;
    } // Return a moment from input, that is local/utc/zone equivalent to model.
    function Bb(b, c) {
        var d, e; // Use low-level api, because this fn is low-level api.
        return c._isUTC ? (d = c.clone(), e = (s(b) || g(b) ? b.valueOf() : sb(b).valueOf()) - d.valueOf(), d._d.setTime(d._d.valueOf() + e), a.updateOffset(d, !1), d) : sb(b).local();
    }

    function Cb(a) { // On Firefox.24 Date#getTimezoneOffset returns a floating point.
        // https://github.com/moment/moment/pull/1871
        return 15 * -Math.round(a._d.getTimezoneOffset() / 15);
    } // MOMENTS
    // keepLocalTime = true means only change the timezone, without
    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->
    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset
    // +0200, so we adjust the time as needed, to be valid.
    //
    // Keeping the time actually adds/subtracts (one hour)
    // from the actual represented time. That is why we call updateOffset
    // a second time. In case it wants us to change the offset again
    // _changeInProgress == true case, then we have to adjust, because
    // there is no such time in the given timezone.
    function Db(b, c) {
        var d, e = this._offset || 0;
        if (!this.isValid()) return null != b ? this : NaN;
        if (null != b) {
            if ("string" == typeof b) {
                if (b = Ab(Xd, b), null === b) return this;
            } else Math.abs(b) < 16 && (b = 60 * b);
            return !this._isUTC && c && (d = Cb(this)), this._offset = b, this._isUTC = !0, null != d && this.add(d, "m"), e !== b && (!c || this._changeInProgress ? Tb(this, Ob(b - e, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, a.updateOffset(this, !0), this._changeInProgress = null)), this;
        }
        return this._isUTC ? e : Cb(this);
    }

    function Eb(a, b) {
        return null != a ? ("string" != typeof a && (a = -a), this.utcOffset(a, b), this) : -this.utcOffset();
    }

    function Fb(a) {
        return this.utcOffset(0, a);
    }

    function Gb(a) {
        return this._isUTC && (this.utcOffset(0, a), this._isUTC = !1, a && this.subtract(Cb(this), "m")), this;
    }

    function Hb() {
        if (null != this._tzm) this.utcOffset(this._tzm);
        else if ("string" == typeof this._i) {
            var a = Ab(Wd, this._i);
            null != a ? this.utcOffset(a) : this.utcOffset(0, !0);
        }
        return this;
    }

    function Ib(a) {
        return !!this.isValid() && (a = a ? sb(a).utcOffset() : 0, (this.utcOffset() - a) % 60 === 0);
    }

    function Jb() {
        return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset();
    }

    function Kb() {
        if (!p(this._isDSTShifted)) return this._isDSTShifted;
        var a = {};
        if (q(a, this), a = pb(a), a._a) {
            var b = a._isUTC ? k(a._a) : sb(a._a);
            this._isDSTShifted = this.isValid() && v(a._a, b.toArray()) > 0;
        } else this._isDSTShifted = !1;
        return this._isDSTShifted;
    }

    function Lb() {
        return !!this.isValid() && !this._isUTC;
    }

    function Mb() {
        return !!this.isValid() && this._isUTC;
    }

    function Nb() {
        return !!this.isValid() && this._isUTC && 0 === this._offset;
    }

    function Ob(a, b) {
        var c, d, e, g = a, // matching against regexp is expensive, do it on demand
            h = null; // checks for null or undefined
        return xb(a) ? g = {
            ms: a._milliseconds,
            d: a._days,
            M: a._months
        } : f(a) ? (g = {}, b ? g[b] = a : g.milliseconds = a) : (h = Ne.exec(a)) ? (c = "-" === h[1] ? -1 : 1, g = {
            y: 0,
            d: u(h[ce]) * c,
            h: u(h[de]) * c,
            m: u(h[ee]) * c,
            s: u(h[fe]) * c,
            ms: u(yb(1e3 * h[ge])) * c
        }) : (h = Oe.exec(a)) ? (c = "-" === h[1] ? -1 : 1, g = {
            y: Pb(h[2], c),
            M: Pb(h[3], c),
            w: Pb(h[4], c),
            d: Pb(h[5], c),
            h: Pb(h[6], c),
            m: Pb(h[7], c),
            s: Pb(h[8], c)
        }) : null == g ? g = {} : "object" == typeof g && ("from" in g || "to" in g) && (e = Rb(sb(g.from), sb(g.to)), g = {}, g.ms = e.milliseconds, g.M = e.months), d = new wb(g), xb(a) && i(a, "_locale") && (d._locale = a._locale), d;
    }

    function Pb(a, b) { // We'd normally use ~~inp for this, but unfortunately it also
        // converts floats to ints.
        // inp may be undefined, so careful calling replace on it.
        var c = a && parseFloat(a.replace(",", ".")); // apply sign while we're at it
        return (isNaN(c) ? 0 : c) * b;
    }

    function Qb(a, b) {
        var c = {
            milliseconds: 0,
            months: 0
        };
        return c.months = b.month() - a.month() + 12 * (b.year() - a.year()), a.clone().add(c.months, "M").isAfter(b) && --c.months, c.milliseconds = +b - +a.clone().add(c.months, "M"), c;
    }

    function Rb(a, b) {
        var c;
        return a.isValid() && b.isValid() ? (b = Bb(b, a), a.isBefore(b) ? c = Qb(a, b) : (c = Qb(b, a), c.milliseconds = -c.milliseconds, c.months = -c.months), c) : {
            milliseconds: 0,
            months: 0
        };
    } // TODO: remove 'name' arg after deprecation is removed
    function Sb(a, b) {
        return function(c, d) {
            var e, f; //invert the arguments, but complain about it
            return null === d || isNaN(+d) || (y(b, "moment()." + b + "(period, number) is deprecated. Please use moment()." + b + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."), f = c, c = d, d = f), c = "string" == typeof c ? +c : c, e = Ob(c, d), Tb(this, e, a), this;
        };
    }

    function Tb(b, c, d, e) {
        var f = c._milliseconds,
            g = yb(c._days),
            h = yb(c._months);
        b.isValid() && (e = null == e || e, f && b._d.setTime(b._d.valueOf() + f * d), g && Q(b, "Date", P(b, "Date") + g * d), h && ja(b, P(b, "Month") + h * d), e && a.updateOffset(b, g || h));
    }

    function Ub(a, b) {
        var c = a.diff(b, "days", !0);
        return c < -6 ? "sameElse" : c < -1 ? "lastWeek" : c < 0 ? "lastDay" : c < 1 ? "sameDay" : c < 2 ? "nextDay" : c < 7 ? "nextWeek" : "sameElse";
    }

    function Vb(b, c) { // We want to compare the start of today, vs this.
        // Getting start-of-today depends on whether we're local/utc/offset or not.
        var d = b || sb(),
            e = Bb(d, this).startOf("day"),
            f = a.calendarFormat(this, e) || "sameElse",
            g = c && (z(c[f]) ? c[f].call(this, d) : c[f]);
        return this.format(g || this.localeData().calendar(f, this, sb(d)));
    }

    function Wb() {
        return new r(this);
    }

    function Xb(a, b) {
        var c = s(a) ? a : sb(a);
        return !(!this.isValid() || !c.isValid()) && (b = K(p(b) ? "millisecond" : b), "millisecond" === b ? this.valueOf() > c.valueOf() : c.valueOf() < this.clone().startOf(b).valueOf());
    }

    function Yb(a, b) {
        var c = s(a) ? a : sb(a);
        return !(!this.isValid() || !c.isValid()) && (b = K(p(b) ? "millisecond" : b), "millisecond" === b ? this.valueOf() < c.valueOf() : this.clone().endOf(b).valueOf() < c.valueOf());
    }

    function Zb(a, b, c, d) {
        return d = d || "()", ("(" === d[0] ? this.isAfter(a, c) : !this.isBefore(a, c)) && (")" === d[1] ? this.isBefore(b, c) : !this.isAfter(b, c));
    }

    function $b(a, b) {
        var c, d = s(a) ? a : sb(a);
        return !(!this.isValid() || !d.isValid()) && (b = K(b || "millisecond"), "millisecond" === b ? this.valueOf() === d.valueOf() : (c = d.valueOf(), this.clone().startOf(b).valueOf() <= c && c <= this.clone().endOf(b).valueOf()));
    }

    function _b(a, b) {
        return this.isSame(a, b) || this.isAfter(a, b);
    }

    function ac(a, b) {
        return this.isSame(a, b) || this.isBefore(a, b);
    }

    function bc(a, b, c) {
        var d, e, f, g; // 1000
        // 1000 * 60
        // 1000 * 60 * 60
        // 1000 * 60 * 60 * 24, negate dst
        // 1000 * 60 * 60 * 24 * 7, negate dst
        return this.isValid() ? (d = Bb(a, this), d.isValid() ? (e = 6e4 * (d.utcOffset() - this.utcOffset()), b = K(b), "year" === b || "month" === b || "quarter" === b ? (g = cc(this, d), "quarter" === b ? g /= 3 : "year" === b && (g /= 12)) : (f = this - d, g = "second" === b ? f / 1e3 : "minute" === b ? f / 6e4 : "hour" === b ? f / 36e5 : "day" === b ? (f - e) / 864e5 : "week" === b ? (f - e) / 6048e5 : f), c ? g : t(g)) : NaN) : NaN;
    }

    function cc(a, b) { // difference in months
        var c, d, e = 12 * (b.year() - a.year()) + (b.month() - a.month()), // b is in (anchor - 1 month, anchor + 1 month)
            f = a.clone().add(e, "months"); //check for negative zero, return zero if negative zero
        // linear across the month
        // linear across the month
        return b - f < 0 ? (c = a.clone().add(e - 1, "months"), d = (b - f) / (f - c)) : (c = a.clone().add(e + 1, "months"), d = (b - f) / (c - f)), -(e + d) || 0;
    }

    function dc() {
        return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
    }

    function ec() {
        var a = this.clone().utc();
        return 0 < a.year() && a.year() <= 9999 ? z(Date.prototype.toISOString) ? this.toDate().toISOString() : X(a, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : X(a, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]");
    }
    /**
     * Return a human readable representation of a moment that can
     * also be evaluated to get a new moment which is the same
     *
     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects
     */
    function fc() {
        if (!this.isValid()) return "moment.invalid(/* " + this._i + " */)";
        var a = "moment",
            b = "";
        this.isLocal() || (a = 0 === this.utcOffset() ? "moment.utc" : "moment.parseZone", b = "Z");
        var c = "[" + a + '("]',
            d = 0 < this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY",
            e = "-MM-DD[T]HH:mm:ss.SSS",
            f = b + '[")]';
        return this.format(c + d + e + f);
    }

    function gc(b) {
        b || (b = this.isUtc() ? a.defaultFormatUtc : a.defaultFormat);
        var c = X(this, b);
        return this.localeData().postformat(c);
    }

    function hc(a, b) {
        return this.isValid() && (s(a) && a.isValid() || sb(a).isValid()) ? Ob({
            to: this,
            from: a
        }).locale(this.locale()).humanize(!b) : this.localeData().invalidDate();
    }

    function ic(a) {
        return this.from(sb(), a);
    }

    function jc(a, b) {
        return this.isValid() && (s(a) && a.isValid() || sb(a).isValid()) ? Ob({
            from: this,
            to: a
        }).locale(this.locale()).humanize(!b) : this.localeData().invalidDate();
    }

    function kc(a) {
        return this.to(sb(), a);
    } // If passed a locale key, it will set the locale for this
    // instance.  Otherwise, it will return the locale configuration
    // variables for this instance.
    function lc(a) {
        var b;
        return void 0 === a ? this._locale._abbr : (b = bb(a), null != b && (this._locale = b), this);
    }

    function mc() {
        return this._locale;
    }

    function nc(a) { // the following switch intentionally omits break keywords
        // to utilize falling through the cases.
        switch (a = K(a)) {
            case "year":
                this.month(0); /* falls through */
            case "quarter":
            case "month":
                this.date(1); /* falls through */
            case "week":
            case "isoWeek":
            case "day":
            case "date":
                this.hours(0); /* falls through */
            case "hour":
                this.minutes(0); /* falls through */
            case "minute":
                this.seconds(0); /* falls through */
            case "second":
                this.milliseconds(0);
        } // weeks are a special case
        // quarters are also special
        return "week" === a && this.weekday(0), "isoWeek" === a && this.isoWeekday(1), "quarter" === a && this.month(3 * Math.floor(this.month() / 3)), this;
    }

    function oc(a) { // 'date' is an alias for 'day', so it should be considered as such.
        return a = K(a), void 0 === a || "millisecond" === a ? this : ("date" === a && (a = "day"), this.startOf(a).add(1, "isoWeek" === a ? "week" : a).subtract(1, "ms"));
    }

    function pc() {
        return this._d.valueOf() - 6e4 * (this._offset || 0);
    }

    function qc() {
        return Math.floor(this.valueOf() / 1e3);
    }

    function rc() {
        return new Date(this.valueOf());
    }

    function sc() {
        var a = this;
        return [a.year(), a.month(), a.date(), a.hour(), a.minute(), a.second(), a.millisecond()];
    }

    function tc() {
        var a = this;
        return {
            years: a.year(),
            months: a.month(),
            date: a.date(),
            hours: a.hours(),
            minutes: a.minutes(),
            seconds: a.seconds(),
            milliseconds: a.milliseconds()
        };
    }

    function uc() { // new Date(NaN).toJSON() === null
        return this.isValid() ? this.toISOString() : null;
    }

    function vc() {
        return n(this);
    }

    function wc() {
        return j({}, m(this));
    }

    function xc() {
        return m(this).overflow;
    }

    function yc() {
        return {
            input: this._i,
            format: this._f,
            locale: this._locale,
            isUTC: this._isUTC,
            strict: this._strict
        };
    }

    function zc(a, b) {
        U(0, [a, a.length], 0, b);
    } // MOMENTS
    function Ac(a) {
        return Ec.call(this, a, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy);
    }

    function Bc(a) {
        return Ec.call(this, a, this.isoWeek(), this.isoWeekday(), 1, 4);
    }

    function Cc() {
        return xa(this.year(), 1, 4);
    }

    function Dc() {
        var a = this.localeData()._week;
        return xa(this.year(), a.dow, a.doy);
    }

    function Ec(a, b, c, d, e) {
        var f;
        return null == a ? wa(this, d, e).year : (f = xa(a, d, e), b > f && (b = f), Fc.call(this, a, b, c, d, e));
    }

    function Fc(a, b, c, d, e) {
        var f = va(a, b, c, d, e),
            g = ta(f.year, 0, f.dayOfYear);
        return this.year(g.getUTCFullYear()), this.month(g.getUTCMonth()), this.date(g.getUTCDate()), this;
    } // MOMENTS
    function Gc(a) {
        return null == a ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (a - 1) + this.month() % 3);
    } // HELPERS
    // MOMENTS
    function Hc(a) {
        var b = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
        return null == a ? b : this.add(a - b, "d");
    }

    function Ic(a, b) {
        b[ge] = u(1e3 * ("0." + a));
    } // MOMENTS
    function Jc() {
        return this._isUTC ? "UTC" : "";
    }

    function Kc() {
        return this._isUTC ? "Coordinated Universal Time" : "";
    }

    function Lc(a) {
        return sb(1e3 * a);
    }

    function Mc() {
        return sb.apply(null, arguments).parseZone();
    }

    function Nc(a) {
        return a;
    }

    function Oc(a, b, c, d) {
        var e = bb(),
            f = k().set(d, b);
        return e[c](f, a);
    }

    function Pc(a, b, c) {
        if (f(a) && (b = a, a = void 0), a = a || "", null != b) return Oc(a, b, c, "month");
        var d, e = [];
        for (d = 0; d < 12; d++) e[d] = Oc(a, d, c, "month");
        return e;
    } // ()
    // (5)
    // (fmt, 5)
    // (fmt)
    // (true)
    // (true, 5)
    // (true, fmt, 5)
    // (true, fmt)
    function Qc(a, b, c, d) {
        "boolean" == typeof a ? (f(b) && (c = b, b = void 0), b = b || "") : (b = a, c = b, a = !1, f(b) && (c = b, b = void 0), b = b || "");
        var e = bb(),
            g = a ? e._week.dow : 0;
        if (null != c) return Oc(b, (c + g) % 7, d, "day");
        var h, i = [];
        for (h = 0; h < 7; h++) i[h] = Oc(b, (h + g) % 7, d, "day");
        return i;
    }

    function Rc(a, b) {
        return Pc(a, b, "months");
    }

    function Sc(a, b) {
        return Pc(a, b, "monthsShort");
    }

    function Tc(a, b, c) {
        return Qc(a, b, c, "weekdays");
    }

    function Uc(a, b, c) {
        return Qc(a, b, c, "weekdaysShort");
    }

    function Vc(a, b, c) {
        return Qc(a, b, c, "weekdaysMin");
    }

    function Wc() {
        var a = this._data;
        return this._milliseconds = Ze(this._milliseconds), this._days = Ze(this._days), this._months = Ze(this._months), a.milliseconds = Ze(a.milliseconds), a.seconds = Ze(a.seconds), a.minutes = Ze(a.minutes), a.hours = Ze(a.hours), a.months = Ze(a.months), a.years = Ze(a.years), this;
    }

    function Xc(a, b, c, d) {
        var e = Ob(b, c);
        return a._milliseconds += d * e._milliseconds, a._days += d * e._days, a._months += d * e._months, a._bubble();
    } // supports only 2.0-style add(1, 's') or add(duration)
    function Yc(a, b) {
        return Xc(this, a, b, 1);
    } // supports only 2.0-style subtract(1, 's') or subtract(duration)
    function Zc(a, b) {
        return Xc(this, a, b, -1);
    }

    function $c(a) {
        return a < 0 ? Math.floor(a) : Math.ceil(a);
    }

    function _c() {
        var a, b, c, d, e, f = this._milliseconds,
            g = this._days,
            h = this._months,
            i = this._data; // if we have a mix of positive and negative values, bubble down first
        // check: https://github.com/moment/moment/issues/2166
        // The following code bubbles up values, see the tests for
        // examples of what that means.
        // convert days to months
        // 12 months -> 1 year
        return f >= 0 && g >= 0 && h >= 0 || f <= 0 && g <= 0 && h <= 0 || (f += 864e5 * $c(bd(h) + g), g = 0, h = 0), i.milliseconds = f % 1e3, a = t(f / 1e3), i.seconds = a % 60, b = t(a / 60), i.minutes = b % 60, c = t(b / 60), i.hours = c % 24, g += t(c / 24), e = t(ad(g)), h += e, g -= $c(bd(e)), d = t(h / 12), h %= 12, i.days = g, i.months = h, i.years = d, this;
    }

    function ad(a) { // 400 years have 146097 days (taking into account leap year rules)
        // 400 years have 12 months === 4800
        return 4800 * a / 146097;
    }

    function bd(a) { // the reverse of daysToMonths
        return 146097 * a / 4800;
    }

    function cd(a) {
        var b, c, d = this._milliseconds;
        if (a = K(a), "month" === a || "year" === a) return b = this._days + d / 864e5, c = this._months + ad(b), "month" === a ? c : c / 12;
        switch ( // handle milliseconds separately because of floating point math errors (issue #1867)
            b = this._days + Math.round(bd(this._months)), a) {
            case "week":
                return b / 7 + d / 6048e5;
            case "day":
                return b + d / 864e5;
            case "hour":
                return 24 * b + d / 36e5;
            case "minute":
                return 1440 * b + d / 6e4;
            case "second":
                return 86400 * b + d / 1e3; // Math.floor prevents floating point math errors here
            case "millisecond":
                return Math.floor(864e5 * b) + d;
            default:
                throw new Error("Unknown unit " + a);
        }
    } // TODO: Use this.as('ms')?
    function dd() {
        return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * u(this._months / 12);
    }

    function ed(a) {
        return function() {
            return this.as(a);
        };
    }

    function fd(a) {
        return a = K(a), this[a + "s"]();
    }

    function gd(a) {
        return function() {
            return this._data[a];
        };
    }

    function hd() {
        return t(this.days() / 7);
    } // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
    function id(a, b, c, d, e) {
        return e.relativeTime(b || 1, !!c, a, d);
    }

    function jd(a, b, c) {
        var d = Ob(a).abs(),
            e = of (d.as("s")),
            f = of (d.as("m")),
            g = of (d.as("h")),
            h = of (d.as("d")),
            i = of (d.as("M")),
            j = of (d.as("y")),
            k = e < pf.s && ["s", e] || f <= 1 && ["m"] || f < pf.m && ["mm", f] || g <= 1 && ["h"] || g < pf.h && ["hh", g] || h <= 1 && ["d"] || h < pf.d && ["dd", h] || i <= 1 && ["M"] || i < pf.M && ["MM", i] || j <= 1 && ["y"] || ["yy", j];
        return k[2] = b, k[3] = +a > 0, k[4] = c, id.apply(null, k);
    } // This function allows you to set the rounding function for relative time strings
    function kd(a) {
        return void 0 === a ? of : "function" == typeof a && ( of = a, !0);
    } // This function allows you to set a threshold for relative time strings
    function ld(a, b) {
        return void 0 !== pf[a] && (void 0 === b ? pf[a] : (pf[a] = b, !0));
    }

    function md(a) {
        var b = this.localeData(),
            c = jd(this, !a, b);
        return a && (c = b.pastFuture(+this, c)), b.postformat(c);
    }

    function nd() { // for ISO strings we do not use the normal bubbling rules:
        //  * milliseconds bubble up until they become hours
        //  * days do not bubble at all
        //  * months bubble up until they become years
        // This is because there is no context-free conversion between hours and days
        // (think of clock changes)
        // and also not between days and months (28-31 days per month)
        var a, b, c, d = qf(this._milliseconds) / 1e3,
            e = qf(this._days),
            f = qf(this._months); // 3600 seconds -> 60 minutes -> 1 hour
        a = t(d / 60), b = t(a / 60), d %= 60, a %= 60, // 12 months -> 1 year
            c = t(f / 12), f %= 12; // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
        var g = c,
            h = f,
            i = e,
            j = b,
            k = a,
            l = d,
            m = this.asSeconds();
        return m ? (m < 0 ? "-" : "") + "P" + (g ? g + "Y" : "") + (h ? h + "M" : "") + (i ? i + "D" : "") + (j || k || l ? "T" : "") + (j ? j + "H" : "") + (k ? k + "M" : "") + (l ? l + "S" : "") : "P0D";
    }
    var od, pd;
    pd = Array.prototype.some ? Array.prototype.some : function(a) {
        for (var b = Object(this), c = b.length >>> 0, d = 0; d < c; d++)
            if (d in b && a.call(this, b[d], d, b)) return !0;
        return !1;
    };
    var qd = pd,
        rd = a.momentProperties = [],
        sd = !1,
        td = {};
    a.suppressDeprecationWarnings = !1, a.deprecationHandler = null;
    var ud;
    ud = Object.keys ? Object.keys : function(a) {
        var b, c = [];
        for (b in a) i(a, b) && c.push(b);
        return c;
    };
    var vd, wd = ud,
        xd = {
            sameDay: "[Today at] LT",
            nextDay: "[Tomorrow at] LT",
            nextWeek: "dddd [at] LT",
            lastDay: "[Yesterday at] LT",
            lastWeek: "[Last] dddd [at] LT",
            sameElse: "L"
        },
        yd = {
            LTS: "h:mm:ss A",
            LT: "h:mm A",
            L: "MM/DD/YYYY",
            LL: "MMMM D, YYYY",
            LLL: "MMMM D, YYYY h:mm A",
            LLLL: "dddd, MMMM D, YYYY h:mm A"
        },
        zd = "Invalid date",
        Ad = "%d",
        Bd = /\d{1,2}/,
        Cd = {
            future: "in %s",
            past: "%s ago",
            s: "a few seconds",
            m: "a minute",
            mm: "%d minutes",
            h: "an hour",
            hh: "%d hours",
            d: "a day",
            dd: "%d days",
            M: "a month",
            MM: "%d months",
            y: "a year",
            yy: "%d years"
        },
        Dd = {},
        Ed = {},
        Fd = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
        Gd = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
        Hd = {},
        Id = {},
        Jd = /\d/,
        Kd = /\d\d/,
        Ld = /\d{3}/,
        Md = /\d{4}/,
        Nd = /[+-]?\d{6}/,
        Od = /\d\d?/,
        Pd = /\d\d\d\d?/,
        Qd = /\d\d\d\d\d\d?/,
        Rd = /\d{1,3}/,
        Sd = /\d{1,4}/,
        Td = /[+-]?\d{1,6}/,
        Ud = /\d+/,
        Vd = /[+-]?\d+/,
        Wd = /Z|[+-]\d\d:?\d\d/gi,
        Xd = /Z|[+-]\d\d(?::?\d\d)?/gi,
        Yd = /[+-]?\d+(\.\d{1,3})?/,
        Zd = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,
        $d = {},
        _d = {},
        ae = 0,
        be = 1,
        ce = 2,
        de = 3,
        ee = 4,
        fe = 5,
        ge = 6,
        he = 7,
        ie = 8;
    vd = Array.prototype.indexOf ? Array.prototype.indexOf : function(a) { // I know
        var b;
        for (b = 0; b < this.length; ++b)
            if (this[b] === a) return b;
        return -1;
    };
    var je = vd; // FORMATTING
    U("M", ["MM", 2], "Mo", function() {
            return this.month() + 1;
        }), U("MMM", 0, 0, function(a) {
            return this.localeData().monthsShort(this, a);
        }), U("MMMM", 0, 0, function(a) {
            return this.localeData().months(this, a);
        }), // ALIASES
        J("month", "M"), // PRIORITY
        M("month", 8), // PARSING
        Z("M", Od), Z("MM", Od, Kd), Z("MMM", function(a, b) {
            return b.monthsShortRegex(a);
        }), Z("MMMM", function(a, b) {
            return b.monthsRegex(a);
        }), ba(["M", "MM"], function(a, b) {
            b[be] = u(a) - 1;
        }), ba(["MMM", "MMMM"], function(a, b, c, d) {
            var e = c._locale.monthsParse(a, d, c._strict); // if we didn't find a month name, mark the date as invalid.
            null != e ? b[be] = e : m(c).invalidMonth = a;
        }); // LOCALES
    var ke = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,
        le = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
        me = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
        ne = Zd,
        oe = Zd; // FORMATTING
    U("Y", 0, 0, function() {
            var a = this.year();
            return a <= 9999 ? "" + a : "+" + a;
        }), U(0, ["YY", 2], 0, function() {
            return this.year() % 100;
        }), U(0, ["YYYY", 4], 0, "year"), U(0, ["YYYYY", 5], 0, "year"), U(0, ["YYYYYY", 6, !0], 0, "year"), // ALIASES
        J("year", "y"), // PRIORITIES
        M("year", 1), // PARSING
        Z("Y", Vd), Z("YY", Od, Kd), Z("YYYY", Sd, Md), Z("YYYYY", Td, Nd), Z("YYYYYY", Td, Nd), ba(["YYYYY", "YYYYYY"], ae), ba("YYYY", function(b, c) {
            c[ae] = 2 === b.length ? a.parseTwoDigitYear(b) : u(b);
        }), ba("YY", function(b, c) {
            c[ae] = a.parseTwoDigitYear(b);
        }), ba("Y", function(a, b) {
            b[ae] = parseInt(a, 10);
        }), // HOOKS
        a.parseTwoDigitYear = function(a) {
            return u(a) + (u(a) > 68 ? 1900 : 2e3);
        }; // MOMENTS
    var pe = O("FullYear", !0); // FORMATTING
    U("w", ["ww", 2], "wo", "week"), U("W", ["WW", 2], "Wo", "isoWeek"), // ALIASES
        J("week", "w"), J("isoWeek", "W"), // PRIORITIES
        M("week", 5), M("isoWeek", 5), // PARSING
        Z("w", Od), Z("ww", Od, Kd), Z("W", Od), Z("WW", Od, Kd), ca(["w", "ww", "W", "WW"], function(a, b, c, d) {
            b[d.substr(0, 1)] = u(a);
        });
    var qe = {
        dow: 0, // Sunday is the first day of the week.
        doy: 6
    }; // FORMATTING
    U("d", 0, "do", "day"), U("dd", 0, 0, function(a) {
            return this.localeData().weekdaysMin(this, a);
        }), U("ddd", 0, 0, function(a) {
            return this.localeData().weekdaysShort(this, a);
        }), U("dddd", 0, 0, function(a) {
            return this.localeData().weekdays(this, a);
        }), U("e", 0, 0, "weekday"), U("E", 0, 0, "isoWeekday"), // ALIASES
        J("day", "d"), J("weekday", "e"), J("isoWeekday", "E"), // PRIORITY
        M("day", 11), M("weekday", 11), M("isoWeekday", 11), // PARSING
        Z("d", Od), Z("e", Od), Z("E", Od), Z("dd", function(a, b) {
            return b.weekdaysMinRegex(a);
        }), Z("ddd", function(a, b) {
            return b.weekdaysShortRegex(a);
        }), Z("dddd", function(a, b) {
            return b.weekdaysRegex(a);
        }), ca(["dd", "ddd", "dddd"], function(a, b, c, d) {
            var e = c._locale.weekdaysParse(a, d, c._strict); // if we didn't get a weekday name, mark the date as invalid
            null != e ? b.d = e : m(c).invalidWeekday = a;
        }), ca(["d", "e", "E"], function(a, b, c, d) {
            b[d] = u(a);
        }); // LOCALES
    var re = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
        se = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
        te = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
        ue = Zd,
        ve = Zd,
        we = Zd;
    U("H", ["HH", 2], 0, "hour"), U("h", ["hh", 2], 0, Ra), U("k", ["kk", 2], 0, Sa), U("hmm", 0, 0, function() {
            return "" + Ra.apply(this) + T(this.minutes(), 2);
        }), U("hmmss", 0, 0, function() {
            return "" + Ra.apply(this) + T(this.minutes(), 2) + T(this.seconds(), 2);
        }), U("Hmm", 0, 0, function() {
            return "" + this.hours() + T(this.minutes(), 2);
        }), U("Hmmss", 0, 0, function() {
            return "" + this.hours() + T(this.minutes(), 2) + T(this.seconds(), 2);
        }), Ta("a", !0), Ta("A", !1), // ALIASES
        J("hour", "h"), // PRIORITY
        M("hour", 13), Z("a", Ua), Z("A", Ua), Z("H", Od), Z("h", Od), Z("HH", Od, Kd), Z("hh", Od, Kd), Z("hmm", Pd), Z("hmmss", Qd), Z("Hmm", Pd), Z("Hmmss", Qd), ba(["H", "HH"], de), ba(["a", "A"], function(a, b, c) {
            c._isPm = c._locale.isPM(a), c._meridiem = a;
        }), ba(["h", "hh"], function(a, b, c) {
            b[de] = u(a), m(c).bigHour = !0;
        }), ba("hmm", function(a, b, c) {
            var d = a.length - 2;
            b[de] = u(a.substr(0, d)), b[ee] = u(a.substr(d)), m(c).bigHour = !0;
        }), ba("hmmss", function(a, b, c) {
            var d = a.length - 4,
                e = a.length - 2;
            b[de] = u(a.substr(0, d)), b[ee] = u(a.substr(d, 2)), b[fe] = u(a.substr(e)), m(c).bigHour = !0;
        }), ba("Hmm", function(a, b, c) {
            var d = a.length - 2;
            b[de] = u(a.substr(0, d)), b[ee] = u(a.substr(d));
        }), ba("Hmmss", function(a, b, c) {
            var d = a.length - 4,
                e = a.length - 2;
            b[de] = u(a.substr(0, d)), b[ee] = u(a.substr(d, 2)), b[fe] = u(a.substr(e));
        });
    var xe, ye = /[ap]\.?m?\.?/i,
        ze = O("Hours", !0),
        Ae = {
            calendar: xd,
            longDateFormat: yd,
            invalidDate: zd,
            ordinal: Ad,
            ordinalParse: Bd,
            relativeTime: Cd,
            months: le,
            monthsShort: me,
            week: qe,
            weekdays: re,
            weekdaysMin: te,
            weekdaysShort: se,
            meridiemParse: ye
        },
        Be = {},
        Ce = {},
        De = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
        Ee = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
        Fe = /Z|[+-]\d\d(?::?\d\d)?/,
        Ge = [
            ["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/],
            ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/],
            ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/],
            ["GGGG-[W]WW", /\d{4}-W\d\d/, !1],
            ["YYYY-DDD", /\d{4}-\d{3}/],
            ["YYYY-MM", /\d{4}-\d\d/, !1],
            ["YYYYYYMMDD", /[+-]\d{10}/],
            ["YYYYMMDD", /\d{8}/], // YYYYMM is NOT allowed by the standard
            ["GGGG[W]WWE", /\d{4}W\d{3}/],
            ["GGGG[W]WW", /\d{4}W\d{2}/, !1],
            ["YYYYDDD", /\d{7}/]
        ],
        He = [
            ["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/],
            ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/],
            ["HH:mm:ss", /\d\d:\d\d:\d\d/],
            ["HH:mm", /\d\d:\d\d/],
            ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/],
            ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/],
            ["HHmmss", /\d\d\d\d\d\d/],
            ["HHmm", /\d\d\d\d/],
            ["HH", /\d\d/]
        ],
        Ie = /^\/?Date\((\-?\d+)/i;
    a.createFromInputFallback = x("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function(a) {
            a._d = new Date(a._i + (a._useUTC ? " UTC" : ""));
        }), // constant that refers to the ISO standard
        a.ISO_8601 = function() {};
    var Je = x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
            var a = sb.apply(null, arguments);
            return this.isValid() && a.isValid() ? a < this ? this : a : o();
        }),
        Ke = x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
            var a = sb.apply(null, arguments);
            return this.isValid() && a.isValid() ? a > this ? this : a : o();
        }),
        Le = function() {
            return Date.now ? Date.now() : +new Date();
        };
    zb("Z", ":"), zb("ZZ", ""), // PARSING
        Z("Z", Xd), Z("ZZ", Xd), ba(["Z", "ZZ"], function(a, b, c) {
            c._useUTC = !0, c._tzm = Ab(Xd, a);
        }); // HELPERS
    // timezone chunker
    // '+10:00' > ['10',  '00']
    // '-1530'  > ['-15', '30']
    var Me = /([\+\-]|\d\d)/gi; // HOOKS
    // This function will be called whenever a moment is mutated.
    // It is intended to keep the offset in sync with the timezone.
    a.updateOffset = function() {}; // ASP.NET json date format regex
    var Ne = /^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,
        Oe = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;
    Ob.fn = wb.prototype;
    var Pe = Sb(1, "add"),
        Qe = Sb(-1, "subtract");
    a.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", a.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]";
    var Re = x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function(a) {
        return void 0 === a ? this.localeData() : this.locale(a);
    }); // FORMATTING
    U(0, ["gg", 2], 0, function() {
            return this.weekYear() % 100;
        }), U(0, ["GG", 2], 0, function() {
            return this.isoWeekYear() % 100;
        }), zc("gggg", "weekYear"), zc("ggggg", "weekYear"), zc("GGGG", "isoWeekYear"), zc("GGGGG", "isoWeekYear"), // ALIASES
        J("weekYear", "gg"), J("isoWeekYear", "GG"), // PRIORITY
        M("weekYear", 1), M("isoWeekYear", 1), // PARSING
        Z("G", Vd), Z("g", Vd), Z("GG", Od, Kd), Z("gg", Od, Kd), Z("GGGG", Sd, Md), Z("gggg", Sd, Md), Z("GGGGG", Td, Nd), Z("ggggg", Td, Nd), ca(["gggg", "ggggg", "GGGG", "GGGGG"], function(a, b, c, d) {
            b[d.substr(0, 2)] = u(a);
        }), ca(["gg", "GG"], function(b, c, d, e) {
            c[e] = a.parseTwoDigitYear(b);
        }), // FORMATTING
        U("Q", 0, "Qo", "quarter"), // ALIASES
        J("quarter", "Q"), // PRIORITY
        M("quarter", 7), // PARSING
        Z("Q", Jd), ba("Q", function(a, b) {
            b[be] = 3 * (u(a) - 1);
        }), // FORMATTING
        U("D", ["DD", 2], "Do", "date"), // ALIASES
        J("date", "D"), // PRIOROITY
        M("date", 9), // PARSING
        Z("D", Od), Z("DD", Od, Kd), Z("Do", function(a, b) {
            return a ? b._ordinalParse : b._ordinalParseLenient;
        }), ba(["D", "DD"], ce), ba("Do", function(a, b) {
            b[ce] = u(a.match(Od)[0], 10);
        }); // MOMENTS
    var Se = O("Date", !0); // FORMATTING
    U("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), // ALIASES
        J("dayOfYear", "DDD"), // PRIORITY
        M("dayOfYear", 4), // PARSING
        Z("DDD", Rd), Z("DDDD", Ld), ba(["DDD", "DDDD"], function(a, b, c) {
            c._dayOfYear = u(a);
        }), // FORMATTING
        U("m", ["mm", 2], 0, "minute"), // ALIASES
        J("minute", "m"), // PRIORITY
        M("minute", 14), // PARSING
        Z("m", Od), Z("mm", Od, Kd), ba(["m", "mm"], ee); // MOMENTS
    var Te = O("Minutes", !1); // FORMATTING
    U("s", ["ss", 2], 0, "second"), // ALIASES
        J("second", "s"), // PRIORITY
        M("second", 15), // PARSING
        Z("s", Od), Z("ss", Od, Kd), ba(["s", "ss"], fe); // MOMENTS
    var Ue = O("Seconds", !1); // FORMATTING
    U("S", 0, 0, function() {
            return ~~(this.millisecond() / 100);
        }), U(0, ["SS", 2], 0, function() {
            return ~~(this.millisecond() / 10);
        }), U(0, ["SSS", 3], 0, "millisecond"), U(0, ["SSSS", 4], 0, function() {
            return 10 * this.millisecond();
        }), U(0, ["SSSSS", 5], 0, function() {
            return 100 * this.millisecond();
        }), U(0, ["SSSSSS", 6], 0, function() {
            return 1e3 * this.millisecond();
        }), U(0, ["SSSSSSS", 7], 0, function() {
            return 1e4 * this.millisecond();
        }), U(0, ["SSSSSSSS", 8], 0, function() {
            return 1e5 * this.millisecond();
        }), U(0, ["SSSSSSSSS", 9], 0, function() {
            return 1e6 * this.millisecond();
        }), // ALIASES
        J("millisecond", "ms"), // PRIORITY
        M("millisecond", 16), // PARSING
        Z("S", Rd, Jd), Z("SS", Rd, Kd), Z("SSS", Rd, Ld);
    var Ve;
    for (Ve = "SSSS"; Ve.length <= 9; Ve += "S") Z(Ve, Ud);
    for (Ve = "S"; Ve.length <= 9; Ve += "S") ba(Ve, Ic); // MOMENTS
    var We = O("Milliseconds", !1); // FORMATTING
    U("z", 0, 0, "zoneAbbr"), U("zz", 0, 0, "zoneName");
    var Xe = r.prototype;
    Xe.add = Pe, Xe.calendar = Vb, Xe.clone = Wb, Xe.diff = bc, Xe.endOf = oc, Xe.format = gc, Xe.from = hc, Xe.fromNow = ic, Xe.to = jc, Xe.toNow = kc, Xe.get = R, Xe.invalidAt = xc, Xe.isAfter = Xb, Xe.isBefore = Yb, Xe.isBetween = Zb, Xe.isSame = $b, Xe.isSameOrAfter = _b, Xe.isSameOrBefore = ac, Xe.isValid = vc, Xe.lang = Re, Xe.locale = lc, Xe.localeData = mc, Xe.max = Ke, Xe.min = Je, Xe.parsingFlags = wc, Xe.set = S, Xe.startOf = nc, Xe.subtract = Qe, Xe.toArray = sc, Xe.toObject = tc, Xe.toDate = rc, Xe.toISOString = ec, Xe.inspect = fc, Xe.toJSON = uc, Xe.toString = dc, Xe.unix = qc, Xe.valueOf = pc, Xe.creationData = yc, // Year
        Xe.year = pe, Xe.isLeapYear = ra, // Week Year
        Xe.weekYear = Ac, Xe.isoWeekYear = Bc, // Quarter
        Xe.quarter = Xe.quarters = Gc, // Month
        Xe.month = ka, Xe.daysInMonth = la, // Week
        Xe.week = Xe.weeks = Ba, Xe.isoWeek = Xe.isoWeeks = Ca, Xe.weeksInYear = Dc, Xe.isoWeeksInYear = Cc, // Day
        Xe.date = Se, Xe.day = Xe.days = Ka, Xe.weekday = La, Xe.isoWeekday = Ma, Xe.dayOfYear = Hc, // Hour
        Xe.hour = Xe.hours = ze, // Minute
        Xe.minute = Xe.minutes = Te, // Second
        Xe.second = Xe.seconds = Ue, // Millisecond
        Xe.millisecond = Xe.milliseconds = We, // Offset
        Xe.utcOffset = Db, Xe.utc = Fb, Xe.local = Gb, Xe.parseZone = Hb, Xe.hasAlignedHourOffset = Ib, Xe.isDST = Jb, Xe.isLocal = Lb, Xe.isUtcOffset = Mb, Xe.isUtc = Nb, Xe.isUTC = Nb, // Timezone
        Xe.zoneAbbr = Jc, Xe.zoneName = Kc, // Deprecations
        Xe.dates = x("dates accessor is deprecated. Use date instead.", Se), Xe.months = x("months accessor is deprecated. Use month instead", ka), Xe.years = x("years accessor is deprecated. Use year instead", pe), Xe.zone = x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", Eb), Xe.isDSTShifted = x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", Kb);
    var Ye = C.prototype;
    Ye.calendar = D, Ye.longDateFormat = E, Ye.invalidDate = F, Ye.ordinal = G, Ye.preparse = Nc, Ye.postformat = Nc, Ye.relativeTime = H, Ye.pastFuture = I, Ye.set = A, // Month
        Ye.months = fa, Ye.monthsShort = ga, Ye.monthsParse = ia, Ye.monthsRegex = na, Ye.monthsShortRegex = ma, // Week
        Ye.week = ya, Ye.firstDayOfYear = Aa, Ye.firstDayOfWeek = za, // Day of Week
        Ye.weekdays = Fa, Ye.weekdaysMin = Ha, Ye.weekdaysShort = Ga, Ye.weekdaysParse = Ja, Ye.weekdaysRegex = Na, Ye.weekdaysShortRegex = Oa, Ye.weekdaysMinRegex = Pa, // Hours
        Ye.isPM = Va, Ye.meridiem = Wa, $a("en", {
            ordinalParse: /\d{1,2}(th|st|nd|rd)/,
            ordinal: function(a) {
                var b = a % 10,
                    c = 1 === u(a % 100 / 10) ? "th" : 1 === b ? "st" : 2 === b ? "nd" : 3 === b ? "rd" : "th";
                return a + c;
            }
        }), // Side effect imports
        a.lang = x("moment.lang is deprecated. Use moment.locale instead.", $a), a.langData = x("moment.langData is deprecated. Use moment.localeData instead.", bb);
    var Ze = Math.abs,
        $e = ed("ms"),
        _e = ed("s"),
        af = ed("m"),
        bf = ed("h"),
        cf = ed("d"),
        df = ed("w"),
        ef = ed("M"),
        ff = ed("y"),
        gf = gd("milliseconds"),
        hf = gd("seconds"),
        jf = gd("minutes"),
        kf = gd("hours"),
        lf = gd("days"),
        mf = gd("months"),
        nf = gd("years"),
        of = Math.round,
        pf = {
            s: 45, // seconds to minute
            m: 45, // minutes to hour
            h: 22, // hours to day
            d: 26, // days to month
            M: 11
        },
        qf = Math.abs,
        rf = wb.prototype; // Deprecations
    // Side effect imports
    // FORMATTING
    // PARSING
    // Side effect imports
    return rf.abs = Wc, rf.add = Yc, rf.subtract = Zc, rf.as = cd, rf.asMilliseconds = $e, rf.asSeconds = _e, rf.asMinutes = af, rf.asHours = bf, rf.asDays = cf, rf.asWeeks = df, rf.asMonths = ef, rf.asYears = ff, rf.valueOf = dd, rf._bubble = _c, rf.get = fd, rf.milliseconds = gf, rf.seconds = hf, rf.minutes = jf, rf.hours = kf, rf.days = lf, rf.weeks = hd, rf.months = mf, rf.years = nf, rf.humanize = md, rf.toISOString = nd, rf.toString = nd, rf.toJSON = nd, rf.locale = lc, rf.localeData = mc, rf.toIsoString = x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", nd), rf.lang = Re, U("X", 0, 0, "unix"), U("x", 0, 0, "valueOf"), Z("x", Vd), Z("X", Yd), ba("X", function(a, b, c) {
        c._d = new Date(1e3 * parseFloat(a, 10));
    }), ba("x", function(a, b, c) {
        c._d = new Date(u(a));
    }), a.version = "2.17.1", b(sb), a.fn = Xe, a.min = ub, a.max = vb, a.now = Le, a.utc = k, a.unix = Lc, a.months = Rc, a.isDate = g, a.locale = $a, a.invalid = o, a.duration = Ob, a.isMoment = s, a.weekdays = Tc, a.parseZone = Mc, a.localeData = bb, a.isDuration = xb, a.monthsShort = Sc, a.weekdaysMin = Vc, a.defineLocale = _a, a.updateLocale = ab, a.locales = cb, a.weekdaysShort = Uc, a.normalizeUnits = K, a.relativeTimeRounding = kd, a.relativeTimeThreshold = ld, a.calendarFormat = Ub, a.prototype = Xe, a;
});
/*!
 * clipboard.js v1.6.1
 * https://zenorocha.github.io/clipboard.js
 *
 * Licensed MIT  Zeno Rocha
 */
! function(e) {
    if ("object" == typeof exports && "undefined" != typeof module) module.exports = e();
    else if ("function" == typeof define && define.amd) define([], e);
    else {
        var t;
        t = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, t.Clipboard = e();
    }
}(function() {
    var e, t, n;
    return function e(t, n, o) {
        function i(a, c) {
            if (!n[a]) {
                if (!t[a]) {
                    var l = "function" == typeof require && require;
                    if (!c && l) return l(a, !0);
                    if (r) return r(a, !0);
                    var u = new Error("Cannot find module '" + a + "'");
                    throw u.code = "MODULE_NOT_FOUND", u;
                }
                var s = n[a] = {
                    exports: {}
                };
                t[a][0].call(s.exports, function(e) {
                    var n = t[a][1][e];
                    return i(n ? n : e);
                }, s, s.exports, e, t, n, o);
            }
            return n[a].exports;
        }
        for (var r = "function" == typeof require && require, a = 0; a < o.length; a++) i(o[a]);
        return i;
    }({
        1: [function(e, t, n) {
            function o(e, t) {
                for (; e && e.nodeType !== i;) {
                    if (e.matches(t)) return e;
                    e = e.parentNode;
                }
            }
            var i = 9;
            if ("undefined" != typeof Element && !Element.prototype.matches) {
                var r = Element.prototype;
                r.matches = r.matchesSelector || r.mozMatchesSelector || r.msMatchesSelector || r.oMatchesSelector || r.webkitMatchesSelector;
            }
            t.exports = o;
        }, {}],
        2: [function(e, t, n) {
            function o(e, t, n, o, r) {
                var a = i.apply(this, arguments);
                return e.addEventListener(n, a, r), {
                    destroy: function() {
                        e.removeEventListener(n, a, r);
                    }
                };
            }

            function i(e, t, n, o) {
                return function(n) {
                    n.delegateTarget = r(n.target, t), n.delegateTarget && o.call(e, n);
                };
            }
            var r = e("./closest");
            t.exports = o;
        }, {
            "./closest": 1
        }],
        3: [function(e, t, n) {
            n.node = function(e) {
                return void 0 !== e && e instanceof HTMLElement && 1 === e.nodeType;
            }, n.nodeList = function(e) {
                var t = Object.prototype.toString.call(e);
                return void 0 !== e && ("[object NodeList]" === t || "[object HTMLCollection]" === t) && "length" in e && (0 === e.length || n.node(e[0]));
            }, n.string = function(e) {
                return "string" == typeof e || e instanceof String;
            }, n.fn = function(e) {
                var t = Object.prototype.toString.call(e);
                return "[object Function]" === t;
            };
        }, {}],
        4: [function(e, t, n) {
            function o(e, t, n) {
                if (!e && !t && !n) throw new Error("Missing required arguments");
                if (!c.string(t)) throw new TypeError("Second argument must be a String");
                if (!c.fn(n)) throw new TypeError("Third argument must be a Function");
                if (c.node(e)) return i(e, t, n);
                if (c.nodeList(e)) return r(e, t, n);
                if (c.string(e)) return a(e, t, n);
                throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");
            }

            function i(e, t, n) {
                return e.addEventListener(t, n), {
                    destroy: function() {
                        e.removeEventListener(t, n);
                    }
                };
            }

            function r(e, t, n) {
                return Array.prototype.forEach.call(e, function(e) {
                    e.addEventListener(t, n);
                }), {
                    destroy: function() {
                        Array.prototype.forEach.call(e, function(e) {
                            e.removeEventListener(t, n);
                        });
                    }
                };
            }

            function a(e, t, n) {
                return l(document.body, e, t, n);
            }
            var c = e("./is"),
                l = e("delegate");
            t.exports = o;
        }, {
            "./is": 3,
            delegate: 2
        }],
        5: [function(e, t, n) {
            function o(e) {
                var t;
                if ("SELECT" === e.nodeName) e.focus(), t = e.value;
                else if ("INPUT" === e.nodeName || "TEXTAREA" === e.nodeName) {
                    var n = e.hasAttribute("readonly");
                    n || e.setAttribute("readonly", ""), e.select(), e.setSelectionRange(0, e.value.length), n || e.removeAttribute("readonly"), t = e.value;
                } else {
                    e.hasAttribute("contenteditable") && e.focus();
                    var o = window.getSelection(),
                        i = document.createRange();
                    i.selectNodeContents(e), o.removeAllRanges(), o.addRange(i), t = o.toString();
                }
                return t;
            }
            t.exports = o;
        }, {}],
        6: [function(e, t, n) {
            function o() {}
            o.prototype = {
                on: function(e, t, n) {
                    var o = this.e || (this.e = {});
                    return (o[e] || (o[e] = [])).push({
                        fn: t,
                        ctx: n
                    }), this;
                },
                once: function(e, t, n) {
                    function o() {
                        i.off(e, o), t.apply(n, arguments);
                    }
                    var i = this;
                    return o._ = t, this.on(e, o, n);
                },
                emit: function(e) {
                    var t = [].slice.call(arguments, 1),
                        n = ((this.e || (this.e = {}))[e] || []).slice(),
                        o = 0,
                        i = n.length;
                    for (o; o < i; o++) n[o].fn.apply(n[o].ctx, t);
                    return this;
                },
                off: function(e, t) {
                    var n = this.e || (this.e = {}),
                        o = n[e],
                        i = [];
                    if (o && t)
                        for (var r = 0, a = o.length; r < a; r++) o[r].fn !== t && o[r].fn._ !== t && i.push(o[r]);
                    return i.length ? n[e] = i : delete n[e], this;
                }
            }, t.exports = o;
        }, {}],
        7: [function(t, n, o) {
            ! function(i, r) {
                if ("function" == typeof e && e.amd) e(["module", "select"], r);
                else if ("undefined" != typeof o) r(n, t("select"));
                else {
                    var a = {
                        exports: {}
                    };
                    r(a, i.select), i.clipboardAction = a.exports;
                }
            }(this, function(e, t) {
                "use strict";

                function n(e) {
                    return e && e.__esModule ? e : {
                        default: e
                    };
                }

                function o(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
                }
                var i = n(t),
                    r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                        return typeof e;
                    } : function(e) {
                        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
                    },
                    a = function() {
                        function e(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var o = t[n];
                                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);
                            }
                        }
                        return function(t, n, o) {
                            return n && e(t.prototype, n), o && e(t, o), t;
                        };
                    }(),
                    c = function() {
                        function e(t) {
                            o(this, e), this.resolveOptions(t), this.initSelection();
                        }
                        return a(e, [{
                            key: "resolveOptions",
                            value: function e() {
                                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                                this.action = t.action, this.emitter = t.emitter, this.target = t.target, this.text = t.text, this.trigger = t.trigger, this.selectedText = "";
                            }
                        }, {
                            key: "initSelection",
                            value: function e() {
                                this.text ? this.selectFake() : this.target && this.selectTarget();
                            }
                        }, {
                            key: "selectFake",
                            value: function e() {
                                var t = this,
                                    n = "rtl" == document.documentElement.getAttribute("dir");
                                this.removeFake(), this.fakeHandlerCallback = function() {
                                    return t.removeFake();
                                }, this.fakeHandler = document.body.addEventListener("click", this.fakeHandlerCallback) || !0, this.fakeElem = document.createElement("textarea"), this.fakeElem.style.fontSize = "12pt", this.fakeElem.style.border = "0", this.fakeElem.style.padding = "0", this.fakeElem.style.margin = "0", this.fakeElem.style.position = "absolute", this.fakeElem.style[n ? "right" : "left"] = "-9999px";
                                var o = window.pageYOffset || document.documentElement.scrollTop;
                                this.fakeElem.style.top = o + "px", this.fakeElem.setAttribute("readonly", ""), this.fakeElem.value = this.text, document.body.appendChild(this.fakeElem), this.selectedText = (0, i.default)(this.fakeElem), this.copyText();
                            }
                        }, {
                            key: "removeFake",
                            value: function e() {
                                this.fakeHandler && (document.body.removeEventListener("click", this.fakeHandlerCallback), this.fakeHandler = null, this.fakeHandlerCallback = null), this.fakeElem && (document.body.removeChild(this.fakeElem), this.fakeElem = null);
                            }
                        }, {
                            key: "selectTarget",
                            value: function e() {
                                this.selectedText = (0, i.default)(this.target), this.copyText();
                            }
                        }, {
                            key: "copyText",
                            value: function e() {
                                var t = void 0;
                                try {
                                    t = document.execCommand(this.action);
                                } catch (e) {
                                    t = !1;
                                }
                                this.handleResult(t);
                            }
                        }, {
                            key: "handleResult",
                            value: function e(t) {
                                this.emitter.emit(t ? "success" : "error", {
                                    action: this.action,
                                    text: this.selectedText,
                                    trigger: this.trigger,
                                    clearSelection: this.clearSelection.bind(this)
                                });
                            }
                        }, {
                            key: "clearSelection",
                            value: function e() {
                                this.target && this.target.blur(), window.getSelection().removeAllRanges();
                            }
                        }, {
                            key: "destroy",
                            value: function e() {
                                this.removeFake();
                            }
                        }, {
                            key: "action",
                            set: function e() {
                                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "copy";
                                if (this._action = t, "copy" !== this._action && "cut" !== this._action) throw new Error('Invalid "action" value, use either "copy" or "cut"');
                            },
                            get: function e() {
                                return this._action;
                            }
                        }, {
                            key: "target",
                            set: function e(t) {
                                if (void 0 !== t) {
                                    if (!t || "object" !== ("undefined" == typeof t ? "undefined" : r(t)) || 1 !== t.nodeType) throw new Error('Invalid "target" value, use a valid Element');
                                    if ("copy" === this.action && t.hasAttribute("disabled")) throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');
                                    if ("cut" === this.action && (t.hasAttribute("readonly") || t.hasAttribute("disabled"))) throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');
                                    this._target = t;
                                }
                            },
                            get: function e() {
                                return this._target;
                            }
                        }]), e;
                    }();
                e.exports = c;
            });
        }, {
            select: 5
        }],
        8: [function(t, n, o) {
            ! function(i, r) {
                if ("function" == typeof e && e.amd) e(["module", "./clipboard-action", "tiny-emitter", "good-listener"], r);
                else if ("undefined" != typeof o) r(n, t("./clipboard-action"), t("tiny-emitter"), t("good-listener"));
                else {
                    var a = {
                        exports: {}
                    };
                    r(a, i.clipboardAction, i.tinyEmitter, i.goodListener), i.clipboard = a.exports;
                }
            }(this, function(e, t, n, o) {
                "use strict";

                function i(e) {
                    return e && e.__esModule ? e : {
                        default: e
                    };
                }

                function r(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
                }

                function a(e, t) {
                    if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return !t || "object" != typeof t && "function" != typeof t ? e : t;
                }

                function c(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
                }

                function l(e, t) {
                    var n = "data-clipboard-" + e;
                    if (t.hasAttribute(n)) return t.getAttribute(n);
                }
                var u = i(t),
                    s = i(n),
                    f = i(o),
                    d = function() {
                        function e(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var o = t[n];
                                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);
                            }
                        }
                        return function(t, n, o) {
                            return n && e(t.prototype, n), o && e(t, o), t;
                        };
                    }(),
                    h = function(e) {
                        function t(e, n) {
                            r(this, t);
                            var o = a(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                            return o.resolveOptions(n), o.listenClick(e), o;
                        }
                        return c(t, e), d(t, [{
                            key: "resolveOptions",
                            value: function e() {
                                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                                this.action = "function" == typeof t.action ? t.action : this.defaultAction, this.target = "function" == typeof t.target ? t.target : this.defaultTarget, this.text = "function" == typeof t.text ? t.text : this.defaultText;
                            }
                        }, {
                            key: "listenClick",
                            value: function e(t) {
                                var n = this;
                                this.listener = (0, f.default)(t, "click", function(e) {
                                    return n.onClick(e);
                                });
                            }
                        }, {
                            key: "onClick",
                            value: function e(t) {
                                var n = t.delegateTarget || t.currentTarget;
                                this.clipboardAction && (this.clipboardAction = null), this.clipboardAction = new u.default({
                                    action: this.action(n),
                                    target: this.target(n),
                                    text: this.text(n),
                                    trigger: n,
                                    emitter: this
                                });
                            }
                        }, {
                            key: "defaultAction",
                            value: function e(t) {
                                return l("action", t);
                            }
                        }, {
                            key: "defaultTarget",
                            value: function e(t) {
                                var n = l("target", t);
                                if (n) return document.querySelector(n);
                            }
                        }, {
                            key: "defaultText",
                            value: function e(t) {
                                return l("text", t);
                            }
                        }, {
                            key: "destroy",
                            value: function e() {
                                this.listener.destroy(), this.clipboardAction && (this.clipboardAction.destroy(), this.clipboardAction = null);
                            }
                        }], [{
                            key: "isSupported",
                            value: function e() {
                                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ["copy", "cut"],
                                    n = "string" == typeof t ? [t] : t,
                                    o = !!document.queryCommandSupported;
                                return n.forEach(function(e) {
                                    o = o && !!document.queryCommandSupported(e);
                                }), o;
                            }
                        }]), t;
                    }(s.default);
                e.exports = h;
            });
        }, {
            "./clipboard-action": 7,
            "good-listener": 4,
            "tiny-emitter": 6
        }]
    }, {}, [8])(8);
}); /*! Select2 4.0.3 | https://github.com/select2/select2/blob/master/LICENSE.md */
! function(a) {
    "function" == typeof define && define.amd ? define(["jquery"], a) : a("object" == typeof exports ? require("jquery") : jQuery);
}(function(a) {
    var b = function() {
            if (a && a.fn && a.fn.select2 && a.fn.select2.amd) var b = a.fn.select2.amd;
            var b;
            return function() {
                    if (!b || !b.requirejs) {
                        b ? c = b : b = {};
                        var a, c, d;
                        ! function(b) {
                            function e(a, b) {
                                return u.call(a, b);
                            }

                            function f(a, b) {
                                var c, d, e, f, g, h, i, j, k, l, m, n = b && b.split("/"),
                                    o = s.map,
                                    p = o && o["*"] || {};
                                if (a && "." === a.charAt(0))
                                    if (b) {
                                        for (a = a.split("/"), g = a.length - 1, s.nodeIdCompat && w.test(a[g]) && (a[g] = a[g].replace(w, "")), a = n.slice(0, n.length - 1).concat(a), k = 0; k < a.length; k += 1)
                                            if (m = a[k], "." === m) a.splice(k, 1), k -= 1;
                                            else if (".." === m) {
                                            if (1 === k && (".." === a[2] || ".." === a[0])) break;
                                            k > 0 && (a.splice(k - 1, 2), k -= 2);
                                        }
                                        a = a.join("/");
                                    } else 0 === a.indexOf("./") && (a = a.substring(2));
                                if ((n || p) && o) {
                                    for (c = a.split("/"), k = c.length; k > 0; k -= 1) {
                                        if (d = c.slice(0, k).join("/"), n)
                                            for (l = n.length; l > 0; l -= 1)
                                                if (e = o[n.slice(0, l).join("/")], e && (e = e[d])) {
                                                    f = e, h = k;
                                                    break;
                                                }
                                        if (f) break;
                                        !i && p && p[d] && (i = p[d], j = k);
                                    }!f && i && (f = i, h = j), f && (c.splice(0, h, f), a = c.join("/"));
                                }
                                return a;
                            }

                            function g(a, c) {
                                return function() {
                                    var d = v.call(arguments, 0);
                                    return "string" != typeof d[0] && 1 === d.length && d.push(null), n.apply(b, d.concat([a, c]));
                                };
                            }

                            function h(a) {
                                return function(b) {
                                    return f(b, a);
                                };
                            }

                            function i(a) {
                                return function(b) {
                                    q[a] = b;
                                };
                            }

                            function j(a) {
                                if (e(r, a)) {
                                    var c = r[a];
                                    delete r[a], t[a] = !0, m.apply(b, c);
                                }
                                if (!e(q, a) && !e(t, a)) throw new Error("No " + a);
                                return q[a];
                            }

                            function k(a) {
                                var b, c = a ? a.indexOf("!") : -1;
                                return c > -1 && (b = a.substring(0, c), a = a.substring(c + 1, a.length)), [b, a];
                            }

                            function l(a) {
                                return function() {
                                    return s && s.config && s.config[a] || {};
                                };
                            }
                            var m, n, o, p, q = {},
                                r = {},
                                s = {},
                                t = {},
                                u = Object.prototype.hasOwnProperty,
                                v = [].slice,
                                w = /\.js$/;
                            o = function(a, b) {
                                var c, d = k(a),
                                    e = d[0];
                                return a = d[1], e && (e = f(e, b), c = j(e)), e ? a = c && c.normalize ? c.normalize(a, h(b)) : f(a, b) : (a = f(a, b), d = k(a), e = d[0], a = d[1], e && (c = j(e))), {
                                    f: e ? e + "!" + a : a,
                                    n: a,
                                    pr: e,
                                    p: c
                                };
                            }, p = {
                                require: function(a) {
                                    return g(a);
                                },
                                exports: function(a) {
                                    var b = q[a];
                                    return "undefined" != typeof b ? b : q[a] = {};
                                },
                                module: function(a) {
                                    return {
                                        id: a,
                                        uri: "",
                                        exports: q[a],
                                        config: l(a)
                                    };
                                }
                            }, m = function(a, c, d, f) {
                                var h, k, l, m, n, s, u = [],
                                    v = typeof d;
                                if (f = f || a, "undefined" === v || "function" === v) {
                                    for (c = !c.length && d.length ? ["require", "exports", "module"] : c, n = 0; n < c.length; n += 1)
                                        if (m = o(c[n], f), k = m.f, "require" === k) u[n] = p.require(a);
                                        else if ("exports" === k) u[n] = p.exports(a), s = !0;
                                    else if ("module" === k) h = u[n] = p.module(a);
                                    else if (e(q, k) || e(r, k) || e(t, k)) u[n] = j(k);
                                    else {
                                        if (!m.p) throw new Error(a + " missing " + k);
                                        m.p.load(m.n, g(f, !0), i(k), {}), u[n] = q[k];
                                    }
                                    l = d ? d.apply(q[a], u) : void 0, a && (h && h.exports !== b && h.exports !== q[a] ? q[a] = h.exports : l === b && s || (q[a] = l));
                                } else a && (q[a] = d);
                            }, a = c = n = function(a, c, d, e, f) {
                                if ("string" == typeof a) return p[a] ? p[a](c) : j(o(a, c).f);
                                if (!a.splice) {
                                    if (s = a, s.deps && n(s.deps, s.callback), !c) return;
                                    c.splice ? (a = c, c = d, d = null) : a = b;
                                }
                                return c = c || function() {}, "function" == typeof d && (d = e, e = f), e ? m(b, a, c, d) : setTimeout(function() {
                                    m(b, a, c, d);
                                }, 4), n;
                            }, n.config = function(a) {
                                return n(a);
                            }, a._defined = q, d = function(a, b, c) {
                                if ("string" != typeof a) throw new Error("See almond README: incorrect module build, no module name");
                                b.splice || (c = b, b = []), e(q, a) || e(r, a) || (r[a] = [a, b, c]);
                            }, d.amd = {
                                jQuery: !0
                            };
                        }(), b.requirejs = a, b.require = c, b.define = d;
                    }
                }(), b.define("almond", function() {}), b.define("jquery", [], function() {
                    var b = a || $;
                    return null == b && console && console.error && console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."), b;
                }), b.define("select2/utils", ["jquery"], function(a) {
                    function b(a) {
                        var b = a.prototype,
                            c = [];
                        for (var d in b) {
                            var e = b[d];
                            "function" == typeof e && "constructor" !== d && c.push(d);
                        }
                        return c;
                    }
                    var c = {};
                    c.Extend = function(a, b) {
                        function c() {
                            this.constructor = a;
                        }
                        var d = {}.hasOwnProperty;
                        for (var e in b) d.call(b, e) && (a[e] = b[e]);
                        return c.prototype = b.prototype, a.prototype = new c(), a.__super__ = b.prototype, a;
                    }, c.Decorate = function(a, c) {
                        function d() {
                            var b = Array.prototype.unshift,
                                d = c.prototype.constructor.length,
                                e = a.prototype.constructor;
                            d > 0 && (b.call(arguments, a.prototype.constructor), e = c.prototype.constructor), e.apply(this, arguments);
                        }

                        function e() {
                            this.constructor = d;
                        }
                        var f = b(c),
                            g = b(a);
                        c.displayName = a.displayName, d.prototype = new e();
                        for (var h = 0; h < g.length; h++) {
                            var i = g[h];
                            d.prototype[i] = a.prototype[i];
                        }
                        for (var j = function(a) {
                                var b = function() {};
                                (a in d.prototype) && (b = d.prototype[a]);
                                var e = c.prototype[a];
                                return function() {
                                    var a = Array.prototype.unshift;
                                    return a.call(arguments, b), e.apply(this, arguments);
                                };
                            }, k = 0; k < f.length; k++) {
                            var l = f[k];
                            d.prototype[l] = j(l);
                        }
                        return d;
                    };
                    var d = function() {
                        this.listeners = {};
                    };
                    return d.prototype.on = function(a, b) {
                        this.listeners = this.listeners || {}, a in this.listeners ? this.listeners[a].push(b) : this.listeners[a] = [b];
                    }, d.prototype.trigger = function(a) {
                        var b = Array.prototype.slice,
                            c = b.call(arguments, 1);
                        this.listeners = this.listeners || {}, null == c && (c = []), 0 === c.length && c.push({}), c[0]._type = a, a in this.listeners && this.invoke(this.listeners[a], b.call(arguments, 1)), "*" in this.listeners && this.invoke(this.listeners["*"], arguments);
                    }, d.prototype.invoke = function(a, b) {
                        for (var c = 0, d = a.length; d > c; c++) a[c].apply(this, b);
                    }, c.Observable = d, c.generateChars = function(a) {
                        for (var b = "", c = 0; a > c; c++) {
                            var d = Math.floor(36 * Math.random());
                            b += d.toString(36);
                        }
                        return b;
                    }, c.bind = function(a, b) {
                        return function() {
                            a.apply(b, arguments);
                        };
                    }, c._convertData = function(a) {
                        for (var b in a) {
                            var c = b.split("-"),
                                d = a;
                            if (1 !== c.length) {
                                for (var e = 0; e < c.length; e++) {
                                    var f = c[e];
                                    f = f.substring(0, 1).toLowerCase() + f.substring(1), f in d || (d[f] = {}), e == c.length - 1 && (d[f] = a[b]), d = d[f];
                                }
                                delete a[b];
                            }
                        }
                        return a;
                    }, c.hasScroll = function(b, c) {
                        var d = a(c),
                            e = c.style.overflowX,
                            f = c.style.overflowY;
                        return e !== f || "hidden" !== f && "visible" !== f ? "scroll" === e || "scroll" === f ? !0 : d.innerHeight() < c.scrollHeight || d.innerWidth() < c.scrollWidth : !1;
                    }, c.escapeMarkup = function(a) {
                        var b = {
                            "\\": "&#92;",
                            "&": "&amp;",
                            "<": "&lt;",
                            ">": "&gt;",
                            '"': "&quot;",
                            "'": "&#39;",
                            "/": "&#47;"
                        };
                        return "string" != typeof a ? a : String(a).replace(/[&<>"'\/\\]/g, function(a) {
                            return b[a];
                        });
                    }, c.appendMany = function(b, c) {
                        if ("1.7" === a.fn.jquery.substr(0, 3)) {
                            var d = a();
                            a.map(c, function(a) {
                                d = d.add(a);
                            }), c = d;
                        }
                        b.append(c);
                    }, c;
                }), b.define("select2/results", ["jquery", "./utils"], function(a, b) {
                    function c(a, b, d) {
                        this.$element = a, this.data = d, this.options = b, c.__super__.constructor.call(this);
                    }
                    return b.Extend(c, b.Observable), c.prototype.render = function() {
                        var b = a('<ul class="select2-results__options" role="tree"></ul>');
                        return this.options.get("multiple") && b.attr("aria-multiselectable", "true"), this.$results = b, b;
                    }, c.prototype.clear = function() {
                        this.$results.empty();
                    }, c.prototype.displayMessage = function(b) {
                        var c = this.options.get("escapeMarkup");
                        this.clear(), this.hideLoading();
                        var d = a('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),
                            e = this.options.get("translations").get(b.message);
                        d.append(c(e(b.args))), d[0].className += " select2-results__message", this.$results.append(d);
                    }, c.prototype.hideMessages = function() {
                        this.$results.find(".select2-results__message").remove();
                    }, c.prototype.append = function(a) {
                        this.hideLoading();
                        var b = [];
                        if (null == a.results || 0 === a.results.length) return void(0 === this.$results.children().length && this.trigger("results:message", {
                            message: "noResults"
                        }));
                        a.results = this.sort(a.results);
                        for (var c = 0; c < a.results.length; c++) {
                            var d = a.results[c],
                                e = this.option(d);
                            b.push(e);
                        }
                        this.$results.append(b);
                    }, c.prototype.position = function(a, b) {
                        var c = b.find(".select2-results");
                        c.append(a);
                    }, c.prototype.sort = function(a) {
                        var b = this.options.get("sorter");
                        return b(a);
                    }, c.prototype.highlightFirstItem = function() {
                        var a = this.$results.find(".select2-results__option[aria-selected]"),
                            b = a.filter("[aria-selected=true]");
                        b.length > 0 ? b.first().trigger("mouseenter") : a.first().trigger("mouseenter"), this.ensureHighlightVisible();
                    }, c.prototype.setClasses = function() {
                        var b = this;
                        this.data.current(function(c) {
                            var d = a.map(c, function(a) {
                                    return a.id.toString();
                                }),
                                e = b.$results.find(".select2-results__option[aria-selected]");
                            e.each(function() {
                                var b = a(this),
                                    c = a.data(this, "data"),
                                    e = "" + c.id;
                                null != c.element && c.element.selected || null == c.element && a.inArray(e, d) > -1 ? b.attr("aria-selected", "true") : b.attr("aria-selected", "false");
                            });
                        });
                    }, c.prototype.showLoading = function(a) {
                        this.hideLoading();
                        var b = this.options.get("translations").get("searching"),
                            c = {
                                disabled: !0,
                                loading: !0,
                                text: b(a)
                            },
                            d = this.option(c);
                        d.className += " loading-results", this.$results.prepend(d);
                    }, c.prototype.hideLoading = function() {
                        this.$results.find(".loading-results").remove();
                    }, c.prototype.option = function(b) {
                        var c = document.createElement("li");
                        c.className = "select2-results__option";
                        var d = {
                            role: "treeitem",
                            "aria-selected": "false"
                        };
                        b.disabled && (delete d["aria-selected"], d["aria-disabled"] = "true"), null == b.id && delete d["aria-selected"], null != b._resultId && (c.id = b._resultId), b.title && (c.title = b.title), b.children && (d.role = "group", d["aria-label"] = b.text, delete d["aria-selected"]);
                        for (var e in d) {
                            var f = d[e];
                            c.setAttribute(e, f);
                        }
                        if (b.children) {
                            var g = a(c),
                                h = document.createElement("strong");
                            h.className = "select2-results__group";
                            a(h);
                            this.template(b, h);
                            for (var i = [], j = 0; j < b.children.length; j++) {
                                var k = b.children[j],
                                    l = this.option(k);
                                i.push(l);
                            }
                            var m = a("<ul></ul>", {
                                "class": "select2-results__options select2-results__options--nested"
                            });
                            m.append(i), g.append(h), g.append(m);
                        } else this.template(b, c);
                        return a.data(c, "data", b), c;
                    }, c.prototype.bind = function(b, c) {
                        var d = this,
                            e = b.id + "-results";
                        this.$results.attr("id", e), b.on("results:all", function(a) {
                            d.clear(), d.append(a.data), b.isOpen() && (d.setClasses(), d.highlightFirstItem());
                        }), b.on("results:append", function(a) {
                            d.append(a.data), b.isOpen() && d.setClasses();
                        }), b.on("query", function(a) {
                            d.hideMessages(), d.showLoading(a);
                        }), b.on("select", function() {
                            b.isOpen() && (d.setClasses(), d.highlightFirstItem());
                        }), b.on("unselect", function() {
                            b.isOpen() && (d.setClasses(), d.highlightFirstItem());
                        }), b.on("open", function() {
                            d.$results.attr("aria-expanded", "true"), d.$results.attr("aria-hidden", "false"), d.setClasses(), d.ensureHighlightVisible();
                        }), b.on("close", function() {
                            d.$results.attr("aria-expanded", "false"), d.$results.attr("aria-hidden", "true"), d.$results.removeAttr("aria-activedescendant");
                        }), b.on("results:toggle", function() {
                            var a = d.getHighlightedResults();
                            0 !== a.length && a.trigger("mouseup");
                        }), b.on("results:select", function() {
                            var a = d.getHighlightedResults();
                            if (0 !== a.length) {
                                var b = a.data("data");
                                "true" == a.attr("aria-selected") ? d.trigger("close", {}) : d.trigger("select", {
                                    data: b
                                });
                            }
                        }), b.on("results:previous", function() {
                            var a = d.getHighlightedResults(),
                                b = d.$results.find("[aria-selected]"),
                                c = b.index(a);
                            if (0 !== c) {
                                var e = c - 1;
                                0 === a.length && (e = 0);
                                var f = b.eq(e);
                                f.trigger("mouseenter");
                                var g = d.$results.offset().top,
                                    h = f.offset().top,
                                    i = d.$results.scrollTop() + (h - g);
                                0 === e ? d.$results.scrollTop(0) : 0 > h - g && d.$results.scrollTop(i);
                            }
                        }), b.on("results:next", function() {
                            var a = d.getHighlightedResults(),
                                b = d.$results.find("[aria-selected]"),
                                c = b.index(a),
                                e = c + 1;
                            if (!(e >= b.length)) {
                                var f = b.eq(e);
                                f.trigger("mouseenter");
                                var g = d.$results.offset().top + d.$results.outerHeight(!1),
                                    h = f.offset().top + f.outerHeight(!1),
                                    i = d.$results.scrollTop() + h - g;
                                0 === e ? d.$results.scrollTop(0) : h > g && d.$results.scrollTop(i);
                            }
                        }), b.on("results:focus", function(a) {
                            a.element.addClass("select2-results__option--highlighted");
                        }), b.on("results:message", function(a) {
                            d.displayMessage(a);
                        }), a.fn.mousewheel && this.$results.on("mousewheel", function(a) {
                            var b = d.$results.scrollTop(),
                                c = d.$results.get(0).scrollHeight - b + a.deltaY,
                                e = a.deltaY > 0 && b - a.deltaY <= 0,
                                f = a.deltaY < 0 && c <= d.$results.height();
                            e ? (d.$results.scrollTop(0), a.preventDefault(), a.stopPropagation()) : f && (d.$results.scrollTop(d.$results.get(0).scrollHeight - d.$results.height()), a.preventDefault(), a.stopPropagation());
                        }), this.$results.on("mouseup", ".select2-results__option[aria-selected]", function(b) {
                            var c = a(this),
                                e = c.data("data");
                            return "true" === c.attr("aria-selected") ? void(d.options.get("multiple") ? d.trigger("unselect", {
                                originalEvent: b,
                                data: e
                            }) : d.trigger("close", {})) : void d.trigger("select", {
                                originalEvent: b,
                                data: e
                            });
                        }), this.$results.on("mouseenter", ".select2-results__option[aria-selected]", function(b) {
                            var c = a(this).data("data");
                            d.getHighlightedResults().removeClass("select2-results__option--highlighted"), d.trigger("results:focus", {
                                data: c,
                                element: a(this)
                            });
                        });
                    }, c.prototype.getHighlightedResults = function() {
                        var a = this.$results.find(".select2-results__option--highlighted");
                        return a;
                    }, c.prototype.destroy = function() {
                        this.$results.remove();
                    }, c.prototype.ensureHighlightVisible = function() {
                        var a = this.getHighlightedResults();
                        if (0 !== a.length) {
                            var b = this.$results.find("[aria-selected]"),
                                c = b.index(a),
                                d = this.$results.offset().top,
                                e = a.offset().top,
                                f = this.$results.scrollTop() + (e - d),
                                g = e - d;
                            f -= 2 * a.outerHeight(!1), 2 >= c ? this.$results.scrollTop(0) : (g > this.$results.outerHeight() || 0 > g) && this.$results.scrollTop(f);
                        }
                    }, c.prototype.template = function(b, c) {
                        var d = this.options.get("templateResult"),
                            e = this.options.get("escapeMarkup"),
                            f = d(b, c);
                        null == f ? c.style.display = "none" : "string" == typeof f ? c.innerHTML = e(f) : a(c).append(f);
                    }, c;
                }), b.define("select2/keys", [], function() {
                    var a = {
                        BACKSPACE: 8,
                        TAB: 9,
                        ENTER: 13,
                        SHIFT: 16,
                        CTRL: 17,
                        ALT: 18,
                        ESC: 27,
                        SPACE: 32,
                        PAGE_UP: 33,
                        PAGE_DOWN: 34,
                        END: 35,
                        HOME: 36,
                        LEFT: 37,
                        UP: 38,
                        RIGHT: 39,
                        DOWN: 40,
                        DELETE: 46
                    };
                    return a;
                }), b.define("select2/selection/base", ["jquery", "../utils", "../keys"], function(a, b, c) {
                    function d(a, b) {
                        this.$element = a, this.options = b, d.__super__.constructor.call(this);
                    }
                    return b.Extend(d, b.Observable), d.prototype.render = function() {
                        var b = a('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');
                        return this._tabindex = 0, null != this.$element.data("old-tabindex") ? this._tabindex = this.$element.data("old-tabindex") : null != this.$element.attr("tabindex") && (this._tabindex = this.$element.attr("tabindex")), b.attr("title", this.$element.attr("title")), b.attr("tabindex", this._tabindex), this.$selection = b, b;
                    }, d.prototype.bind = function(a, b) {
                        var d = this,
                            e = (a.id + "-container", a.id + "-results");
                        this.container = a, this.$selection.on("focus", function(a) {
                            d.trigger("focus", a);
                        }), this.$selection.on("blur", function(a) {
                            d._handleBlur(a);
                        }), this.$selection.on("keydown", function(a) {
                            d.trigger("keypress", a), a.which === c.SPACE && a.preventDefault();
                        }), a.on("results:focus", function(a) {
                            d.$selection.attr("aria-activedescendant", a.data._resultId);
                        }), a.on("selection:update", function(a) {
                            d.update(a.data);
                        }), a.on("open", function() {
                            d.$selection.attr("aria-expanded", "true"), d.$selection.attr("aria-owns", e), d._attachCloseHandler(a);
                        }), a.on("close", function() {
                            d.$selection.attr("aria-expanded", "false"), d.$selection.removeAttr("aria-activedescendant"), d.$selection.removeAttr("aria-owns"), d.$selection.focus(), d._detachCloseHandler(a);
                        }), a.on("enable", function() {
                            d.$selection.attr("tabindex", d._tabindex);
                        }), a.on("disable", function() {
                            d.$selection.attr("tabindex", "-1");
                        });
                    }, d.prototype._handleBlur = function(b) {
                        var c = this;
                        window.setTimeout(function() {
                            document.activeElement == c.$selection[0] || a.contains(c.$selection[0], document.activeElement) || c.trigger("blur", b);
                        }, 1);
                    }, d.prototype._attachCloseHandler = function(b) {
                        a(document.body).on("mousedown.select2." + b.id, function(b) {
                            var c = a(b.target),
                                d = c.closest(".select2"),
                                e = a(".select2.select2-container--open");
                            e.each(function() {
                                var b = a(this);
                                if (this != d[0]) {
                                    var c = b.data("element");
                                    c.select2("close");
                                }
                            });
                        });
                    }, d.prototype._detachCloseHandler = function(b) {
                        a(document.body).off("mousedown.select2." + b.id);
                    }, d.prototype.position = function(a, b) {
                        var c = b.find(".selection");
                        c.append(a);
                    }, d.prototype.destroy = function() {
                        this._detachCloseHandler(this.container);
                    }, d.prototype.update = function(a) {
                        throw new Error("The `update` method must be defined in child classes.");
                    }, d;
                }), b.define("select2/selection/single", ["jquery", "./base", "../utils", "../keys"], function(a, b, c, d) {
                    function e() {
                        e.__super__.constructor.apply(this, arguments);
                    }
                    return c.Extend(e, b), e.prototype.render = function() {
                        var a = e.__super__.render.call(this);
                        return a.addClass("select2-selection--single"), a.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'), a;
                    }, e.prototype.bind = function(a, b) {
                        var c = this;
                        e.__super__.bind.apply(this, arguments);
                        var d = a.id + "-container";
                        this.$selection.find(".select2-selection__rendered").attr("id", d), this.$selection.attr("aria-labelledby", d), this.$selection.on("mousedown", function(a) {
                            1 === a.which && c.trigger("toggle", {
                                originalEvent: a
                            });
                        }), this.$selection.on("focus", function(a) {}), this.$selection.on("blur", function(a) {}), a.on("focus", function(b) {
                            a.isOpen() || c.$selection.focus();
                        }), a.on("selection:update", function(a) {
                            c.update(a.data);
                        });
                    }, e.prototype.clear = function() {
                        this.$selection.find(".select2-selection__rendered").empty();
                    }, e.prototype.display = function(a, b) {
                        var c = this.options.get("templateSelection"),
                            d = this.options.get("escapeMarkup");
                        return d(c(a, b));
                    }, e.prototype.selectionContainer = function() {
                        return a("<span></span>");
                    }, e.prototype.update = function(a) {
                        if (0 === a.length) return void this.clear();
                        var b = a[0],
                            c = this.$selection.find(".select2-selection__rendered"),
                            d = this.display(b, c);
                        c.empty().append(d), c.prop("title", b.title || b.text);
                    }, e;
                }), b.define("select2/selection/multiple", ["jquery", "./base", "../utils"], function(a, b, c) {
                    function d(a, b) {
                        d.__super__.constructor.apply(this, arguments);
                    }
                    return c.Extend(d, b), d.prototype.render = function() {
                        var a = d.__super__.render.call(this);
                        return a.addClass("select2-selection--multiple"), a.html('<ul class="select2-selection__rendered"></ul>'), a;
                    }, d.prototype.bind = function(b, c) {
                        var e = this;
                        d.__super__.bind.apply(this, arguments), this.$selection.on("click", function(a) {
                            e.trigger("toggle", {
                                originalEvent: a
                            });
                        }), this.$selection.on("click", ".select2-selection__choice__remove", function(b) {
                            if (!e.options.get("disabled")) {
                                var c = a(this),
                                    d = c.parent(),
                                    f = d.data("data");
                                e.trigger("unselect", {
                                    originalEvent: b,
                                    data: f
                                });
                            }
                        });
                    }, d.prototype.clear = function() {
                        this.$selection.find(".select2-selection__rendered").empty();
                    }, d.prototype.display = function(a, b) {
                        var c = this.options.get("templateSelection"),
                            d = this.options.get("escapeMarkup");
                        return d(c(a, b));
                    }, d.prototype.selectionContainer = function() {
                        var b = a('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');
                        return b;
                    }, d.prototype.update = function(a) {
                        if (this.clear(), 0 !== a.length) {
                            for (var b = [], d = 0; d < a.length; d++) {
                                var e = a[d],
                                    f = this.selectionContainer(),
                                    g = this.display(e, f);
                                f.append(g), f.prop("title", e.title || e.text), f.data("data", e), b.push(f);
                            }
                            var h = this.$selection.find(".select2-selection__rendered");
                            c.appendMany(h, b);
                        }
                    }, d;
                }), b.define("select2/selection/placeholder", ["../utils"], function(a) {
                    function b(a, b, c) {
                        this.placeholder = this.normalizePlaceholder(c.get("placeholder")), a.call(this, b, c);
                    }
                    return b.prototype.normalizePlaceholder = function(a, b) {
                        return "string" == typeof b && (b = {
                            id: "",
                            text: b
                        }), b;
                    }, b.prototype.createPlaceholder = function(a, b) {
                        var c = this.selectionContainer();
                        return c.html(this.display(b)), c.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"), c;
                    }, b.prototype.update = function(a, b) {
                        var c = 1 == b.length && b[0].id != this.placeholder.id,
                            d = b.length > 1;
                        if (d || c) return a.call(this, b);
                        this.clear();
                        var e = this.createPlaceholder(this.placeholder);
                        this.$selection.find(".select2-selection__rendered").append(e);
                    }, b;
                }), b.define("select2/selection/allowClear", ["jquery", "../keys"], function(a, b) {
                    function c() {}
                    return c.prototype.bind = function(a, b, c) {
                        var d = this;
                        a.call(this, b, c), null == this.placeholder && this.options.get("debug") && window.console && console.error && console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."), this.$selection.on("mousedown", ".select2-selection__clear", function(a) {
                            d._handleClear(a);
                        }), b.on("keypress", function(a) {
                            d._handleKeyboardClear(a, b);
                        });
                    }, c.prototype._handleClear = function(a, b) {
                        if (!this.options.get("disabled")) {
                            var c = this.$selection.find(".select2-selection__clear");
                            if (0 !== c.length) {
                                b.stopPropagation();
                                for (var d = c.data("data"), e = 0; e < d.length; e++) {
                                    var f = {
                                        data: d[e]
                                    };
                                    if (this.trigger("unselect", f), f.prevented) return;
                                }
                                this.$element.val(this.placeholder.id).trigger("change"), this.trigger("toggle", {});
                            }
                        }
                    }, c.prototype._handleKeyboardClear = function(a, c, d) {
                        d.isOpen() || (c.which == b.DELETE || c.which == b.BACKSPACE) && this._handleClear(c);
                    }, c.prototype.update = function(b, c) {
                        if (b.call(this, c), !(this.$selection.find(".select2-selection__placeholder").length > 0 || 0 === c.length)) {
                            var d = a('<span class="select2-selection__clear">&times;</span>');
                            d.data("data", c), this.$selection.find(".select2-selection__rendered").prepend(d);
                        }
                    }, c;
                }), b.define("select2/selection/search", ["jquery", "../utils", "../keys"], function(a, b, c) {
                    function d(a, b, c) {
                        a.call(this, b, c);
                    }
                    return d.prototype.render = function(b) {
                        var c = a('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');
                        this.$searchContainer = c, this.$search = c.find("input");
                        var d = b.call(this);
                        return this._transferTabIndex(), d;
                    }, d.prototype.bind = function(a, b, d) {
                        var e = this;
                        a.call(this, b, d), b.on("open", function() {
                            e.$search.trigger("focus");
                        }), b.on("close", function() {
                            e.$search.val(""), e.$search.removeAttr("aria-activedescendant"), e.$search.trigger("focus");
                        }), b.on("enable", function() {
                            e.$search.prop("disabled", !1), e._transferTabIndex();
                        }), b.on("disable", function() {
                            e.$search.prop("disabled", !0);
                        }), b.on("focus", function(a) {
                            e.$search.trigger("focus");
                        }), b.on("results:focus", function(a) {
                            e.$search.attr("aria-activedescendant", a.id);
                        }), this.$selection.on("focusin", ".select2-search--inline", function(a) {
                            e.trigger("focus", a);
                        }), this.$selection.on("focusout", ".select2-search--inline", function(a) {
                            e._handleBlur(a);
                        }), this.$selection.on("keydown", ".select2-search--inline", function(a) {
                            a.stopPropagation(), e.trigger("keypress", a), e._keyUpPrevented = a.isDefaultPrevented();
                            var b = a.which;
                            if (b === c.BACKSPACE && "" === e.$search.val()) {
                                var d = e.$searchContainer.prev(".select2-selection__choice");
                                if (d.length > 0) {
                                    var f = d.data("data");
                                    e.searchRemoveChoice(f), a.preventDefault();
                                }
                            }
                        });
                        var f = document.documentMode,
                            g = f && 11 >= f;
                        this.$selection.on("input.searchcheck", ".select2-search--inline", function(a) {
                            return g ? void e.$selection.off("input.search input.searchcheck") : void e.$selection.off("keyup.search");
                        }), this.$selection.on("keyup.search input.search", ".select2-search--inline", function(a) {
                            if (g && "input" === a.type) return void e.$selection.off("input.search input.searchcheck");
                            var b = a.which;
                            b != c.SHIFT && b != c.CTRL && b != c.ALT && b != c.TAB && e.handleSearch(a);
                        });
                    }, d.prototype._transferTabIndex = function(a) {
                        this.$search.attr("tabindex", this.$selection.attr("tabindex")), this.$selection.attr("tabindex", "-1");
                    }, d.prototype.createPlaceholder = function(a, b) {
                        this.$search.attr("placeholder", b.text);
                    }, d.prototype.update = function(a, b) {
                        var c = this.$search[0] == document.activeElement;
                        this.$search.attr("placeholder", ""), a.call(this, b), this.$selection.find(".select2-selection__rendered").append(this.$searchContainer), this.resizeSearch(), c && this.$search.focus();
                    }, d.prototype.handleSearch = function() {
                        if (this.resizeSearch(), !this._keyUpPrevented) {
                            var a = this.$search.val();
                            this.trigger("query", {
                                term: a
                            });
                        }
                        this._keyUpPrevented = !1;
                    }, d.prototype.searchRemoveChoice = function(a, b) {
                        this.trigger("unselect", {
                            data: b
                        }), this.$search.val(b.text), this.handleSearch();
                    }, d.prototype.resizeSearch = function() {
                        this.$search.css("width", "25px");
                        var a = "";
                        if ("" !== this.$search.attr("placeholder")) a = this.$selection.find(".select2-selection__rendered").innerWidth();
                        else {
                            var b = this.$search.val().length + 1;
                            a = .75 * b + "em";
                        }
                        this.$search.css("width", a);
                    }, d;
                }), b.define("select2/selection/eventRelay", ["jquery"], function(a) {
                    function b() {}
                    return b.prototype.bind = function(b, c, d) {
                        var e = this,
                            f = ["open", "opening", "close", "closing", "select", "selecting", "unselect", "unselecting"],
                            g = ["opening", "closing", "selecting", "unselecting"];
                        b.call(this, c, d), c.on("*", function(b, c) {
                            if (-1 !== a.inArray(b, f)) {
                                c = c || {};
                                var d = a.Event("select2:" + b, {
                                    params: c
                                });
                                e.$element.trigger(d), -1 !== a.inArray(b, g) && (c.prevented = d.isDefaultPrevented());
                            }
                        });
                    }, b;
                }), b.define("select2/translation", ["jquery", "require"], function(a, b) {
                    function c(a) {
                        this.dict = a || {};
                    }
                    return c.prototype.all = function() {
                        return this.dict;
                    }, c.prototype.get = function(a) {
                        return this.dict[a];
                    }, c.prototype.extend = function(b) {
                        this.dict = a.extend({}, b.all(), this.dict);
                    }, c._cache = {}, c.loadPath = function(a) {
                        if (!(a in c._cache)) {
                            var d = b(a);
                            c._cache[a] = d;
                        }
                        return new c(c._cache[a]);
                    }, c;
                }), b.define("select2/diacritics", [], function() {
                    var a = {
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "A",
                        "": "AA",
                        "": "AE",
                        "": "AE",
                        "": "AE",
                        "": "AO",
                        "": "AU",
                        "": "AV",
                        "": "AV",
                        "": "AY",
                        "": "B",
                        "": "B",
                        "": "B",
                        "": "B",
                        "": "B",
                        "": "B",
                        "": "B",
                        "": "B",
                        "": "C",
                        "": "C",
                        "": "C",
                        "": "C",
                        "": "C",
                        "": "C",
                        "": "C",
                        "": "C",
                        "": "C",
                        "": "C",
                        "": "C",
                        "": "D",
                        "": "D",
                        "": "D",
                        "": "D",
                        "": "D",
                        "": "D",
                        "": "D",
                        "": "D",
                        "": "D",
                        "": "D",
                        "": "D",
                        "": "D",
                        "": "D",
                        "": "DZ",
                        "": "DZ",
                        "": "Dz",
                        "": "Dz",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "E",
                        "": "F",
                        "": "F",
                        "": "F",
                        "": "F",
                        "": "F",
                        "": "G",
                        "": "G",
                        "": "G",
                        "": "G",
                        "": "G",
                        "": "G",
                        "": "G",
                        "": "G",
                        "": "G",
                        "": "G",
                        "": "G",
                        "": "G",
                        "": "G",
                        "": "G",
                        "": "H",
                        "": "H",
                        "": "H",
                        "": "H",
                        "": "H",
                        "": "H",
                        "": "H",
                        "": "H",
                        "": "H",
                        "": "H",
                        "": "H",
                        "": "H",
                        "": "H",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "I",
                        "": "J",
                        "": "J",
                        "": "J",
                        "": "J",
                        "": "K",
                        "": "K",
                        "": "K",
                        "": "K",
                        "": "K",
                        "": "K",
                        "": "K",
                        "": "K",
                        "": "K",
                        "": "K",
                        "": "K",
                        "": "K",
                        "": "K",
                        "": "L",
                        "": "L",
                        "": "L",
                        "": "L",
                        "": "L",
                        "": "L",
                        "": "L",
                        "": "L",
                        "": "L",
                        "": "L",
                        "": "L",
                        "": "L",
                        "": "L",
                        "": "L",
                        "": "L",
                        "": "L",
                        "": "L",
                        "": "LJ",
                        "": "Lj",
                        "": "M",
                        "": "M",
                        "": "M",
                        "": "M",
                        "": "M",
                        "": "M",
                        "": "M",
                        "": "N",
                        "": "N",
                        "": "N",
                        "": "N",
                        "": "N",
                        "": "N",
                        "": "N",
                        "": "N",
                        "": "N",
                        "": "N",
                        "": "N",
                        "": "N",
                        "": "N",
                        "": "N",
                        "": "N",
                        "": "NJ",
                        "": "Nj",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "O",
                        "": "OI",
                        "": "OO",
                        "": "OU",
                        "": "P",
                        "": "P",
                        "": "P",
                        "": "P",
                        "": "P",
                        "": "P",
                        "": "P",
                        "": "P",
                        "": "P",
                        "": "Q",
                        "": "Q",
                        "": "Q",
                        "": "Q",
                        "": "Q",
                        "": "R",
                        "": "R",
                        "": "R",
                        "": "R",
                        "": "R",
                        "": "R",
                        "": "R",
                        "": "R",
                        "": "R",
                        "": "R",
                        "": "R",
                        "": "R",
                        "": "R",
                        "": "R",
                        "": "R",
                        "": "R",
                        "": "S",
                        "": "S",
                        "": "S",
                        "": "S",
                        "": "S",
                        "": "S",
                        "": "S",
                        "": "S",
                        "": "S",
                        "": "S",
                        "": "S",
                        "": "S",
                        "": "S",
                        "": "S",
                        "": "S",
                        "": "S",
                        "": "T",
                        "": "T",
                        "": "T",
                        "": "T",
                        "": "T",
                        "": "T",
                        "": "T",
                        "": "T",
                        "": "T",
                        "": "T",
                        "": "T",
                        "": "T",
                        "": "T",
                        "": "T",
                        "": "TZ",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "U",
                        "": "V",
                        "": "V",
                        "": "V",
                        "": "V",
                        "": "V",
                        "": "V",
                        "": "V",
                        "": "VY",
                        "": "W",
                        "": "W",
                        "": "W",
                        "": "W",
                        "": "W",
                        "": "W",
                        "": "W",
                        "": "W",
                        "": "W",
                        "": "X",
                        "": "X",
                        "": "X",
                        "": "X",
                        "": "Y",
                        "": "Y",
                        "": "Y",
                        "": "Y",
                        "": "Y",
                        "": "Y",
                        "": "Y",
                        "": "Y",
                        "": "Y",
                        "": "Y",
                        "": "Y",
                        "": "Y",
                        "": "Y",
                        "": "Y",
                        "": "Z",
                        "": "Z",
                        "": "Z",
                        "": "Z",
                        "": "Z",
                        "": "Z",
                        "": "Z",
                        "": "Z",
                        "": "Z",
                        "": "Z",
                        "": "Z",
                        "": "Z",
                        "": "Z",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "a",
                        "": "aa",
                        "": "ae",
                        "": "ae",
                        "": "ae",
                        "": "ao",
                        "": "au",
                        "": "av",
                        "": "av",
                        "": "ay",
                        "": "b",
                        "": "b",
                        "": "b",
                        "": "b",
                        "": "b",
                        "": "b",
                        "": "b",
                        "": "b",
                        "": "c",
                        "": "c",
                        "": "c",
                        "": "c",
                        "": "c",
                        "": "c",
                        "": "c",
                        "": "c",
                        "": "c",
                        "": "c",
                        "": "c",
                        "": "c",
                        "": "d",
                        "": "d",
                        "": "d",
                        "": "d",
                        "": "d",
                        "": "d",
                        "": "d",
                        "": "d",
                        "": "d",
                        "": "d",
                        "": "d",
                        "": "d",
                        "": "d",
                        "": "dz",
                        "": "dz",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "e",
                        "": "f",
                        "": "f",
                        "": "f",
                        "": "f",
                        "": "f",
                        "": "g",
                        "": "g",
                        "": "g",
                        "": "g",
                        "": "g",
                        "": "g",
                        "": "g",
                        "": "g",
                        "": "g",
                        "": "g",
                        "": "g",
                        "": "g",
                        "": "g",
                        "": "g",
                        "": "h",
                        "": "h",
                        "": "h",
                        "": "h",
                        "": "h",
                        "": "h",
                        "": "h",
                        "": "h",
                        "": "h",
                        "": "h",
                        "": "h",
                        "": "h",
                        "": "h",
                        "": "h",
                        "": "hv",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "i",
                        "": "j",
                        "": "j",
                        "": "j",
                        "": "j",
                        "": "j",
                        "": "k",
                        "": "k",
                        "": "k",
                        "": "k",
                        "": "k",
                        "": "k",
                        "": "k",
                        "": "k",
                        "": "k",
                        "": "k",
                        "": "k",
                        "": "k",
                        "": "k",
                        "": "l",
                        "": "l",
                        "": "l",
                        "": "l",
                        "": "l",
                        "": "l",
                        "": "l",
                        "": "l",
                        "": "l",
                        "": "l",
                        "": "l",
                        "": "l",
                        "": "l",
                        "": "l",
                        "": "l",
                        "": "l",
                        "": "l",
                        "": "l",
                        "": "lj",
                        "": "m",
                        "": "m",
                        "": "m",
                        "": "m",
                        "": "m",
                        "": "m",
                        "": "m",
                        "": "n",
                        "": "n",
                        "": "n",
                        "": "n",
                        "": "n",
                        "": "n",
                        "": "n",
                        "": "n",
                        "": "n",
                        "": "n",
                        "": "n",
                        "": "n",
                        "": "n",
                        "": "n",
                        "": "n",
                        "": "n",
                        "": "nj",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "o",
                        "": "oi",
                        "": "ou",
                        "": "oo",
                        "": "p",
                        "": "p",
                        "": "p",
                        "": "p",
                        "": "p",
                        "": "p",
                        "": "p",
                        "": "p",
                        "": "p",
                        "": "q",
                        "": "q",
                        "": "q",
                        "": "q",
                        "": "q",
                        "": "r",
                        "": "r",
                        "": "r",
                        "": "r",
                        "": "r",
                        "": "r",
                        "": "r",
                        "": "r",
                        "": "r",
                        "": "r",
                        "": "r",
                        "": "r",
                        "": "r",
                        "": "r",
                        "": "r",
                        "": "r",
                        "": "s",
                        "": "s",
                        "": "s",
                        "": "s",
                        "": "s",
                        "": "s",
                        "": "s",
                        "": "s",
                        "": "s",
                        "": "s",
                        "": "s",
                        "": "s",
                        "": "s",
                        "": "s",
                        "": "s",
                        "": "s",
                        "": "s",
                        "": "t",
                        "": "t",
                        "": "t",
                        "": "t",
                        "": "t",
                        "": "t",
                        "": "t",
                        "": "t",
                        "": "t",
                        "": "t",
                        "": "t",
                        "": "t",
                        "": "t",
                        "": "t",
                        "": "t",
                        "": "tz",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "u",
                        "": "v",
                        "": "v",
                        "": "v",
                        "": "v",
                        "": "v",
                        "": "v",
                        "": "v",
                        "": "vy",
                        "": "w",
                        "": "w",
                        "": "w",
                        "": "w",
                        "": "w",
                        "": "w",
                        "": "w",
                        "": "w",
                        "": "w",
                        "": "w",
                        "": "x",
                        "": "x",
                        "": "x",
                        "": "x",
                        "": "y",
                        "": "y",
                        "": "y",
                        "": "y",
                        "": "y",
                        "": "y",
                        "": "y",
                        "": "y",
                        "": "y",
                        "": "y",
                        "": "y",
                        "": "y",
                        "": "y",
                        "": "y",
                        "": "y",
                        "": "z",
                        "": "z",
                        "": "z",
                        "": "z",
                        "": "z",
                        "": "z",
                        "": "z",
                        "": "z",
                        "": "z",
                        "": "z",
                        "": "z",
                        "": "z",
                        "": "z",
                        "": "",
                        "": "",
                        "": "",
                        "": "",
                        "": "",
                        "": "",
                        "": "",
                        "": "",
                        "": "",
                        "": "",
                        "": "",
                        "": "",
                        "": "",
                        "": "",
                        "": "",
                        "": "",
                        "": "",
                        "": "",
                        "": "",
                        "": "",
                        "": ""
                    };
                    return a;
                }), b.define("select2/data/base", ["../utils"], function(a) {
                    function b(a, c) {
                        b.__super__.constructor.call(this);
                    }
                    return a.Extend(b, a.Observable), b.prototype.current = function(a) {
                        throw new Error("The `current` method must be defined in child classes.");
                    }, b.prototype.query = function(a, b) {
                        throw new Error("The `query` method must be defined in child classes.");
                    }, b.prototype.bind = function(a, b) {}, b.prototype.destroy = function() {}, b.prototype.generateResultId = function(b, c) {
                        var d = b.id + "-result-";
                        return d += a.generateChars(4), d += null != c.id ? "-" + c.id.toString() : "-" + a.generateChars(4);
                    }, b;
                }), b.define("select2/data/select", ["./base", "../utils", "jquery"], function(a, b, c) {
                    function d(a, b) {
                        this.$element = a, this.options = b, d.__super__.constructor.call(this);
                    }
                    return b.Extend(d, a), d.prototype.current = function(a) {
                        var b = [],
                            d = this;
                        this.$element.find(":selected").each(function() {
                            var a = c(this),
                                e = d.item(a);
                            b.push(e);
                        }), a(b);
                    }, d.prototype.select = function(a) {
                        var b = this;
                        if (a.selected = !0, c(a.element).is("option")) return a.element.selected = !0, void this.$element.trigger("change");
                        if (this.$element.prop("multiple")) this.current(function(d) {
                            var e = [];
                            a = [a], a.push.apply(a, d);
                            for (var f = 0; f < a.length; f++) {
                                var g = a[f].id; - 1 === c.inArray(g, e) && e.push(g);
                            }
                            b.$element.val(e), b.$element.trigger("change");
                        });
                        else {
                            var d = a.id;
                            this.$element.val(d), this.$element.trigger("change");
                        }
                    }, d.prototype.unselect = function(a) {
                        var b = this;
                        if (this.$element.prop("multiple")) return a.selected = !1, c(a.element).is("option") ? (a.element.selected = !1, void this.$element.trigger("change")) : void this.current(function(d) {
                            for (var e = [], f = 0; f < d.length; f++) {
                                var g = d[f].id;
                                g !== a.id && -1 === c.inArray(g, e) && e.push(g);
                            }
                            b.$element.val(e), b.$element.trigger("change");
                        });
                    }, d.prototype.bind = function(a, b) {
                        var c = this;
                        this.container = a, a.on("select", function(a) {
                            c.select(a.data);
                        }), a.on("unselect", function(a) {
                            c.unselect(a.data);
                        });
                    }, d.prototype.destroy = function() {
                        this.$element.find("*").each(function() {
                            c.removeData(this, "data");
                        });
                    }, d.prototype.query = function(a, b) {
                        var d = [],
                            e = this,
                            f = this.$element.children();
                        f.each(function() {
                            var b = c(this);
                            if (b.is("option") || b.is("optgroup")) {
                                var f = e.item(b),
                                    g = e.matches(a, f);
                                null !== g && d.push(g);
                            }
                        }), b({
                            results: d
                        });
                    }, d.prototype.addOptions = function(a) {
                        b.appendMany(this.$element, a);
                    }, d.prototype.option = function(a) {
                        var b;
                        a.children ? (b = document.createElement("optgroup"), b.label = a.text) : (b = document.createElement("option"), void 0 !== b.textContent ? b.textContent = a.text : b.innerText = a.text), a.id && (b.value = a.id), a.disabled && (b.disabled = !0), a.selected && (b.selected = !0), a.title && (b.title = a.title);
                        var d = c(b),
                            e = this._normalizeItem(a);
                        return e.element = b, c.data(b, "data", e), d;
                    }, d.prototype.item = function(a) {
                        var b = {};
                        if (b = c.data(a[0], "data"), null != b) return b;
                        if (a.is("option")) b = {
                            id: a.val(),
                            text: a.text(),
                            disabled: a.prop("disabled"),
                            selected: a.prop("selected"),
                            title: a.prop("title")
                        };
                        else if (a.is("optgroup")) {
                            b = {
                                text: a.prop("label"),
                                children: [],
                                title: a.prop("title")
                            };
                            for (var d = a.children("option"), e = [], f = 0; f < d.length; f++) {
                                var g = c(d[f]),
                                    h = this.item(g);
                                e.push(h);
                            }
                            b.children = e;
                        }
                        return b = this._normalizeItem(b), b.element = a[0], c.data(a[0], "data", b), b;
                    }, d.prototype._normalizeItem = function(a) {
                        c.isPlainObject(a) || (a = {
                            id: a,
                            text: a
                        }), a = c.extend({}, {
                            text: ""
                        }, a);
                        var b = {
                            selected: !1,
                            disabled: !1
                        };
                        return null != a.id && (a.id = a.id.toString()), null != a.text && (a.text = a.text.toString()), null == a._resultId && a.id && null != this.container && (a._resultId = this.generateResultId(this.container, a)), c.extend({}, b, a);
                    }, d.prototype.matches = function(a, b) {
                        var c = this.options.get("matcher");
                        return c(a, b);
                    }, d;
                }), b.define("select2/data/array", ["./select", "../utils", "jquery"], function(a, b, c) {
                    function d(a, b) {
                        var c = b.get("data") || [];
                        d.__super__.constructor.call(this, a, b), this.addOptions(this.convertToOptions(c));
                    }
                    return b.Extend(d, a), d.prototype.select = function(a) {
                        var b = this.$element.find("option").filter(function(b, c) {
                            return c.value == a.id.toString();
                        });
                        0 === b.length && (b = this.option(a), this.addOptions(b)), d.__super__.select.call(this, a);
                    }, d.prototype.convertToOptions = function(a) {
                        function d(a) {
                            return function() {
                                return c(this).val() == a.id;
                            };
                        }
                        for (var e = this, f = this.$element.find("option"), g = f.map(function() {
                                return e.item(c(this)).id;
                            }).get(), h = [], i = 0; i < a.length; i++) {
                            var j = this._normalizeItem(a[i]);
                            if (c.inArray(j.id, g) >= 0) {
                                var k = f.filter(d(j)),
                                    l = this.item(k),
                                    m = c.extend(!0, {}, j, l),
                                    n = this.option(m);
                                k.replaceWith(n);
                            } else {
                                var o = this.option(j);
                                if (j.children) {
                                    var p = this.convertToOptions(j.children);
                                    b.appendMany(o, p);
                                }
                                h.push(o);
                            }
                        }
                        return h;
                    }, d;
                }), b.define("select2/data/ajax", ["./array", "../utils", "jquery"], function(a, b, c) {
                    function d(a, b) {
                        this.ajaxOptions = this._applyDefaults(b.get("ajax")), null != this.ajaxOptions.processResults && (this.processResults = this.ajaxOptions.processResults), d.__super__.constructor.call(this, a, b);
                    }
                    return b.Extend(d, a), d.prototype._applyDefaults = function(a) {
                        var b = {
                            data: function(a) {
                                return c.extend({}, a, {
                                    q: a.term
                                });
                            },
                            transport: function(a, b, d) {
                                var e = c.ajax(a);
                                return e.then(b), e.fail(d), e;
                            }
                        };
                        return c.extend({}, b, a, !0);
                    }, d.prototype.processResults = function(a) {
                        return a;
                    }, d.prototype.query = function(a, b) {
                        function d() {
                            var d = f.transport(f, function(d) {
                                var f = e.processResults(d, a);
                                e.options.get("debug") && window.console && console.error && (f && f.results && c.isArray(f.results) || console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")), b(f);
                            }, function() {
                                d.status && "0" === d.status || e.trigger("results:message", {
                                    message: "errorLoading"
                                });
                            });
                            e._request = d;
                        }
                        var e = this;
                        null != this._request && (c.isFunction(this._request.abort) && this._request.abort(), this._request = null);
                        var f = c.extend({
                            type: "GET"
                        }, this.ajaxOptions);
                        "function" == typeof f.url && (f.url = f.url.call(this.$element, a)), "function" == typeof f.data && (f.data = f.data.call(this.$element, a)), this.ajaxOptions.delay && null != a.term ? (this._queryTimeout && window.clearTimeout(this._queryTimeout), this._queryTimeout = window.setTimeout(d, this.ajaxOptions.delay)) : d();
                    }, d;
                }), b.define("select2/data/tags", ["jquery"], function(a) {
                    function b(b, c, d) {
                        var e = d.get("tags"),
                            f = d.get("createTag");
                        void 0 !== f && (this.createTag = f);
                        var g = d.get("insertTag");
                        if (void 0 !== g && (this.insertTag = g), b.call(this, c, d), a.isArray(e))
                            for (var h = 0; h < e.length; h++) {
                                var i = e[h],
                                    j = this._normalizeItem(i),
                                    k = this.option(j);
                                this.$element.append(k);
                            }
                    }
                    return b.prototype.query = function(a, b, c) {
                        function d(a, f) {
                            for (var g = a.results, h = 0; h < g.length; h++) {
                                var i = g[h],
                                    j = null != i.children && !d({
                                        results: i.children
                                    }, !0),
                                    k = i.text === b.term;
                                if (k || j) return f ? !1 : (a.data = g, void c(a));
                            }
                            if (f) return !0;
                            var l = e.createTag(b);
                            if (null != l) {
                                var m = e.option(l);
                                m.attr("data-select2-tag", !0), e.addOptions([m]), e.insertTag(g, l);
                            }
                            a.results = g, c(a);
                        }
                        var e = this;
                        return this._removeOldTags(), null == b.term || null != b.page ? void a.call(this, b, c) : void a.call(this, b, d);
                    }, b.prototype.createTag = function(b, c) {
                        var d = a.trim(c.term);
                        return "" === d ? null : {
                            id: d,
                            text: d
                        };
                    }, b.prototype.insertTag = function(a, b, c) {
                        b.unshift(c);
                    }, b.prototype._removeOldTags = function(b) {
                        var c = (this._lastTag, this.$element.find("option[data-select2-tag]"));
                        c.each(function() {
                            this.selected || a(this).remove();
                        });
                    }, b;
                }), b.define("select2/data/tokenizer", ["jquery"], function(a) {
                    function b(a, b, c) {
                        var d = c.get("tokenizer");
                        void 0 !== d && (this.tokenizer = d), a.call(this, b, c);
                    }
                    return b.prototype.bind = function(a, b, c) {
                        a.call(this, b, c), this.$search = b.dropdown.$search || b.selection.$search || c.find(".select2-search__field");
                    }, b.prototype.query = function(b, c, d) {
                        function e(b) {
                            var c = g._normalizeItem(b),
                                d = g.$element.find("option").filter(function() {
                                    return a(this).val() === c.id;
                                });
                            if (!d.length) {
                                var e = g.option(c);
                                e.attr("data-select2-tag", !0), g._removeOldTags(), g.addOptions([e]);
                            }
                            f(c);
                        }

                        function f(a) {
                            g.trigger("select", {
                                data: a
                            });
                        }
                        var g = this;
                        c.term = c.term || "";
                        var h = this.tokenizer(c, this.options, e);
                        h.term !== c.term && (this.$search.length && (this.$search.val(h.term), this.$search.focus()), c.term = h.term), b.call(this, c, d);
                    }, b.prototype.tokenizer = function(b, c, d, e) {
                        for (var f = d.get("tokenSeparators") || [], g = c.term, h = 0, i = this.createTag || function(a) {
                                return {
                                    id: a.term,
                                    text: a.term
                                };
                            }; h < g.length;) {
                            var j = g[h];
                            if (-1 !== a.inArray(j, f)) {
                                var k = g.substr(0, h),
                                    l = a.extend({}, c, {
                                        term: k
                                    }),
                                    m = i(l);
                                null != m ? (e(m), g = g.substr(h + 1) || "", h = 0) : h++;
                            } else h++;
                        }
                        return {
                            term: g
                        };
                    }, b;
                }), b.define("select2/data/minimumInputLength", [], function() {
                    function a(a, b, c) {
                        this.minimumInputLength = c.get("minimumInputLength"), a.call(this, b, c);
                    }
                    return a.prototype.query = function(a, b, c) {
                        return b.term = b.term || "", b.term.length < this.minimumInputLength ? void this.trigger("results:message", {
                            message: "inputTooShort",
                            args: {
                                minimum: this.minimumInputLength,
                                input: b.term,
                                params: b
                            }
                        }) : void a.call(this, b, c);
                    }, a;
                }), b.define("select2/data/maximumInputLength", [], function() {
                    function a(a, b, c) {
                        this.maximumInputLength = c.get("maximumInputLength"), a.call(this, b, c);
                    }
                    return a.prototype.query = function(a, b, c) {
                        return b.term = b.term || "", this.maximumInputLength > 0 && b.term.length > this.maximumInputLength ? void this.trigger("results:message", {
                            message: "inputTooLong",
                            args: {
                                maximum: this.maximumInputLength,
                                input: b.term,
                                params: b
                            }
                        }) : void a.call(this, b, c);
                    }, a;
                }), b.define("select2/data/maximumSelectionLength", [], function() {
                    function a(a, b, c) {
                        this.maximumSelectionLength = c.get("maximumSelectionLength"), a.call(this, b, c);
                    }
                    return a.prototype.query = function(a, b, c) {
                        var d = this;
                        this.current(function(e) {
                            var f = null != e ? e.length : 0;
                            return d.maximumSelectionLength > 0 && f >= d.maximumSelectionLength ? void d.trigger("results:message", {
                                message: "maximumSelected",
                                args: {
                                    maximum: d.maximumSelectionLength
                                }
                            }) : void a.call(d, b, c);
                        });
                    }, a;
                }), b.define("select2/dropdown", ["jquery", "./utils"], function(a, b) {
                    function c(a, b) {
                        this.$element = a, this.options = b, c.__super__.constructor.call(this);
                    }
                    return b.Extend(c, b.Observable), c.prototype.render = function() {
                        var b = a('<span class="select2-dropdown"><span class="select2-results"></span></span>');
                        return b.attr("dir", this.options.get("dir")), this.$dropdown = b, b;
                    }, c.prototype.bind = function() {}, c.prototype.position = function(a, b) {}, c.prototype.destroy = function() {
                        this.$dropdown.remove();
                    }, c;
                }), b.define("select2/dropdown/search", ["jquery", "../utils"], function(a, b) {
                    function c() {}
                    return c.prototype.render = function(b) {
                        var c = b.call(this),
                            d = a('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');
                        return this.$searchContainer = d, this.$search = d.find("input"), c.prepend(d), c;
                    }, c.prototype.bind = function(b, c, d) {
                        var e = this;
                        b.call(this, c, d), this.$search.on("keydown", function(a) {
                            e.trigger("keypress", a), e._keyUpPrevented = a.isDefaultPrevented();
                        }), this.$search.on("input", function(b) {
                            a(this).off("keyup");
                        }), this.$search.on("keyup input", function(a) {
                            e.handleSearch(a);
                        }), c.on("open", function() {
                            e.$search.attr("tabindex", 0), e.$search.focus(), window.setTimeout(function() {
                                e.$search.focus();
                            }, 0);
                        }), c.on("close", function() {
                            e.$search.attr("tabindex", -1), e.$search.val("");
                        }), c.on("focus", function() {
                            c.isOpen() && e.$search.focus();
                        }), c.on("results:all", function(a) {
                            if (null == a.query.term || "" === a.query.term) {
                                var b = e.showSearch(a);
                                b ? e.$searchContainer.removeClass("select2-search--hide") : e.$searchContainer.addClass("select2-search--hide");
                            }
                        });
                    }, c.prototype.handleSearch = function(a) {
                        if (!this._keyUpPrevented) {
                            var b = this.$search.val();
                            this.trigger("query", {
                                term: b
                            });
                        }
                        this._keyUpPrevented = !1;
                    }, c.prototype.showSearch = function(a, b) {
                        return !0;
                    }, c;
                }), b.define("select2/dropdown/hidePlaceholder", [], function() {
                    function a(a, b, c, d) {
                        this.placeholder = this.normalizePlaceholder(c.get("placeholder")), a.call(this, b, c, d);
                    }
                    return a.prototype.append = function(a, b) {
                        b.results = this.removePlaceholder(b.results), a.call(this, b);
                    }, a.prototype.normalizePlaceholder = function(a, b) {
                        return "string" == typeof b && (b = {
                            id: "",
                            text: b
                        }), b;
                    }, a.prototype.removePlaceholder = function(a, b) {
                        for (var c = b.slice(0), d = b.length - 1; d >= 0; d--) {
                            var e = b[d];
                            this.placeholder.id === e.id && c.splice(d, 1);
                        }
                        return c;
                    }, a;
                }), b.define("select2/dropdown/infiniteScroll", ["jquery"], function(a) {
                    function b(a, b, c, d) {
                        this.lastParams = {}, a.call(this, b, c, d), this.$loadingMore = this.createLoadingMore(), this.loading = !1;
                    }
                    return b.prototype.append = function(a, b) {
                        this.$loadingMore.remove(), this.loading = !1, a.call(this, b), this.showLoadingMore(b) && this.$results.append(this.$loadingMore);
                    }, b.prototype.bind = function(b, c, d) {
                        var e = this;
                        b.call(this, c, d), c.on("query", function(a) {
                            e.lastParams = a, e.loading = !0;
                        }), c.on("query:append", function(a) {
                            e.lastParams = a, e.loading = !0;
                        }), this.$results.on("scroll", function() {
                            var b = a.contains(document.documentElement, e.$loadingMore[0]);
                            if (!e.loading && b) {
                                var c = e.$results.offset().top + e.$results.outerHeight(!1),
                                    d = e.$loadingMore.offset().top + e.$loadingMore.outerHeight(!1);
                                c + 50 >= d && e.loadMore();
                            }
                        });
                    }, b.prototype.loadMore = function() {
                        this.loading = !0;
                        var b = a.extend({}, {
                            page: 1
                        }, this.lastParams);
                        b.page++, this.trigger("query:append", b);
                    }, b.prototype.showLoadingMore = function(a, b) {
                        return b.pagination && b.pagination.more;
                    }, b.prototype.createLoadingMore = function() {
                        var b = a('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),
                            c = this.options.get("translations").get("loadingMore");
                        return b.html(c(this.lastParams)), b;
                    }, b;
                }), b.define("select2/dropdown/attachBody", ["jquery", "../utils"], function(a, b) {
                    function c(b, c, d) {
                        this.$dropdownParent = d.get("dropdownParent") || a(document.body), b.call(this, c, d);
                    }
                    return c.prototype.bind = function(a, b, c) {
                        var d = this,
                            e = !1;
                        a.call(this, b, c), b.on("open", function() {
                            d._showDropdown(), d._attachPositioningHandler(b), e || (e = !0, b.on("results:all", function() {
                                d._positionDropdown(), d._resizeDropdown();
                            }), b.on("results:append", function() {
                                d._positionDropdown(), d._resizeDropdown();
                            }));
                        }), b.on("close", function() {
                            d._hideDropdown(), d._detachPositioningHandler(b);
                        }), this.$dropdownContainer.on("mousedown", function(a) {
                            a.stopPropagation();
                        });
                    }, c.prototype.destroy = function(a) {
                        a.call(this), this.$dropdownContainer.remove();
                    }, c.prototype.position = function(a, b, c) {
                        b.attr("class", c.attr("class")), b.removeClass("select2"), b.addClass("select2-container--open"), b.css({
                            position: "absolute",
                            top: -999999
                        }), this.$container = c;
                    }, c.prototype.render = function(b) {
                        var c = a("<span></span>"),
                            d = b.call(this);
                        return c.append(d), this.$dropdownContainer = c, c;
                    }, c.prototype._hideDropdown = function(a) {
                        this.$dropdownContainer.detach();
                    }, c.prototype._attachPositioningHandler = function(c, d) {
                        var e = this,
                            f = "scroll.select2." + d.id,
                            g = "resize.select2." + d.id,
                            h = "orientationchange.select2." + d.id,
                            i = this.$container.parents().filter(b.hasScroll);
                        i.each(function() {
                            a(this).data("select2-scroll-position", {
                                x: a(this).scrollLeft(),
                                y: a(this).scrollTop()
                            });
                        }), i.on(f, function(b) {
                            var c = a(this).data("select2-scroll-position");
                            a(this).scrollTop(c.y);
                        }), a(window).on(f + " " + g + " " + h, function(a) {
                            e._positionDropdown(), e._resizeDropdown();
                        });
                    }, c.prototype._detachPositioningHandler = function(c, d) {
                        var e = "scroll.select2." + d.id,
                            f = "resize.select2." + d.id,
                            g = "orientationchange.select2." + d.id,
                            h = this.$container.parents().filter(b.hasScroll);
                        h.off(e), a(window).off(e + " " + f + " " + g);
                    }, c.prototype._positionDropdown = function() {
                        var b = a(window),
                            c = this.$dropdown.hasClass("select2-dropdown--above"),
                            d = this.$dropdown.hasClass("select2-dropdown--below"),
                            e = null,
                            f = this.$container.offset();
                        f.bottom = f.top + this.$container.outerHeight(!1);
                        var g = {
                            height: this.$container.outerHeight(!1)
                        };
                        g.top = f.top, g.bottom = f.top + g.height;
                        var h = {
                                height: this.$dropdown.outerHeight(!1)
                            },
                            i = {
                                top: b.scrollTop(),
                                bottom: b.scrollTop() + b.height()
                            },
                            j = i.top < f.top - h.height,
                            k = i.bottom > f.bottom + h.height,
                            l = {
                                left: f.left,
                                top: g.bottom
                            },
                            m = this.$dropdownParent;
                        "static" === m.css("position") && (m = m.offsetParent());
                        var n = m.offset();
                        l.top -= n.top, l.left -= n.left, c || d || (e = "below"), k || !j || c ? !j && k && c && (e = "below") : e = "above", ("above" == e || c && "below" !== e) && (l.top = g.top - n.top - h.height), null != e && (this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--" + e), this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--" + e)), this.$dropdownContainer.css(l);
                    }, c.prototype._resizeDropdown = function() {
                        var a = {
                            width: this.$container.outerWidth(!1) + "px"
                        };
                        this.options.get("dropdownAutoWidth") && (a.minWidth = a.width, a.position = "relative", a.width = "auto"), this.$dropdown.css(a);
                    }, c.prototype._showDropdown = function(a) {
                        this.$dropdownContainer.appendTo(this.$dropdownParent), this._positionDropdown(), this._resizeDropdown();
                    }, c;
                }), b.define("select2/dropdown/minimumResultsForSearch", [], function() {
                    function a(b) {
                        for (var c = 0, d = 0; d < b.length; d++) {
                            var e = b[d];
                            e.children ? c += a(e.children) : c++;
                        }
                        return c;
                    }

                    function b(a, b, c, d) {
                        this.minimumResultsForSearch = c.get("minimumResultsForSearch"), this.minimumResultsForSearch < 0 && (this.minimumResultsForSearch = 1 / 0), a.call(this, b, c, d);
                    }
                    return b.prototype.showSearch = function(b, c) {
                        return a(c.data.results) < this.minimumResultsForSearch ? !1 : b.call(this, c);
                    }, b;
                }), b.define("select2/dropdown/selectOnClose", [], function() {
                    function a() {}
                    return a.prototype.bind = function(a, b, c) {
                        var d = this;
                        a.call(this, b, c), b.on("close", function(a) {
                            d._handleSelectOnClose(a);
                        });
                    }, a.prototype._handleSelectOnClose = function(a, b) {
                        if (b && null != b.originalSelect2Event) {
                            var c = b.originalSelect2Event;
                            if ("select" === c._type || "unselect" === c._type) return;
                        }
                        var d = this.getHighlightedResults();
                        if (!(d.length < 1)) {
                            var e = d.data("data");
                            null != e.element && e.element.selected || null == e.element && e.selected || this.trigger("select", {
                                data: e
                            });
                        }
                    }, a;
                }), b.define("select2/dropdown/closeOnSelect", [], function() {
                    function a() {}
                    return a.prototype.bind = function(a, b, c) {
                        var d = this;
                        a.call(this, b, c), b.on("select", function(a) {
                            d._selectTriggered(a);
                        }), b.on("unselect", function(a) {
                            d._selectTriggered(a);
                        });
                    }, a.prototype._selectTriggered = function(a, b) {
                        var c = b.originalEvent;
                        c && c.ctrlKey || this.trigger("close", {
                            originalEvent: c,
                            originalSelect2Event: b
                        });
                    }, a;
                }), b.define("select2/i18n/en", [], function() {
                    return {
                        errorLoading: function() {
                            return "The results could not be loaded.";
                        },
                        inputTooLong: function(a) {
                            var b = a.input.length - a.maximum,
                                c = "Please delete " + b + " character";
                            return 1 != b && (c += "s"), c;
                        },
                        inputTooShort: function(a) {
                            var b = a.minimum - a.input.length,
                                c = "Please enter " + b + " or more characters";
                            return c;
                        },
                        loadingMore: function() {
                            return "Loading more results";
                        },
                        maximumSelected: function(a) {
                            var b = "You can only select " + a.maximum + " item";
                            return 1 != a.maximum && (b += "s"), b;
                        },
                        noResults: function() {
                            return "No results found";
                        },
                        searching: function() {
                            return "Searching";
                        }
                    };
                }), b.define("select2/defaults", ["jquery", "require", "./results", "./selection/single", "./selection/multiple", "./selection/placeholder", "./selection/allowClear", "./selection/search", "./selection/eventRelay", "./utils", "./translation", "./diacritics", "./data/select", "./data/array", "./data/ajax", "./data/tags", "./data/tokenizer", "./data/minimumInputLength", "./data/maximumInputLength", "./data/maximumSelectionLength", "./dropdown", "./dropdown/search", "./dropdown/hidePlaceholder", "./dropdown/infiniteScroll", "./dropdown/attachBody", "./dropdown/minimumResultsForSearch", "./dropdown/selectOnClose", "./dropdown/closeOnSelect", "./i18n/en"], function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z, A, B, C) {
                    function D() {
                        this.reset();
                    }
                    D.prototype.apply = function(l) {
                        if (l = a.extend(!0, {}, this.defaults, l), null == l.dataAdapter) {
                            if (null != l.ajax ? l.dataAdapter = o : null != l.data ? l.dataAdapter = n : l.dataAdapter = m, l.minimumInputLength > 0 && (l.dataAdapter = j.Decorate(l.dataAdapter, r)), l.maximumInputLength > 0 && (l.dataAdapter = j.Decorate(l.dataAdapter, s)), l.maximumSelectionLength > 0 && (l.dataAdapter = j.Decorate(l.dataAdapter, t)), l.tags && (l.dataAdapter = j.Decorate(l.dataAdapter, p)), (null != l.tokenSeparators || null != l.tokenizer) && (l.dataAdapter = j.Decorate(l.dataAdapter, q)), null != l.query) {
                                var C = b(l.amdBase + "compat/query");
                                l.dataAdapter = j.Decorate(l.dataAdapter, C);
                            }
                            if (null != l.initSelection) {
                                var D = b(l.amdBase + "compat/initSelection");
                                l.dataAdapter = j.Decorate(l.dataAdapter, D);
                            }
                        }
                        if (null == l.resultsAdapter && (l.resultsAdapter = c, null != l.ajax && (l.resultsAdapter = j.Decorate(l.resultsAdapter, x)), null != l.placeholder && (l.resultsAdapter = j.Decorate(l.resultsAdapter, w)), l.selectOnClose && (l.resultsAdapter = j.Decorate(l.resultsAdapter, A))), null == l.dropdownAdapter) {
                            if (l.multiple) l.dropdownAdapter = u;
                            else {
                                var E = j.Decorate(u, v);
                                l.dropdownAdapter = E;
                            }
                            if (0 !== l.minimumResultsForSearch && (l.dropdownAdapter = j.Decorate(l.dropdownAdapter, z)), l.closeOnSelect && (l.dropdownAdapter = j.Decorate(l.dropdownAdapter, B)), null != l.dropdownCssClass || null != l.dropdownCss || null != l.adaptDropdownCssClass) {
                                var F = b(l.amdBase + "compat/dropdownCss");
                                l.dropdownAdapter = j.Decorate(l.dropdownAdapter, F);
                            }
                            l.dropdownAdapter = j.Decorate(l.dropdownAdapter, y);
                        }
                        if (null == l.selectionAdapter) {
                            if (l.multiple ? l.selectionAdapter = e : l.selectionAdapter = d, null != l.placeholder && (l.selectionAdapter = j.Decorate(l.selectionAdapter, f)), l.allowClear && (l.selectionAdapter = j.Decorate(l.selectionAdapter, g)), l.multiple && (l.selectionAdapter = j.Decorate(l.selectionAdapter, h)), null != l.containerCssClass || null != l.containerCss || null != l.adaptContainerCssClass) {
                                var G = b(l.amdBase + "compat/containerCss");
                                l.selectionAdapter = j.Decorate(l.selectionAdapter, G);
                            }
                            l.selectionAdapter = j.Decorate(l.selectionAdapter, i);
                        }
                        if ("string" == typeof l.language)
                            if (l.language.indexOf("-") > 0) {
                                var H = l.language.split("-"),
                                    I = H[0];
                                l.language = [l.language, I];
                            } else l.language = [l.language];
                        if (a.isArray(l.language)) {
                            var J = new k();
                            l.language.push("en");
                            for (var K = l.language, L = 0; L < K.length; L++) {
                                var M = K[L],
                                    N = {};
                                try {
                                    N = k.loadPath(M);
                                } catch (O) {
                                    try {
                                        M = this.defaults.amdLanguageBase + M, N = k.loadPath(M);
                                    } catch (P) {
                                        l.debug && window.console && console.warn && console.warn('Select2: The language file for "' + M + '" could not be automatically loaded. A fallback will be used instead.');
                                        continue;
                                    }
                                }
                                J.extend(N);
                            }
                            l.translations = J;
                        } else {
                            var Q = k.loadPath(this.defaults.amdLanguageBase + "en"),
                                R = new k(l.language);
                            R.extend(Q), l.translations = R;
                        }
                        return l;
                    }, D.prototype.reset = function() {
                        function b(a) {
                            function b(a) {
                                return l[a] || a;
                            }
                            return a.replace(/[^\u0000-\u007E]/g, b);
                        }

                        function c(d, e) {
                            if ("" === a.trim(d.term)) return e;
                            if (e.children && e.children.length > 0) {
                                for (var f = a.extend(!0, {}, e), g = e.children.length - 1; g >= 0; g--) {
                                    var h = e.children[g],
                                        i = c(d, h);
                                    null == i && f.children.splice(g, 1);
                                }
                                return f.children.length > 0 ? f : c(d, f);
                            }
                            var j = b(e.text).toUpperCase(),
                                k = b(d.term).toUpperCase();
                            return j.indexOf(k) > -1 ? e : null;
                        }
                        this.defaults = {
                            amdBase: "./",
                            amdLanguageBase: "./i18n/",
                            closeOnSelect: !0,
                            debug: !1,
                            dropdownAutoWidth: !1,
                            escapeMarkup: j.escapeMarkup,
                            language: C,
                            matcher: c,
                            minimumInputLength: 0,
                            maximumInputLength: 0,
                            maximumSelectionLength: 0,
                            minimumResultsForSearch: 0,
                            selectOnClose: !1,
                            sorter: function(a) {
                                return a;
                            },
                            templateResult: function(a) {
                                return a.text;
                            },
                            templateSelection: function(a) {
                                return a.text;
                            },
                            theme: "default",
                            width: "resolve"
                        };
                    }, D.prototype.set = function(b, c) {
                        var d = a.camelCase(b),
                            e = {};
                        e[d] = c;
                        var f = j._convertData(e);
                        a.extend(this.defaults, f);
                    };
                    var E = new D();
                    return E;
                }), b.define("select2/options", ["require", "jquery", "./defaults", "./utils"], function(a, b, c, d) {
                    function e(b, e) {
                        if (this.options = b, null != e && this.fromElement(e), this.options = c.apply(this.options), e && e.is("input")) {
                            var f = a(this.get("amdBase") + "compat/inputData");
                            this.options.dataAdapter = d.Decorate(this.options.dataAdapter, f);
                        }
                    }
                    return e.prototype.fromElement = function(a) {
                        var c = ["select2"];
                        null == this.options.multiple && (this.options.multiple = a.prop("multiple")), null == this.options.disabled && (this.options.disabled = a.prop("disabled")), null == this.options.language && (a.prop("lang") ? this.options.language = a.prop("lang").toLowerCase() : a.closest("[lang]").prop("lang") && (this.options.language = a.closest("[lang]").prop("lang"))), null == this.options.dir && (a.prop("dir") ? this.options.dir = a.prop("dir") : a.closest("[dir]").prop("dir") ? this.options.dir = a.closest("[dir]").prop("dir") : this.options.dir = "ltr"), a.prop("disabled", this.options.disabled), a.prop("multiple", this.options.multiple), a.data("select2Tags") && (this.options.debug && window.console && console.warn && console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'), a.data("data", a.data("select2Tags")), a.data("tags", !0)), a.data("ajaxUrl") && (this.options.debug && window.console && console.warn && console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."), a.attr("ajax--url", a.data("ajaxUrl")), a.data("ajax--url", a.data("ajaxUrl")));
                        var e = {};
                        e = b.fn.jquery && "1." == b.fn.jquery.substr(0, 2) && a[0].dataset ? b.extend(!0, {}, a[0].dataset, a.data()) : a.data();
                        var f = b.extend(!0, {}, e);
                        f = d._convertData(f);
                        for (var g in f) b.inArray(g, c) > -1 || (b.isPlainObject(this.options[g]) ? b.extend(this.options[g], f[g]) : this.options[g] = f[g]);
                        return this;
                    }, e.prototype.get = function(a) {
                        return this.options[a];
                    }, e.prototype.set = function(a, b) {
                        this.options[a] = b;
                    }, e;
                }), b.define("select2/core", ["jquery", "./options", "./utils", "./keys"], function(a, b, c, d) {
                    var e = function(a, c) {
                        null != a.data("select2") && a.data("select2").destroy(), this.$element = a, this.id = this._generateId(a), c = c || {}, this.options = new b(c, a), e.__super__.constructor.call(this);
                        var d = a.attr("tabindex") || 0;
                        a.data("old-tabindex", d), a.attr("tabindex", "-1");
                        var f = this.options.get("dataAdapter");
                        this.dataAdapter = new f(a, this.options);
                        var g = this.render();
                        this._placeContainer(g);
                        var h = this.options.get("selectionAdapter");
                        this.selection = new h(a, this.options), this.$selection = this.selection.render(), this.selection.position(this.$selection, g);
                        var i = this.options.get("dropdownAdapter");
                        this.dropdown = new i(a, this.options), this.$dropdown = this.dropdown.render(), this.dropdown.position(this.$dropdown, g);
                        var j = this.options.get("resultsAdapter");
                        this.results = new j(a, this.options, this.dataAdapter), this.$results = this.results.render(), this.results.position(this.$results, this.$dropdown);
                        var k = this;
                        this._bindAdapters(), this._registerDomEvents(), this._registerDataEvents(), this._registerSelectionEvents(), this._registerDropdownEvents(), this._registerResultsEvents(), this._registerEvents(), this.dataAdapter.current(function(a) {
                            k.trigger("selection:update", {
                                data: a
                            });
                        }), a.addClass("select2-hidden-accessible"), a.attr("aria-hidden", "true"), this._syncAttributes(), a.data("select2", this);
                    };
                    return c.Extend(e, c.Observable), e.prototype._generateId = function(a) {
                        var b = "";
                        return b = null != a.attr("id") ? a.attr("id") : null != a.attr("name") ? a.attr("name") + "-" + c.generateChars(2) : c.generateChars(4), b = b.replace(/(:|\.|\[|\]|,)/g, ""), b = "select2-" + b;
                    }, e.prototype._placeContainer = function(a) {
                        a.insertAfter(this.$element);
                        var b = this._resolveWidth(this.$element, this.options.get("width"));
                        null != b && a.css("width", b);
                    }, e.prototype._resolveWidth = function(a, b) {
                        var c = /^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;
                        if ("resolve" == b) {
                            var d = this._resolveWidth(a, "style");
                            return null != d ? d : this._resolveWidth(a, "element");
                        }
                        if ("element" == b) {
                            var e = a.outerWidth(!1);
                            return 0 >= e ? "auto" : e + "px";
                        }
                        if ("style" == b) {
                            var f = a.attr("style");
                            if ("string" != typeof f) return null;
                            for (var g = f.split(";"), h = 0, i = g.length; i > h; h += 1) {
                                var j = g[h].replace(/\s/g, ""),
                                    k = j.match(c);
                                if (null !== k && k.length >= 1) return k[1];
                            }
                            return null;
                        }
                        return b;
                    }, e.prototype._bindAdapters = function() {
                        this.dataAdapter.bind(this, this.$container), this.selection.bind(this, this.$container), this.dropdown.bind(this, this.$container), this.results.bind(this, this.$container);
                    }, e.prototype._registerDomEvents = function() {
                        var b = this;
                        this.$element.on("change.select2", function() {
                            b.dataAdapter.current(function(a) {
                                b.trigger("selection:update", {
                                    data: a
                                });
                            });
                        }), this.$element.on("focus.select2", function(a) {
                            b.trigger("focus", a);
                        }), this._syncA = c.bind(this._syncAttributes, this), this._syncS = c.bind(this._syncSubtree, this), this.$element[0].attachEvent && this.$element[0].attachEvent("onpropertychange", this._syncA);
                        var d = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
                        null != d ? (this._observer = new d(function(c) {
                            a.each(c, b._syncA), a.each(c, b._syncS);
                        }), this._observer.observe(this.$element[0], {
                            attributes: !0,
                            childList: !0,
                            subtree: !1
                        })) : this.$element[0].addEventListener && (this.$element[0].addEventListener("DOMAttrModified", b._syncA, !1), this.$element[0].addEventListener("DOMNodeInserted", b._syncS, !1), this.$element[0].addEventListener("DOMNodeRemoved", b._syncS, !1));
                    }, e.prototype._registerDataEvents = function() {
                        var a = this;
                        this.dataAdapter.on("*", function(b, c) {
                            a.trigger(b, c);
                        });
                    }, e.prototype._registerSelectionEvents = function() {
                        var b = this,
                            c = ["toggle", "focus"];
                        this.selection.on("toggle", function() {
                            b.toggleDropdown();
                        }), this.selection.on("focus", function(a) {
                            b.focus(a);
                        }), this.selection.on("*", function(d, e) {
                            -1 === a.inArray(d, c) && b.trigger(d, e);
                        });
                    }, e.prototype._registerDropdownEvents = function() {
                        var a = this;
                        this.dropdown.on("*", function(b, c) {
                            a.trigger(b, c);
                        });
                    }, e.prototype._registerResultsEvents = function() {
                        var a = this;
                        this.results.on("*", function(b, c) {
                            a.trigger(b, c);
                        });
                    }, e.prototype._registerEvents = function() {
                        var a = this;
                        this.on("open", function() {
                            a.$container.addClass("select2-container--open");
                        }), this.on("close", function() {
                            a.$container.removeClass("select2-container--open");
                        }), this.on("enable", function() {
                            a.$container.removeClass("select2-container--disabled");
                        }), this.on("disable", function() {
                            a.$container.addClass("select2-container--disabled");
                        }), this.on("blur", function() {
                            a.$container.removeClass("select2-container--focus");
                        }), this.on("query", function(b) {
                            a.isOpen() || a.trigger("open", {}), this.dataAdapter.query(b, function(c) {
                                a.trigger("results:all", {
                                    data: c,
                                    query: b
                                });
                            });
                        }), this.on("query:append", function(b) {
                            this.dataAdapter.query(b, function(c) {
                                a.trigger("results:append", {
                                    data: c,
                                    query: b
                                });
                            });
                        }), this.on("keypress", function(b) {
                            var c = b.which;
                            a.isOpen() ? c === d.ESC || c === d.TAB || c === d.UP && b.altKey ? (a.close(), b.preventDefault()) : c === d.ENTER ? (a.trigger("results:select", {}), b.preventDefault()) : c === d.SPACE && b.ctrlKey ? (a.trigger("results:toggle", {}), b.preventDefault()) : c === d.UP ? (a.trigger("results:previous", {}), b.preventDefault()) : c === d.DOWN && (a.trigger("results:next", {}), b.preventDefault()) : (c === d.ENTER || c === d.SPACE || c === d.DOWN && b.altKey) && (a.open(), b.preventDefault());
                        });
                    }, e.prototype._syncAttributes = function() {
                        this.options.set("disabled", this.$element.prop("disabled")), this.options.get("disabled") ? (this.isOpen() && this.close(), this.trigger("disable", {})) : this.trigger("enable", {});
                    }, e.prototype._syncSubtree = function(a, b) {
                        var c = !1,
                            d = this;
                        if (!a || !a.target || "OPTION" === a.target.nodeName || "OPTGROUP" === a.target.nodeName) {
                            if (b) {
                                if (b.addedNodes && b.addedNodes.length > 0)
                                    for (var e = 0; e < b.addedNodes.length; e++) {
                                        var f = b.addedNodes[e];
                                        f.selected && (c = !0);
                                    } else b.removedNodes && b.removedNodes.length > 0 && (c = !0);
                            } else c = !0;
                            c && this.dataAdapter.current(function(a) {
                                d.trigger("selection:update", {
                                    data: a
                                });
                            });
                        }
                    }, e.prototype.trigger = function(a, b) {
                        var c = e.__super__.trigger,
                            d = {
                                open: "opening",
                                close: "closing",
                                select: "selecting",
                                unselect: "unselecting"
                            };
                        if (void 0 === b && (b = {}), a in d) {
                            var f = d[a],
                                g = {
                                    prevented: !1,
                                    name: a,
                                    args: b
                                };
                            if (c.call(this, f, g), g.prevented) return void(b.prevented = !0);
                        }
                        c.call(this, a, b);
                    }, e.prototype.toggleDropdown = function() {
                        this.options.get("disabled") || (this.isOpen() ? this.close() : this.open());
                    }, e.prototype.open = function() {
                        this.isOpen() || this.trigger("query", {});
                    }, e.prototype.close = function() {
                        this.isOpen() && this.trigger("close", {});
                    }, e.prototype.isOpen = function() {
                        return this.$container.hasClass("select2-container--open");
                    }, e.prototype.hasFocus = function() {
                        return this.$container.hasClass("select2-container--focus");
                    }, e.prototype.focus = function(a) {
                        this.hasFocus() || (this.$container.addClass("select2-container--focus"), this.trigger("focus", {}));
                    }, e.prototype.enable = function(a) {
                        this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'), (null == a || 0 === a.length) && (a = [!0]);
                        var b = !a[0];
                        this.$element.prop("disabled", b);
                    }, e.prototype.data = function() {
                        this.options.get("debug") && arguments.length > 0 && window.console && console.warn && console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');
                        var a = [];
                        return this.dataAdapter.current(function(b) {
                            a = b;
                        }), a;
                    }, e.prototype.val = function(b) {
                        if (this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'), null == b || 0 === b.length) return this.$element.val();
                        var c = b[0];
                        a.isArray(c) && (c = a.map(c, function(a) {
                            return a.toString();
                        })), this.$element.val(c).trigger("change");
                    }, e.prototype.destroy = function() {
                        this.$container.remove(), this.$element[0].detachEvent && this.$element[0].detachEvent("onpropertychange", this._syncA), null != this._observer ? (this._observer.disconnect(), this._observer = null) : this.$element[0].removeEventListener && (this.$element[0].removeEventListener("DOMAttrModified", this._syncA, !1), this.$element[0].removeEventListener("DOMNodeInserted", this._syncS, !1), this.$element[0].removeEventListener("DOMNodeRemoved", this._syncS, !1)), this._syncA = null, this._syncS = null, this.$element.off(".select2"), this.$element.attr("tabindex", this.$element.data("old-tabindex")), this.$element.removeClass("select2-hidden-accessible"), this.$element.attr("aria-hidden", "false"), this.$element.removeData("select2"), this.dataAdapter.destroy(), this.selection.destroy(), this.dropdown.destroy(), this.results.destroy(), this.dataAdapter = null, this.selection = null, this.dropdown = null, this.results = null;
                    }, e.prototype.render = function() {
                        var b = a('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');
                        return b.attr("dir", this.options.get("dir")), this.$container = b, this.$container.addClass("select2-container--" + this.options.get("theme")), b.data("element", this.$element), b;
                    }, e;
                }), b.define("select2/compat/utils", ["jquery"], function(a) {
                    function b(b, c, d) {
                        var e, f, g = [];
                        e = a.trim(b.attr("class")), e && (e = "" + e, a(e.split(/\s+/)).each(function() {
                            0 === this.indexOf("select2-") && g.push(this);
                        })), e = a.trim(c.attr("class")), e && (e = "" + e, a(e.split(/\s+/)).each(function() {
                            0 !== this.indexOf("select2-") && (f = d(this), null != f && g.push(f));
                        })), b.attr("class", g.join(" "));
                    }
                    return {
                        syncCssClasses: b
                    };
                }), b.define("select2/compat/containerCss", ["jquery", "./utils"], function(a, b) {
                    function c(a) {
                        return null;
                    }

                    function d() {}
                    return d.prototype.render = function(d) {
                        var e = d.call(this),
                            f = this.options.get("containerCssClass") || "";
                        a.isFunction(f) && (f = f(this.$element));
                        var g = this.options.get("adaptContainerCssClass");
                        if (g = g || c, -1 !== f.indexOf(":all:")) {
                            f = f.replace(":all:", "");
                            var h = g;
                            g = function(a) {
                                var b = h(a);
                                return null != b ? b + " " + a : a;
                            };
                        }
                        var i = this.options.get("containerCss") || {};
                        return a.isFunction(i) && (i = i(this.$element)), b.syncCssClasses(e, this.$element, g), e.css(i), e.addClass(f), e;
                    }, d;
                }), b.define("select2/compat/dropdownCss", ["jquery", "./utils"], function(a, b) {
                    function c(a) {
                        return null;
                    }

                    function d() {}
                    return d.prototype.render = function(d) {
                        var e = d.call(this),
                            f = this.options.get("dropdownCssClass") || "";
                        a.isFunction(f) && (f = f(this.$element));
                        var g = this.options.get("adaptDropdownCssClass");
                        if (g = g || c, -1 !== f.indexOf(":all:")) {
                            f = f.replace(":all:", "");
                            var h = g;
                            g = function(a) {
                                var b = h(a);
                                return null != b ? b + " " + a : a;
                            };
                        }
                        var i = this.options.get("dropdownCss") || {};
                        return a.isFunction(i) && (i = i(this.$element)), b.syncCssClasses(e, this.$element, g), e.css(i), e.addClass(f), e;
                    }, d;
                }), b.define("select2/compat/initSelection", ["jquery"], function(a) {
                    function b(a, b, c) {
                        c.get("debug") && window.console && console.warn && console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"), this.initSelection = c.get("initSelection"), this._isInitialized = !1, a.call(this, b, c);
                    }
                    return b.prototype.current = function(b, c) {
                        var d = this;
                        return this._isInitialized ? void b.call(this, c) : void this.initSelection.call(null, this.$element, function(b) {
                            d._isInitialized = !0, a.isArray(b) || (b = [b]), c(b);
                        });
                    }, b;
                }), b.define("select2/compat/inputData", ["jquery"], function(a) {
                    function b(a, b, c) {
                        this._currentData = [], this._valueSeparator = c.get("valueSeparator") || ",", "hidden" === b.prop("type") && c.get("debug") && console && console.warn && console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."), a.call(this, b, c);
                    }
                    return b.prototype.current = function(b, c) {
                        function d(b, c) {
                            var e = [];
                            return b.selected || -1 !== a.inArray(b.id, c) ? (b.selected = !0, e.push(b)) : b.selected = !1, b.children && e.push.apply(e, d(b.children, c)), e;
                        }
                        for (var e = [], f = 0; f < this._currentData.length; f++) {
                            var g = this._currentData[f];
                            e.push.apply(e, d(g, this.$element.val().split(this._valueSeparator)));
                        }
                        c(e);
                    }, b.prototype.select = function(b, c) {
                        if (this.options.get("multiple")) {
                            var d = this.$element.val();
                            d += this._valueSeparator + c.id, this.$element.val(d), this.$element.trigger("change");
                        } else this.current(function(b) {
                            a.map(b, function(a) {
                                a.selected = !1;
                            });
                        }), this.$element.val(c.id), this.$element.trigger("change");
                    }, b.prototype.unselect = function(a, b) {
                        var c = this;
                        b.selected = !1, this.current(function(a) {
                            for (var d = [], e = 0; e < a.length; e++) {
                                var f = a[e];
                                b.id != f.id && d.push(f.id);
                            }
                            c.$element.val(d.join(c._valueSeparator)), c.$element.trigger("change");
                        });
                    }, b.prototype.query = function(a, b, c) {
                        for (var d = [], e = 0; e < this._currentData.length; e++) {
                            var f = this._currentData[e],
                                g = this.matches(b, f);
                            null !== g && d.push(g);
                        }
                        c({
                            results: d
                        });
                    }, b.prototype.addOptions = function(b, c) {
                        var d = a.map(c, function(b) {
                            return a.data(b[0], "data");
                        });
                        this._currentData.push.apply(this._currentData, d);
                    }, b;
                }), b.define("select2/compat/matcher", ["jquery"], function(a) {
                    function b(b) {
                        function c(c, d) {
                            var e = a.extend(!0, {}, d);
                            if (null == c.term || "" === a.trim(c.term)) return e;
                            if (d.children) {
                                for (var f = d.children.length - 1; f >= 0; f--) {
                                    var g = d.children[f],
                                        h = b(c.term, g.text, g);
                                    h || e.children.splice(f, 1);
                                }
                                if (e.children.length > 0) return e;
                            }
                            return b(c.term, d.text, d) ? e : null;
                        }
                        return c;
                    }
                    return b;
                }), b.define("select2/compat/query", [], function() {
                    function a(a, b, c) {
                        c.get("debug") && window.console && console.warn && console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."), a.call(this, b, c);
                    }
                    return a.prototype.query = function(a, b, c) {
                        b.callback = c;
                        var d = this.options.get("query");
                        d.call(null, b);
                    }, a;
                }), b.define("select2/dropdown/attachContainer", [], function() {
                    function a(a, b, c) {
                        a.call(this, b, c);
                    }
                    return a.prototype.position = function(a, b, c) {
                        var d = c.find(".dropdown-wrapper");
                        d.append(b), b.addClass("select2-dropdown--below"), c.addClass("select2-container--below");
                    }, a;
                }), b.define("select2/dropdown/stopPropagation", [], function() {
                    function a() {}
                    return a.prototype.bind = function(a, b, c) {
                        a.call(this, b, c);
                        var d = ["blur", "change", "click", "dblclick", "focus", "focusin", "focusout", "input", "keydown", "keyup", "keypress", "mousedown", "mouseenter", "mouseleave", "mousemove", "mouseover", "mouseup", "search", "touchend", "touchstart"];
                        this.$dropdown.on(d.join(" "), function(a) {
                            a.stopPropagation();
                        });
                    }, a;
                }), b.define("select2/selection/stopPropagation", [], function() {
                    function a() {}
                    return a.prototype.bind = function(a, b, c) {
                        a.call(this, b, c);
                        var d = ["blur", "change", "click", "dblclick", "focus", "focusin", "focusout", "input", "keydown", "keyup", "keypress", "mousedown", "mouseenter", "mouseleave", "mousemove", "mouseover", "mouseup", "search", "touchend", "touchstart"];
                        this.$selection.on(d.join(" "), function(a) {
                            a.stopPropagation();
                        });
                    }, a;
                }),
                function(c) {
                    "function" == typeof b.define && b.define.amd ? b.define("jquery-mousewheel", ["jquery"], c) : "object" == typeof exports ? module.exports = c : c(a);
                }(function(a) {
                    function b(b) {
                        var g = b || window.event,
                            h = i.call(arguments, 1),
                            j = 0,
                            l = 0,
                            m = 0,
                            n = 0,
                            o = 0,
                            p = 0;
                        if (b = a.event.fix(g), b.type = "mousewheel", "detail" in g && (m = -1 * g.detail), "wheelDelta" in g && (m = g.wheelDelta), "wheelDeltaY" in g && (m = g.wheelDeltaY), "wheelDeltaX" in g && (l = -1 * g.wheelDeltaX), "axis" in g && g.axis === g.HORIZONTAL_AXIS && (l = -1 * m, m = 0), j = 0 === m ? l : m, "deltaY" in g && (m = -1 * g.deltaY, j = m), "deltaX" in g && (l = g.deltaX, 0 === m && (j = -1 * l)), 0 !== m || 0 !== l) {
                            if (1 === g.deltaMode) {
                                var q = a.data(this, "mousewheel-line-height");
                                j *= q, m *= q, l *= q;
                            } else if (2 === g.deltaMode) {
                                var r = a.data(this, "mousewheel-page-height");
                                j *= r, m *= r, l *= r;
                            }
                            if (n = Math.max(Math.abs(m), Math.abs(l)), (!f || f > n) && (f = n, d(g, n) && (f /= 40)), d(g, n) && (j /= 40, l /= 40, m /= 40), j = Math[j >= 1 ? "floor" : "ceil"](j / f), l = Math[l >= 1 ? "floor" : "ceil"](l / f), m = Math[m >= 1 ? "floor" : "ceil"](m / f), k.settings.normalizeOffset && this.getBoundingClientRect) {
                                var s = this.getBoundingClientRect();
                                o = b.clientX - s.left, p = b.clientY - s.top;
                            }
                            return b.deltaX = l, b.deltaY = m, b.deltaFactor = f, b.offsetX = o, b.offsetY = p, b.deltaMode = 0, h.unshift(b, j, l, m), e && clearTimeout(e), e = setTimeout(c, 200), (a.event.dispatch || a.event.handle).apply(this, h);
                        }
                    }

                    function c() {
                        f = null;
                    }

                    function d(a, b) {
                        return k.settings.adjustOldDeltas && "mousewheel" === a.type && b % 120 === 0;
                    }
                    var e, f, g = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"],
                        h = "onwheel" in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"],
                        i = Array.prototype.slice;
                    if (a.event.fixHooks)
                        for (var j = g.length; j;) a.event.fixHooks[g[--j]] = a.event.mouseHooks;
                    var k = a.event.special.mousewheel = {
                        version: "3.1.12",
                        setup: function() {
                            if (this.addEventListener)
                                for (var c = h.length; c;) this.addEventListener(h[--c], b, !1);
                            else this.onmousewheel = b;
                            a.data(this, "mousewheel-line-height", k.getLineHeight(this)), a.data(this, "mousewheel-page-height", k.getPageHeight(this));
                        },
                        teardown: function() {
                            if (this.removeEventListener)
                                for (var c = h.length; c;) this.removeEventListener(h[--c], b, !1);
                            else this.onmousewheel = null;
                            a.removeData(this, "mousewheel-line-height"), a.removeData(this, "mousewheel-page-height");
                        },
                        getLineHeight: function(b) {
                            var c = a(b),
                                d = c["offsetParent" in a.fn ? "offsetParent" : "parent"]();
                            return d.length || (d = a("body")), parseInt(d.css("fontSize"), 10) || parseInt(c.css("fontSize"), 10) || 16;
                        },
                        getPageHeight: function(b) {
                            return a(b).height();
                        },
                        settings: {
                            adjustOldDeltas: !0,
                            normalizeOffset: !0
                        }
                    };
                    a.fn.extend({
                        mousewheel: function(a) {
                            return a ? this.bind("mousewheel", a) : this.trigger("mousewheel");
                        },
                        unmousewheel: function(a) {
                            return this.unbind("mousewheel", a);
                        }
                    });
                }), b.define("jquery.select2", ["jquery", "jquery-mousewheel", "./select2/core", "./select2/defaults"], function(a, b, c, d) {
                    if (null == a.fn.select2) {
                        var e = ["open", "close", "destroy"];
                        a.fn.select2 = function(b) {
                            if (b = b || {}, "object" == typeof b) return this.each(function() {
                                var d = a.extend(!0, {}, b);
                                new c(a(this), d);
                            }), this;
                            if ("string" == typeof b) {
                                var d, f = Array.prototype.slice.call(arguments, 1);
                                return this.each(function() {
                                    var c = a(this).data("select2");
                                    null == c && window.console && console.error && console.error("The select2('" + b + "') method was called on an element that is not using Select2."), d = c[b].apply(c, f);
                                }), a.inArray(b, e) > -1 ? this : d;
                            }
                            throw new Error("Invalid arguments for Select2: " + b);
                        };
                    }
                    return null == a.fn.select2.defaults && (a.fn.select2.defaults = d), c;
                }), {
                    define: b.define,
                    require: b.require
                };
        }(),
        c = b.require("jquery.select2");
    return a.fn.select2.amd = b, c;
});
/* Javascript plotting library for jQuery, version 0.8.3.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

*/
(function($) {
    $.color = {};
    $.color.make = function(r, g, b, a) {
        var o = {};
        o.r = r || 0;
        o.g = g || 0;
        o.b = b || 0;
        o.a = a != null ? a : 1;
        o.add = function(c, d) {
            for (var i = 0; i < c.length; ++i) o[c.charAt(i)] += d;
            return o.normalize();
        };
        o.scale = function(c, f) {
            for (var i = 0; i < c.length; ++i) o[c.charAt(i)] *= f;
            return o.normalize();
        };
        o.toString = function() {
            if (o.a >= 1) {
                return "rgb(" + [o.r, o.g, o.b].join(",") + ")";
            } else {
                return "rgba(" + [o.r, o.g, o.b, o.a].join(",") + ")";
            }
        };
        o.normalize = function() {
            function clamp(min, value, max) {
                return value < min ? min : value > max ? max : value;
            }
            o.r = clamp(0, parseInt(o.r), 255);
            o.g = clamp(0, parseInt(o.g), 255);
            o.b = clamp(0, parseInt(o.b), 255);
            o.a = clamp(0, o.a, 1);
            return o;
        };
        o.clone = function() {
            return $.color.make(o.r, o.b, o.g, o.a);
        };
        return o.normalize();
    };
    $.color.extract = function(elem, css) {
        var c;
        do {
            c = elem.css(css).toLowerCase();
            if (c != "" && c != "transparent") break;
            elem = elem.parent();
        } while (elem.length && !$.nodeName(elem.get(0), "body"));
        if (c == "rgba(0, 0, 0, 0)") c = "transparent";
        return $.color.parse(c);
    };
    $.color.parse = function(str) {
        var res, m = $.color.make;
        if (res = /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(str)) return m(parseInt(res[1], 10), parseInt(res[2], 10), parseInt(res[3], 10));
        if (res = /rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(str)) return m(parseInt(res[1], 10), parseInt(res[2], 10), parseInt(res[3], 10), parseFloat(res[4]));
        if (res = /rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(str)) return m(parseFloat(res[1]) * 2.55, parseFloat(res[2]) * 2.55, parseFloat(res[3]) * 2.55);
        if (res = /rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(str)) return m(parseFloat(res[1]) * 2.55, parseFloat(res[2]) * 2.55, parseFloat(res[3]) * 2.55, parseFloat(res[4]));
        if (res = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(str)) return m(parseInt(res[1], 16), parseInt(res[2], 16), parseInt(res[3], 16));
        if (res = /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(str)) return m(parseInt(res[1] + res[1], 16), parseInt(res[2] + res[2], 16), parseInt(res[3] + res[3], 16));
        var name = $.trim(str).toLowerCase();
        if (name == "transparent") return m(255, 255, 255, 0);
        else {
            res = lookupColors[name] || [0, 0, 0];
            return m(res[0], res[1], res[2]);
        }
    };
    var lookupColors = {
        aqua: [0, 255, 255],
        azure: [240, 255, 255],
        beige: [245, 245, 220],
        black: [0, 0, 0],
        blue: [0, 0, 255],
        brown: [165, 42, 42],
        cyan: [0, 255, 255],
        darkblue: [0, 0, 139],
        darkcyan: [0, 139, 139],
        darkgrey: [169, 169, 169],
        darkgreen: [0, 100, 0],
        darkkhaki: [189, 183, 107],
        darkmagenta: [139, 0, 139],
        darkolivegreen: [85, 107, 47],
        darkorange: [255, 140, 0],
        darkorchid: [153, 50, 204],
        darkred: [139, 0, 0],
        darksalmon: [233, 150, 122],
        darkviolet: [148, 0, 211],
        fuchsia: [255, 0, 255],
        gold: [255, 215, 0],
        green: [0, 128, 0],
        indigo: [75, 0, 130],
        khaki: [240, 230, 140],
        lightblue: [173, 216, 230],
        lightcyan: [224, 255, 255],
        lightgreen: [144, 238, 144],
        lightgrey: [211, 211, 211],
        lightpink: [255, 182, 193],
        lightyellow: [255, 255, 224],
        lime: [0, 255, 0],
        magenta: [255, 0, 255],
        maroon: [128, 0, 0],
        navy: [0, 0, 128],
        olive: [128, 128, 0],
        orange: [255, 165, 0],
        pink: [255, 192, 203],
        purple: [128, 0, 128],
        violet: [128, 0, 128],
        red: [255, 0, 0],
        silver: [192, 192, 192],
        white: [255, 255, 255],
        yellow: [255, 255, 0]
    };
})(jQuery);
(function($) {
    var hasOwnProperty = Object.prototype.hasOwnProperty;
    if (!$.fn.detach) {
        $.fn.detach = function() {
            return this.each(function() {
                if (this.parentNode) {
                    this.parentNode.removeChild(this);
                }
            });
        };
    }

    function Canvas(cls, container) {
        var element = container.children("." + cls)[0];
        if (element == null) {
            element = document.createElement("canvas");
            element.className = cls;
            $(element).css({
                direction: "ltr",
                position: "absolute",
                left: 0,
                top: 0
            }).appendTo(container);
            if (!element.getContext) {
                if (window.G_vmlCanvasManager) {
                    element = window.G_vmlCanvasManager.initElement(element);
                } else {
                    throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");
                }
            }
        }
        this.element = element;
        var context = this.context = element.getContext("2d");
        var devicePixelRatio = window.devicePixelRatio || 1,
            backingStoreRatio = context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1;
        this.pixelRatio = devicePixelRatio / backingStoreRatio;
        this.resize(container.width(), container.height());
        this.textContainer = null;
        this.text = {};
        this._textCache = {};
    }
    Canvas.prototype.resize = function(width, height) {
        if (width <= 0 || height <= 0) {
            throw new Error("Invalid dimensions for plot, width = " + width + ", height = " + height);
        }
        var element = this.element,
            context = this.context,
            pixelRatio = this.pixelRatio;
        if (this.width != width) {
            element.width = width * pixelRatio;
            element.style.width = width + "px";
            this.width = width;
        }
        if (this.height != height) {
            element.height = height * pixelRatio;
            element.style.height = height + "px";
            this.height = height;
        }
        context.restore();
        context.save();
        context.scale(pixelRatio, pixelRatio);
    };
    Canvas.prototype.clear = function() {
        this.context.clearRect(0, 0, this.width, this.height);
    };
    Canvas.prototype.render = function() {
        var cache = this._textCache;
        for (var layerKey in cache) {
            if (hasOwnProperty.call(cache, layerKey)) {
                var layer = this.getTextLayer(layerKey),
                    layerCache = cache[layerKey];
                layer.hide();
                for (var styleKey in layerCache) {
                    if (hasOwnProperty.call(layerCache, styleKey)) {
                        var styleCache = layerCache[styleKey];
                        for (var key in styleCache) {
                            if (hasOwnProperty.call(styleCache, key)) {
                                var positions = styleCache[key].positions;
                                for (var i = 0, position; position = positions[i]; i++) {
                                    if (position.active) {
                                        if (!position.rendered) {
                                            layer.append(position.element);
                                            position.rendered = true;
                                        }
                                    } else {
                                        positions.splice(i--, 1);
                                        if (position.rendered) {
                                            position.element.detach();
                                        }
                                    }
                                }
                                if (positions.length == 0) {
                                    delete styleCache[key];
                                }
                            }
                        }
                    }
                }
                layer.show();
            }
        }
    };
    Canvas.prototype.getTextLayer = function(classes) {
        var layer = this.text[classes];
        if (layer == null) {
            if (this.textContainer == null) {
                this.textContainer = $("<div class='flot-text'></div>").css({
                    position: "absolute",
                    top: 0,
                    left: 0,
                    bottom: 0,
                    right: 0,
                    "font-size": "smaller",
                    color: "#545454"
                }).insertAfter(this.element);
            }
            layer = this.text[classes] = $("<div></div>").addClass(classes).css({
                position: "absolute",
                top: 0,
                left: 0,
                bottom: 0,
                right: 0
            }).appendTo(this.textContainer);
        }
        return layer;
    };
    Canvas.prototype.getTextInfo = function(layer, text, font, angle, width) {
        var textStyle, layerCache, styleCache, info;
        text = "" + text;
        if (typeof font === "object") {
            textStyle = font.style + " " + font.variant + " " + font.weight + " " + font.size + "px/" + font.lineHeight + "px " + font.family;
        } else {
            textStyle = font;
        }
        layerCache = this._textCache[layer];
        if (layerCache == null) {
            layerCache = this._textCache[layer] = {};
        }
        styleCache = layerCache[textStyle];
        if (styleCache == null) {
            styleCache = layerCache[textStyle] = {};
        }
        info = styleCache[text];
        if (info == null) {
            var element = $("<div></div>").html(text).css({
                position: "absolute",
                "max-width": width,
                top: -9999
            }).appendTo(this.getTextLayer(layer));
            if (typeof font === "object") {
                element.css({
                    font: textStyle,
                    color: font.color
                });
            } else if (typeof font === "string") {
                element.addClass(font);
            }
            info = styleCache[text] = {
                width: element.outerWidth(true),
                height: element.outerHeight(true),
                element: element,
                positions: []
            };
            element.detach();
        }
        return info;
    };
    Canvas.prototype.addText = function(layer, x, y, text, font, angle, width, halign, valign) {
        var info = this.getTextInfo(layer, text, font, angle, width),
            positions = info.positions;
        if (halign == "center") {
            x -= info.width / 2;
        } else if (halign == "right") {
            x -= info.width;
        }
        if (valign == "middle") {
            y -= info.height / 2;
        } else if (valign == "bottom") {
            y -= info.height;
        }
        for (var i = 0, position; position = positions[i]; i++) {
            if (position.x == x && position.y == y) {
                position.active = true;
                return;
            }
        }
        position = {
            active: true,
            rendered: false,
            element: positions.length ? info.element.clone() : info.element,
            x: x,
            y: y
        };
        positions.push(position);
        position.element.css({
            top: Math.round(y),
            left: Math.round(x),
            "text-align": halign
        });
    };
    Canvas.prototype.removeText = function(layer, x, y, text, font, angle) {
        if (text == null) {
            var layerCache = this._textCache[layer];
            if (layerCache != null) {
                for (var styleKey in layerCache) {
                    if (hasOwnProperty.call(layerCache, styleKey)) {
                        var styleCache = layerCache[styleKey];
                        for (var key in styleCache) {
                            if (hasOwnProperty.call(styleCache, key)) {
                                var positions = styleCache[key].positions;
                                for (var i = 0, position; position = positions[i]; i++) {
                                    position.active = false;
                                }
                            }
                        }
                    }
                }
            }
        } else {
            var positions = this.getTextInfo(layer, text, font, angle).positions;
            for (var i = 0, position; position = positions[i]; i++) {
                if (position.x == x && position.y == y) {
                    position.active = false;
                }
            }
        }
    };

    function Plot(placeholder, data_, options_, plugins) {
        var series = [],
            options = {
                colors: ["#edc240", "#afd8f8", "#cb4b4b", "#4da74d", "#9440ed"],
                legend: {
                    show: true,
                    noColumns: 1,
                    labelFormatter: null,
                    labelBoxBorderColor: "#ccc",
                    container: null,
                    position: "ne",
                    margin: 5,
                    backgroundColor: null,
                    backgroundOpacity: .85,
                    sorted: null
                },
                xaxis: {
                    show: null,
                    position: "bottom",
                    mode: null,
                    font: null,
                    color: null,
                    tickColor: null,
                    transform: null,
                    inverseTransform: null,
                    min: null,
                    max: null,
                    autoscaleMargin: null,
                    ticks: null,
                    tickFormatter: null,
                    labelWidth: null,
                    labelHeight: null,
                    reserveSpace: null,
                    tickLength: null,
                    alignTicksWithAxis: null,
                    tickDecimals: null,
                    tickSize: null,
                    minTickSize: null
                },
                yaxis: {
                    autoscaleMargin: .02,
                    position: "left"
                },
                xaxes: [],
                yaxes: [],
                series: {
                    points: {
                        show: false,
                        radius: 3,
                        lineWidth: 2,
                        fill: true,
                        fillColor: "#ffffff",
                        symbol: "circle"
                    },
                    lines: {
                        lineWidth: 2,
                        fill: false,
                        fillColor: null,
                        steps: false
                    },
                    bars: {
                        show: false,
                        lineWidth: 2,
                        barWidth: 1,
                        fill: true,
                        fillColor: null,
                        align: "left",
                        horizontal: false,
                        zero: true
                    },
                    shadowSize: 3,
                    highlightColor: null
                },
                grid: {
                    show: true,
                    aboveData: false,
                    color: "#545454",
                    backgroundColor: null,
                    borderColor: null,
                    tickColor: null,
                    margin: 0,
                    labelMargin: 5,
                    axisMargin: 8,
                    borderWidth: 2,
                    minBorderMargin: null,
                    markings: null,
                    markingsColor: "#f4f4f4",
                    markingsLineWidth: 2,
                    clickable: false,
                    hoverable: false,
                    autoHighlight: true,
                    mouseActiveRadius: 10
                },
                interaction: {
                    redrawOverlayInterval: 1e3 / 60
                },
                hooks: {}
            },
            surface = null,
            overlay = null,
            eventHolder = null,
            ctx = null,
            octx = null,
            xaxes = [],
            yaxes = [],
            plotOffset = {
                left: 0,
                right: 0,
                top: 0,
                bottom: 0
            },
            plotWidth = 0,
            plotHeight = 0,
            hooks = {
                processOptions: [],
                processRawData: [],
                processDatapoints: [],
                processOffset: [],
                drawBackground: [],
                drawSeries: [],
                draw: [],
                bindEvents: [],
                drawOverlay: [],
                shutdown: []
            },
            plot = this;
        plot.setData = setData;
        plot.setupGrid = setupGrid;
        plot.draw = draw;
        plot.getPlaceholder = function() {
            return placeholder;
        };
        plot.getCanvas = function() {
            return surface.element;
        };
        plot.getPlotOffset = function() {
            return plotOffset;
        };
        plot.width = function() {
            return plotWidth;
        };
        plot.height = function() {
            return plotHeight;
        };
        plot.offset = function() {
            var o = eventHolder.offset();
            o.left += plotOffset.left;
            o.top += plotOffset.top;
            return o;
        };
        plot.getData = function() {
            return series;
        };
        plot.getAxes = function() {
            var res = {},
                i;
            $.each(xaxes.concat(yaxes), function(_, axis) {
                if (axis) res[axis.direction + (axis.n != 1 ? axis.n : "") + "axis"] = axis;
            });
            return res;
        };
        plot.getXAxes = function() {
            return xaxes;
        };
        plot.getYAxes = function() {
            return yaxes;
        };
        plot.c2p = canvasToAxisCoords;
        plot.p2c = axisToCanvasCoords;
        plot.getOptions = function() {
            return options;
        };
        plot.highlight = highlight;
        plot.unhighlight = unhighlight;
        plot.triggerRedrawOverlay = triggerRedrawOverlay;
        plot.pointOffset = function(point) {
            return {
                left: parseInt(xaxes[axisNumber(point, "x") - 1].p2c(+point.x) + plotOffset.left, 10),
                top: parseInt(yaxes[axisNumber(point, "y") - 1].p2c(+point.y) + plotOffset.top, 10)
            };
        };
        plot.shutdown = shutdown;
        plot.destroy = function() {
            shutdown();
            placeholder.removeData("plot").empty();
            series = [];
            options = null;
            surface = null;
            overlay = null;
            eventHolder = null;
            ctx = null;
            octx = null;
            xaxes = [];
            yaxes = [];
            hooks = null;
            highlights = [];
            plot = null;
        };
        plot.resize = function() {
            var width = placeholder.width(),
                height = placeholder.height();
            surface.resize(width, height);
            overlay.resize(width, height);
        };
        plot.hooks = hooks;
        initPlugins(plot);
        parseOptions(options_);
        setupCanvases();
        setData(data_);
        setupGrid();
        draw();
        bindEvents();

        function executeHooks(hook, args) {
            args = [plot].concat(args);
            for (var i = 0; i < hook.length; ++i) hook[i].apply(this, args);
        }

        function initPlugins() {
            var classes = {
                Canvas: Canvas
            };
            for (var i = 0; i < plugins.length; ++i) {
                var p = plugins[i];
                p.init(plot, classes);
                if (p.options) $.extend(true, options, p.options);
            }
        }

        function parseOptions(opts) {
            $.extend(true, options, opts);
            if (opts && opts.colors) {
                options.colors = opts.colors;
            }
            if (options.xaxis.color == null) options.xaxis.color = $.color.parse(options.grid.color).scale("a", .22).toString();
            if (options.yaxis.color == null) options.yaxis.color = $.color.parse(options.grid.color).scale("a", .22).toString();
            if (options.xaxis.tickColor == null) options.xaxis.tickColor = options.grid.tickColor || options.xaxis.color;
            if (options.yaxis.tickColor == null) options.yaxis.tickColor = options.grid.tickColor || options.yaxis.color;
            if (options.grid.borderColor == null) options.grid.borderColor = options.grid.color;
            if (options.grid.tickColor == null) options.grid.tickColor = $.color.parse(options.grid.color).scale("a", .22).toString();
            var i, axisOptions, axisCount, fontSize = placeholder.css("font-size"),
                fontSizeDefault = fontSize ? +fontSize.replace("px", "") : 13,
                fontDefaults = {
                    style: placeholder.css("font-style"),
                    size: Math.round(.8 * fontSizeDefault),
                    variant: placeholder.css("font-variant"),
                    weight: placeholder.css("font-weight"),
                    family: placeholder.css("font-family")
                };
            axisCount = options.xaxes.length || 1;
            for (i = 0; i < axisCount; ++i) {
                axisOptions = options.xaxes[i];
                if (axisOptions && !axisOptions.tickColor) {
                    axisOptions.tickColor = axisOptions.color;
                }
                axisOptions = $.extend(true, {}, options.xaxis, axisOptions);
                options.xaxes[i] = axisOptions;
                if (axisOptions.font) {
                    axisOptions.font = $.extend({}, fontDefaults, axisOptions.font);
                    if (!axisOptions.font.color) {
                        axisOptions.font.color = axisOptions.color;
                    }
                    if (!axisOptions.font.lineHeight) {
                        axisOptions.font.lineHeight = Math.round(axisOptions.font.size * 1.15);
                    }
                }
            }
            axisCount = options.yaxes.length || 1;
            for (i = 0; i < axisCount; ++i) {
                axisOptions = options.yaxes[i];
                if (axisOptions && !axisOptions.tickColor) {
                    axisOptions.tickColor = axisOptions.color;
                }
                axisOptions = $.extend(true, {}, options.yaxis, axisOptions);
                options.yaxes[i] = axisOptions;
                if (axisOptions.font) {
                    axisOptions.font = $.extend({}, fontDefaults, axisOptions.font);
                    if (!axisOptions.font.color) {
                        axisOptions.font.color = axisOptions.color;
                    }
                    if (!axisOptions.font.lineHeight) {
                        axisOptions.font.lineHeight = Math.round(axisOptions.font.size * 1.15);
                    }
                }
            }
            if (options.xaxis.noTicks && options.xaxis.ticks == null) options.xaxis.ticks = options.xaxis.noTicks;
            if (options.yaxis.noTicks && options.yaxis.ticks == null) options.yaxis.ticks = options.yaxis.noTicks;
            if (options.x2axis) {
                options.xaxes[1] = $.extend(true, {}, options.xaxis, options.x2axis);
                options.xaxes[1].position = "top";
                if (options.x2axis.min == null) {
                    options.xaxes[1].min = null;
                }
                if (options.x2axis.max == null) {
                    options.xaxes[1].max = null;
                }
            }
            if (options.y2axis) {
                options.yaxes[1] = $.extend(true, {}, options.yaxis, options.y2axis);
                options.yaxes[1].position = "right";
                if (options.y2axis.min == null) {
                    options.yaxes[1].min = null;
                }
                if (options.y2axis.max == null) {
                    options.yaxes[1].max = null;
                }
            }
            if (options.grid.coloredAreas) options.grid.markings = options.grid.coloredAreas;
            if (options.grid.coloredAreasColor) options.grid.markingsColor = options.grid.coloredAreasColor;
            if (options.lines) $.extend(true, options.series.lines, options.lines);
            if (options.points) $.extend(true, options.series.points, options.points);
            if (options.bars) $.extend(true, options.series.bars, options.bars);
            if (options.shadowSize != null) options.series.shadowSize = options.shadowSize;
            if (options.highlightColor != null) options.series.highlightColor = options.highlightColor;
            for (i = 0; i < options.xaxes.length; ++i) getOrCreateAxis(xaxes, i + 1).options = options.xaxes[i];
            for (i = 0; i < options.yaxes.length; ++i) getOrCreateAxis(yaxes, i + 1).options = options.yaxes[i];
            for (var n in hooks)
                if (options.hooks[n] && options.hooks[n].length) hooks[n] = hooks[n].concat(options.hooks[n]);
            executeHooks(hooks.processOptions, [options]);
        }

        function setData(d) {
            series = parseData(d);
            fillInSeriesOptions();
            processData();
        }

        function parseData(d) {
            var res = [];
            for (var i = 0; i < d.length; ++i) {
                var s = $.extend(true, {}, options.series);
                if (d[i].data != null) {
                    s.data = d[i].data;
                    delete d[i].data;
                    $.extend(true, s, d[i]);
                    d[i].data = s.data;
                } else s.data = d[i];
                res.push(s);
            }
            return res;
        }

        function axisNumber(obj, coord) {
            var a = obj[coord + "axis"];
            if (typeof a == "object") a = a.n;
            if (typeof a != "number") a = 1;
            return a;
        }

        function allAxes() {
            return $.grep(xaxes.concat(yaxes), function(a) {
                return a;
            });
        }

        function canvasToAxisCoords(pos) {
            var res = {},
                i, axis;
            for (i = 0; i < xaxes.length; ++i) {
                axis = xaxes[i];
                if (axis && axis.used) res["x" + axis.n] = axis.c2p(pos.left);
            }
            for (i = 0; i < yaxes.length; ++i) {
                axis = yaxes[i];
                if (axis && axis.used) res["y" + axis.n] = axis.c2p(pos.top);
            }
            if (res.x1 !== undefined) res.x = res.x1;
            if (res.y1 !== undefined) res.y = res.y1;
            return res;
        }

        function axisToCanvasCoords(pos) {
            var res = {},
                i, axis, key;
            for (i = 0; i < xaxes.length; ++i) {
                axis = xaxes[i];
                if (axis && axis.used) {
                    key = "x" + axis.n;
                    if (pos[key] == null && axis.n == 1) key = "x";
                    if (pos[key] != null) {
                        res.left = axis.p2c(pos[key]);
                        break;
                    }
                }
            }
            for (i = 0; i < yaxes.length; ++i) {
                axis = yaxes[i];
                if (axis && axis.used) {
                    key = "y" + axis.n;
                    if (pos[key] == null && axis.n == 1) key = "y";
                    if (pos[key] != null) {
                        res.top = axis.p2c(pos[key]);
                        break;
                    }
                }
            }
            return res;
        }

        function getOrCreateAxis(axes, number) {
            if (!axes[number - 1]) axes[number - 1] = {
                n: number,
                direction: axes == xaxes ? "x" : "y",
                options: $.extend(true, {}, axes == xaxes ? options.xaxis : options.yaxis)
            };
            return axes[number - 1];
        }

        function fillInSeriesOptions() {
            var neededColors = series.length,
                maxIndex = -1,
                i;
            for (i = 0; i < series.length; ++i) {
                var sc = series[i].color;
                if (sc != null) {
                    neededColors--;
                    if (typeof sc == "number" && sc > maxIndex) {
                        maxIndex = sc;
                    }
                }
            }
            if (neededColors <= maxIndex) {
                neededColors = maxIndex + 1;
            }
            var c, colors = [],
                colorPool = options.colors,
                colorPoolSize = colorPool.length,
                variation = 0;
            for (i = 0; i < neededColors; i++) {
                c = $.color.parse(colorPool[i % colorPoolSize] || "#666");
                if (i % colorPoolSize == 0 && i) {
                    if (variation >= 0) {
                        if (variation < .5) {
                            variation = -variation - .2;
                        } else variation = 0;
                    } else variation = -variation;
                }
                colors[i] = c.scale("rgb", 1 + variation);
            }
            var colori = 0,
                s;
            for (i = 0; i < series.length; ++i) {
                s = series[i];
                if (s.color == null) {
                    s.color = colors[colori].toString();
                    ++colori;
                } else if (typeof s.color == "number") s.color = colors[s.color].toString();
                if (s.lines.show == null) {
                    var v, show = true;
                    for (v in s)
                        if (s[v] && s[v].show) {
                            show = false;
                            break;
                        }
                    if (show) s.lines.show = true;
                }
                if (s.lines.zero == null) {
                    s.lines.zero = !!s.lines.fill;
                }
                s.xaxis = getOrCreateAxis(xaxes, axisNumber(s, "x"));
                s.yaxis = getOrCreateAxis(yaxes, axisNumber(s, "y"));
            }
        }

        function processData() {
            var topSentry = Number.POSITIVE_INFINITY,
                bottomSentry = Number.NEGATIVE_INFINITY,
                fakeInfinity = Number.MAX_VALUE,
                i, j, k, m, length, s, points, ps, x, y, axis, val, f, p, data, format;

            function updateAxis(axis, min, max) {
                if (min < axis.datamin && min != -fakeInfinity) axis.datamin = min;
                if (max > axis.datamax && max != fakeInfinity) axis.datamax = max;
            }
            $.each(allAxes(), function(_, axis) {
                axis.datamin = topSentry;
                axis.datamax = bottomSentry;
                axis.used = false;
            });
            for (i = 0; i < series.length; ++i) {
                s = series[i];
                s.datapoints = {
                    points: []
                };
                executeHooks(hooks.processRawData, [s, s.data, s.datapoints]);
            }
            for (i = 0; i < series.length; ++i) {
                s = series[i];
                data = s.data;
                format = s.datapoints.format;
                if (!format) {
                    format = [];
                    format.push({
                        x: true,
                        number: true,
                        required: true
                    });
                    format.push({
                        y: true,
                        number: true,
                        required: true
                    });
                    if (s.bars.show || s.lines.show && s.lines.fill) {
                        var autoscale = !!(s.bars.show && s.bars.zero || s.lines.show && s.lines.zero);
                        format.push({
                            y: true,
                            number: true,
                            required: false,
                            defaultValue: 0,
                            autoscale: autoscale
                        });
                        if (s.bars.horizontal) {
                            delete format[format.length - 1].y;
                            format[format.length - 1].x = true;
                        }
                    }
                    s.datapoints.format = format;
                }
                if (s.datapoints.pointsize != null) continue;
                s.datapoints.pointsize = format.length;
                ps = s.datapoints.pointsize;
                points = s.datapoints.points;
                var insertSteps = s.lines.show && s.lines.steps;
                s.xaxis.used = s.yaxis.used = true;
                for (j = k = 0; j < data.length; ++j, k += ps) {
                    p = data[j];
                    var nullify = p == null;
                    if (!nullify) {
                        for (m = 0; m < ps; ++m) {
                            val = p[m];
                            f = format[m];
                            if (f) {
                                if (f.number && val != null) {
                                    val = +val;
                                    if (isNaN(val)) val = null;
                                    else if (val == Infinity) val = fakeInfinity;
                                    else if (val == -Infinity) val = -fakeInfinity;
                                }
                                if (val == null) {
                                    if (f.required) nullify = true;
                                    if (f.defaultValue != null) val = f.defaultValue;
                                }
                            }
                            points[k + m] = val;
                        }
                    }
                    if (nullify) {
                        for (m = 0; m < ps; ++m) {
                            val = points[k + m];
                            if (val != null) {
                                f = format[m];
                                if (f.autoscale !== false) {
                                    if (f.x) {
                                        updateAxis(s.xaxis, val, val);
                                    }
                                    if (f.y) {
                                        updateAxis(s.yaxis, val, val);
                                    }
                                }
                            }
                            points[k + m] = null;
                        }
                    } else {
                        if (insertSteps && k > 0 && points[k - ps] != null && points[k - ps] != points[k] && points[k - ps + 1] != points[k + 1]) {
                            for (m = 0; m < ps; ++m) points[k + ps + m] = points[k + m];
                            points[k + 1] = points[k - ps + 1];
                            k += ps;
                        }
                    }
                }
            }
            for (i = 0; i < series.length; ++i) {
                s = series[i];
                executeHooks(hooks.processDatapoints, [s, s.datapoints]);
            }
            for (i = 0; i < series.length; ++i) {
                s = series[i];
                points = s.datapoints.points;
                ps = s.datapoints.pointsize;
                format = s.datapoints.format;
                var xmin = topSentry,
                    ymin = topSentry,
                    xmax = bottomSentry,
                    ymax = bottomSentry;
                for (j = 0; j < points.length; j += ps) {
                    if (points[j] == null) continue;
                    for (m = 0; m < ps; ++m) {
                        val = points[j + m];
                        f = format[m];
                        if (!f || f.autoscale === false || val == fakeInfinity || val == -fakeInfinity) continue;
                        if (f.x) {
                            if (val < xmin) xmin = val;
                            if (val > xmax) xmax = val;
                        }
                        if (f.y) {
                            if (val < ymin) ymin = val;
                            if (val > ymax) ymax = val;
                        }
                    }
                }
                if (s.bars.show) {
                    var delta;
                    switch (s.bars.align) {
                        case "left":
                            delta = 0;
                            break;
                        case "right":
                            delta = -s.bars.barWidth;
                            break;
                        default:
                            delta = -s.bars.barWidth / 2;
                    }
                    if (s.bars.horizontal) {
                        ymin += delta;
                        ymax += delta + s.bars.barWidth;
                    } else {
                        xmin += delta;
                        xmax += delta + s.bars.barWidth;
                    }
                }
                updateAxis(s.xaxis, xmin, xmax);
                updateAxis(s.yaxis, ymin, ymax);
            }
            $.each(allAxes(), function(_, axis) {
                if (axis.datamin == topSentry) axis.datamin = null;
                if (axis.datamax == bottomSentry) axis.datamax = null;
            });
        }

        function setupCanvases() {
            placeholder.css("padding", 0).children().filter(function() {
                return !$(this).hasClass("flot-overlay") && !$(this).hasClass("flot-base");
            }).remove();
            if (placeholder.css("position") == "static") placeholder.css("position", "relative");
            surface = new Canvas("flot-base", placeholder);
            overlay = new Canvas("flot-overlay", placeholder);
            ctx = surface.context;
            octx = overlay.context;
            eventHolder = $(overlay.element).unbind();
            var existing = placeholder.data("plot");
            if (existing) {
                existing.shutdown();
                overlay.clear();
            }
            placeholder.data("plot", plot);
        }

        function bindEvents() {
            if (options.grid.hoverable) {
                eventHolder.mousemove(onMouseMove);
                eventHolder.bind("mouseleave", onMouseLeave);
            }
            if (options.grid.clickable) eventHolder.click(onClick);
            executeHooks(hooks.bindEvents, [eventHolder]);
        }

        function shutdown() {
            if (redrawTimeout) clearTimeout(redrawTimeout);
            eventHolder.unbind("mousemove", onMouseMove);
            eventHolder.unbind("mouseleave", onMouseLeave);
            eventHolder.unbind("click", onClick);
            executeHooks(hooks.shutdown, [eventHolder]);
        }

        function setTransformationHelpers(axis) {
            function identity(x) {
                return x;
            }
            var s, m, t = axis.options.transform || identity,
                it = axis.options.inverseTransform;
            if (axis.direction == "x") {
                s = axis.scale = plotWidth / Math.abs(t(axis.max) - t(axis.min));
                m = Math.min(t(axis.max), t(axis.min));
            } else {
                s = axis.scale = plotHeight / Math.abs(t(axis.max) - t(axis.min));
                s = -s;
                m = Math.max(t(axis.max), t(axis.min));
            }
            if (t == identity) axis.p2c = function(p) {
                return (p - m) * s;
            };
            else axis.p2c = function(p) {
                return (t(p) - m) * s;
            };
            if (!it) axis.c2p = function(c) {
                return m + c / s;
            };
            else axis.c2p = function(c) {
                return it(m + c / s);
            };
        }

        function measureTickLabels(axis) {
            var opts = axis.options,
                ticks = axis.ticks || [],
                labelWidth = opts.labelWidth || 0,
                labelHeight = opts.labelHeight || 0,
                maxWidth = labelWidth || (axis.direction == "x" ? Math.floor(surface.width / (ticks.length || 1)) : null),
                legacyStyles = axis.direction + "Axis " + axis.direction + axis.n + "Axis",
                layer = "flot-" + axis.direction + "-axis flot-" + axis.direction + axis.n + "-axis " + legacyStyles,
                font = opts.font || "flot-tick-label tickLabel";
            for (var i = 0; i < ticks.length; ++i) {
                var t = ticks[i];
                if (!t.label) continue;
                var info = surface.getTextInfo(layer, t.label, font, null, maxWidth);
                labelWidth = Math.max(labelWidth, info.width);
                labelHeight = Math.max(labelHeight, info.height);
            }
            axis.labelWidth = opts.labelWidth || labelWidth;
            axis.labelHeight = opts.labelHeight || labelHeight;
        }

        function allocateAxisBoxFirstPhase(axis) {
            var lw = axis.labelWidth,
                lh = axis.labelHeight,
                pos = axis.options.position,
                isXAxis = axis.direction === "x",
                tickLength = axis.options.tickLength,
                axisMargin = options.grid.axisMargin,
                padding = options.grid.labelMargin,
                innermost = true,
                outermost = true,
                first = true,
                found = false;
            $.each(isXAxis ? xaxes : yaxes, function(i, a) {
                if (a && (a.show || a.reserveSpace)) {
                    if (a === axis) {
                        found = true;
                    } else if (a.options.position === pos) {
                        if (found) {
                            outermost = false;
                        } else {
                            innermost = false;
                        }
                    }
                    if (!found) {
                        first = false;
                    }
                }
            });
            if (outermost) {
                axisMargin = 0;
            }
            if (tickLength == null) {
                tickLength = first ? "full" : 5;
            }
            if (!isNaN(+tickLength)) padding += +tickLength;
            if (isXAxis) {
                lh += padding;
                if (pos == "bottom") {
                    plotOffset.bottom += lh + axisMargin;
                    axis.box = {
                        top: surface.height - plotOffset.bottom,
                        height: lh
                    };
                } else {
                    axis.box = {
                        top: plotOffset.top + axisMargin,
                        height: lh
                    };
                    plotOffset.top += lh + axisMargin;
                }
            } else {
                lw += padding;
                if (pos == "left") {
                    axis.box = {
                        left: plotOffset.left + axisMargin,
                        width: lw
                    };
                    plotOffset.left += lw + axisMargin;
                } else {
                    plotOffset.right += lw + axisMargin;
                    axis.box = {
                        left: surface.width - plotOffset.right,
                        width: lw
                    };
                }
            }
            axis.position = pos;
            axis.tickLength = tickLength;
            axis.box.padding = padding;
            axis.innermost = innermost;
        }

        function allocateAxisBoxSecondPhase(axis) {
            if (axis.direction == "x") {
                axis.box.left = plotOffset.left - axis.labelWidth / 2;
                axis.box.width = surface.width - plotOffset.left - plotOffset.right + axis.labelWidth;
            } else {
                axis.box.top = plotOffset.top - axis.labelHeight / 2;
                axis.box.height = surface.height - plotOffset.bottom - plotOffset.top + axis.labelHeight;
            }
        }

        function adjustLayoutForThingsStickingOut() {
            var minMargin = options.grid.minBorderMargin,
                axis, i;
            if (minMargin == null) {
                minMargin = 0;
                for (i = 0; i < series.length; ++i) minMargin = Math.max(minMargin, 2 * (series[i].points.radius + series[i].points.lineWidth / 2));
            }
            var margins = {
                left: minMargin,
                right: minMargin,
                top: minMargin,
                bottom: minMargin
            };
            $.each(allAxes(), function(_, axis) {
                if (axis.reserveSpace && axis.ticks && axis.ticks.length) {
                    if (axis.direction === "x") {
                        margins.left = Math.max(margins.left, axis.labelWidth / 2);
                        margins.right = Math.max(margins.right, axis.labelWidth / 2);
                    } else {
                        margins.bottom = Math.max(margins.bottom, axis.labelHeight / 2);
                        margins.top = Math.max(margins.top, axis.labelHeight / 2);
                    }
                }
            });
            plotOffset.left = Math.ceil(Math.max(margins.left, plotOffset.left));
            plotOffset.right = Math.ceil(Math.max(margins.right, plotOffset.right));
            plotOffset.top = Math.ceil(Math.max(margins.top, plotOffset.top));
            plotOffset.bottom = Math.ceil(Math.max(margins.bottom, plotOffset.bottom));
        }

        function setupGrid() {
            var i, axes = allAxes(),
                showGrid = options.grid.show;
            for (var a in plotOffset) {
                var margin = options.grid.margin || 0;
                plotOffset[a] = typeof margin == "number" ? margin : margin[a] || 0;
            }
            executeHooks(hooks.processOffset, [plotOffset]);
            for (var a in plotOffset) {
                if (typeof options.grid.borderWidth == "object") {
                    plotOffset[a] += showGrid ? options.grid.borderWidth[a] : 0;
                } else {
                    plotOffset[a] += showGrid ? options.grid.borderWidth : 0;
                }
            }
            $.each(axes, function(_, axis) {
                var axisOpts = axis.options;
                axis.show = axisOpts.show == null ? axis.used : axisOpts.show;
                axis.reserveSpace = axisOpts.reserveSpace == null ? axis.show : axisOpts.reserveSpace;
                setRange(axis);
            });
            if (showGrid) {
                var allocatedAxes = $.grep(axes, function(axis) {
                    return axis.show || axis.reserveSpace;
                });
                $.each(allocatedAxes, function(_, axis) {
                    setupTickGeneration(axis);
                    setTicks(axis);
                    snapRangeToTicks(axis, axis.ticks);
                    measureTickLabels(axis);
                });
                for (i = allocatedAxes.length - 1; i >= 0; --i) allocateAxisBoxFirstPhase(allocatedAxes[i]);
                adjustLayoutForThingsStickingOut();
                $.each(allocatedAxes, function(_, axis) {
                    allocateAxisBoxSecondPhase(axis);
                });
            }
            plotWidth = surface.width - plotOffset.left - plotOffset.right;
            plotHeight = surface.height - plotOffset.bottom - plotOffset.top;
            $.each(axes, function(_, axis) {
                setTransformationHelpers(axis);
            });
            if (showGrid) {
                drawAxisLabels();
            }
            insertLegend();
        }

        function setRange(axis) {
            var opts = axis.options,
                min = +(opts.min != null ? opts.min : axis.datamin),
                max = +(opts.max != null ? opts.max : axis.datamax),
                delta = max - min;
            if (delta == 0) {
                var widen = max == 0 ? 1 : .01;
                if (opts.min == null) min -= widen;
                if (opts.max == null || opts.min != null) max += widen;
            } else {
                var margin = opts.autoscaleMargin;
                if (margin != null) {
                    if (opts.min == null) {
                        min -= delta * margin;
                        if (min < 0 && axis.datamin != null && axis.datamin >= 0) min = 0;
                    }
                    if (opts.max == null) {
                        max += delta * margin;
                        if (max > 0 && axis.datamax != null && axis.datamax <= 0) max = 0;
                    }
                }
            }
            axis.min = min;
            axis.max = max;
        }

        function setupTickGeneration(axis) {
            var opts = axis.options;
            var noTicks;
            if (typeof opts.ticks == "number" && opts.ticks > 0) noTicks = opts.ticks;
            else noTicks = .3 * Math.sqrt(axis.direction == "x" ? surface.width : surface.height);
            var delta = (axis.max - axis.min) / noTicks,
                dec = -Math.floor(Math.log(delta) / Math.LN10),
                maxDec = opts.tickDecimals;
            if (maxDec != null && dec > maxDec) {
                dec = maxDec;
            }
            var magn = Math.pow(10, -dec),
                norm = delta / magn,
                size;
            if (norm < 1.5) {
                size = 1;
            } else if (norm < 3) {
                size = 2;
                if (norm > 2.25 && (maxDec == null || dec + 1 <= maxDec)) {
                    size = 2.5;
                    ++dec;
                }
            } else if (norm < 7.5) {
                size = 5;
            } else {
                size = 10;
            }
            size *= magn;
            if (opts.minTickSize != null && size < opts.minTickSize) {
                size = opts.minTickSize;
            }
            axis.delta = delta;
            axis.tickDecimals = Math.max(0, maxDec != null ? maxDec : dec);
            axis.tickSize = opts.tickSize || size;
            if (opts.mode == "time" && !axis.tickGenerator) {
                throw new Error("Time mode requires the flot.time plugin.");
            }
            if (!axis.tickGenerator) {
                axis.tickGenerator = function(axis) {
                    var ticks = [],
                        start = floorInBase(axis.min, axis.tickSize),
                        i = 0,
                        v = Number.NaN,
                        prev;
                    do {
                        prev = v;
                        v = start + i * axis.tickSize;
                        ticks.push(v);
                        ++i;
                    } while (v < axis.max && v != prev);
                    return ticks;
                };
                axis.tickFormatter = function(value, axis) {
                    var factor = axis.tickDecimals ? Math.pow(10, axis.tickDecimals) : 1;
                    var formatted = "" + Math.round(value * factor) / factor;
                    if (axis.tickDecimals != null) {
                        var decimal = formatted.indexOf(".");
                        var precision = decimal == -1 ? 0 : formatted.length - decimal - 1;
                        if (precision < axis.tickDecimals) {
                            return (precision ? formatted : formatted + ".") + ("" + factor).substr(1, axis.tickDecimals - precision);
                        }
                    }
                    return formatted;
                };
            }
            if ($.isFunction(opts.tickFormatter)) axis.tickFormatter = function(v, axis) {
                return "" + opts.tickFormatter(v, axis);
            };
            if (opts.alignTicksWithAxis != null) {
                var otherAxis = (axis.direction == "x" ? xaxes : yaxes)[opts.alignTicksWithAxis - 1];
                if (otherAxis && otherAxis.used && otherAxis != axis) {
                    var niceTicks = axis.tickGenerator(axis);
                    if (niceTicks.length > 0) {
                        if (opts.min == null) axis.min = Math.min(axis.min, niceTicks[0]);
                        if (opts.max == null && niceTicks.length > 1) axis.max = Math.max(axis.max, niceTicks[niceTicks.length - 1]);
                    }
                    axis.tickGenerator = function(axis) {
                        var ticks = [],
                            v, i;
                        for (i = 0; i < otherAxis.ticks.length; ++i) {
                            v = (otherAxis.ticks[i].v - otherAxis.min) / (otherAxis.max - otherAxis.min);
                            v = axis.min + v * (axis.max - axis.min);
                            ticks.push(v);
                        }
                        return ticks;
                    };
                    if (!axis.mode && opts.tickDecimals == null) {
                        var extraDec = Math.max(0, -Math.floor(Math.log(axis.delta) / Math.LN10) + 1),
                            ts = axis.tickGenerator(axis);
                        if (!(ts.length > 1 && /\..*0$/.test((ts[1] - ts[0]).toFixed(extraDec)))) axis.tickDecimals = extraDec;
                    }
                }
            }
        }

        function setTicks(axis) {
            var oticks = axis.options.ticks,
                ticks = [];
            if (oticks == null || typeof oticks == "number" && oticks > 0) ticks = axis.tickGenerator(axis);
            else if (oticks) {
                if ($.isFunction(oticks)) ticks = oticks(axis);
                else ticks = oticks;
            }
            var i, v;
            axis.ticks = [];
            for (i = 0; i < ticks.length; ++i) {
                var label = null;
                var t = ticks[i];
                if (typeof t == "object") {
                    v = +t[0];
                    if (t.length > 1) label = t[1];
                } else v = +t;
                if (label == null) label = axis.tickFormatter(v, axis);
                if (!isNaN(v)) axis.ticks.push({
                    v: v,
                    label: label
                });
            }
        }

        function snapRangeToTicks(axis, ticks) {
            if (axis.options.autoscaleMargin && ticks.length > 0) {
                if (axis.options.min == null) axis.min = Math.min(axis.min, ticks[0].v);
                if (axis.options.max == null && ticks.length > 1) axis.max = Math.max(axis.max, ticks[ticks.length - 1].v);
            }
        }

        function draw() {
            surface.clear();
            executeHooks(hooks.drawBackground, [ctx]);
            var grid = options.grid;
            if (grid.show && grid.backgroundColor) drawBackground();
            if (grid.show && !grid.aboveData) {
                drawGrid();
            }
            for (var i = 0; i < series.length; ++i) {
                executeHooks(hooks.drawSeries, [ctx, series[i]]);
                drawSeries(series[i]);
            }
            executeHooks(hooks.draw, [ctx]);
            if (grid.show && grid.aboveData) {
                drawGrid();
            }
            surface.render();
            triggerRedrawOverlay();
        }

        function extractRange(ranges, coord) {
            var axis, from, to, key, axes = allAxes();
            for (var i = 0; i < axes.length; ++i) {
                axis = axes[i];
                if (axis.direction == coord) {
                    key = coord + axis.n + "axis";
                    if (!ranges[key] && axis.n == 1) key = coord + "axis";
                    if (ranges[key]) {
                        from = ranges[key].from;
                        to = ranges[key].to;
                        break;
                    }
                }
            }
            if (!ranges[key]) {
                axis = coord == "x" ? xaxes[0] : yaxes[0];
                from = ranges[coord + "1"];
                to = ranges[coord + "2"];
            }
            if (from != null && to != null && from > to) {
                var tmp = from;
                from = to;
                to = tmp;
            }
            return {
                from: from,
                to: to,
                axis: axis
            };
        }

        function drawBackground() {
            ctx.save();
            ctx.translate(plotOffset.left, plotOffset.top);
            ctx.fillStyle = getColorOrGradient(options.grid.backgroundColor, plotHeight, 0, "rgba(255, 255, 255, 0)");
            ctx.fillRect(0, 0, plotWidth, plotHeight);
            ctx.restore();
        }

        function drawGrid() {
            var i, axes, bw, bc;
            ctx.save();
            ctx.translate(plotOffset.left, plotOffset.top);
            var markings = options.grid.markings;
            if (markings) {
                if ($.isFunction(markings)) {
                    axes = plot.getAxes();
                    axes.xmin = axes.xaxis.min;
                    axes.xmax = axes.xaxis.max;
                    axes.ymin = axes.yaxis.min;
                    axes.ymax = axes.yaxis.max;
                    markings = markings(axes);
                }
                for (i = 0; i < markings.length; ++i) {
                    var m = markings[i],
                        xrange = extractRange(m, "x"),
                        yrange = extractRange(m, "y");
                    if (xrange.from == null) xrange.from = xrange.axis.min;
                    if (xrange.to == null) xrange.to = xrange.axis.max;
                    if (yrange.from == null) yrange.from = yrange.axis.min;
                    if (yrange.to == null) yrange.to = yrange.axis.max;
                    if (xrange.to < xrange.axis.min || xrange.from > xrange.axis.max || yrange.to < yrange.axis.min || yrange.from > yrange.axis.max) continue;
                    xrange.from = Math.max(xrange.from, xrange.axis.min);
                    xrange.to = Math.min(xrange.to, xrange.axis.max);
                    yrange.from = Math.max(yrange.from, yrange.axis.min);
                    yrange.to = Math.min(yrange.to, yrange.axis.max);
                    var xequal = xrange.from === xrange.to,
                        yequal = yrange.from === yrange.to;
                    if (xequal && yequal) {
                        continue;
                    }
                    xrange.from = Math.floor(xrange.axis.p2c(xrange.from));
                    xrange.to = Math.floor(xrange.axis.p2c(xrange.to));
                    yrange.from = Math.floor(yrange.axis.p2c(yrange.from));
                    yrange.to = Math.floor(yrange.axis.p2c(yrange.to));
                    if (xequal || yequal) {
                        var lineWidth = m.lineWidth || options.grid.markingsLineWidth,
                            subPixel = lineWidth % 2 ? .5 : 0;
                        ctx.beginPath();
                        ctx.strokeStyle = m.color || options.grid.markingsColor;
                        ctx.lineWidth = lineWidth;
                        if (xequal) {
                            ctx.moveTo(xrange.to + subPixel, yrange.from);
                            ctx.lineTo(xrange.to + subPixel, yrange.to);
                        } else {
                            ctx.moveTo(xrange.from, yrange.to + subPixel);
                            ctx.lineTo(xrange.to, yrange.to + subPixel);
                        }
                        ctx.stroke();
                    } else {
                        ctx.fillStyle = m.color || options.grid.markingsColor;
                        ctx.fillRect(xrange.from, yrange.to, xrange.to - xrange.from, yrange.from - yrange.to);
                    }
                }
            }
            axes = allAxes();
            bw = options.grid.borderWidth;
            for (var j = 0; j < axes.length; ++j) {
                var axis = axes[j],
                    box = axis.box,
                    t = axis.tickLength,
                    x, y, xoff, yoff;
                if (!axis.show || axis.ticks.length == 0) continue;
                ctx.lineWidth = 1;
                if (axis.direction == "x") {
                    x = 0;
                    if (t == "full") y = axis.position == "top" ? 0 : plotHeight;
                    else y = box.top - plotOffset.top + (axis.position == "top" ? box.height : 0);
                } else {
                    y = 0;
                    if (t == "full") x = axis.position == "left" ? 0 : plotWidth;
                    else x = box.left - plotOffset.left + (axis.position == "left" ? box.width : 0);
                }
                if (!axis.innermost) {
                    ctx.strokeStyle = axis.options.color;
                    ctx.beginPath();
                    xoff = yoff = 0;
                    if (axis.direction == "x") xoff = plotWidth + 1;
                    else yoff = plotHeight + 1;
                    if (ctx.lineWidth == 1) {
                        if (axis.direction == "x") {
                            y = Math.floor(y) + .5;
                        } else {
                            x = Math.floor(x) + .5;
                        }
                    }
                    ctx.moveTo(x, y);
                    ctx.lineTo(x + xoff, y + yoff);
                    ctx.stroke();
                }
                ctx.strokeStyle = axis.options.tickColor;
                ctx.beginPath();
                for (i = 0; i < axis.ticks.length; ++i) {
                    var v = axis.ticks[i].v;
                    xoff = yoff = 0;
                    if (isNaN(v) || v < axis.min || v > axis.max || t == "full" && (typeof bw == "object" && bw[axis.position] > 0 || bw > 0) && (v == axis.min || v == axis.max)) continue;
                    if (axis.direction == "x") {
                        x = axis.p2c(v);
                        yoff = t == "full" ? -plotHeight : t;
                        if (axis.position == "top") yoff = -yoff;
                    } else {
                        y = axis.p2c(v);
                        xoff = t == "full" ? -plotWidth : t;
                        if (axis.position == "left") xoff = -xoff;
                    }
                    if (ctx.lineWidth == 1) {
                        if (axis.direction == "x") x = Math.floor(x) + .5;
                        else y = Math.floor(y) + .5;
                    }
                    ctx.moveTo(x, y);
                    ctx.lineTo(x + xoff, y + yoff);
                }
                ctx.stroke();
            }
            if (bw) {
                bc = options.grid.borderColor;
                if (typeof bw == "object" || typeof bc == "object") {
                    if (typeof bw !== "object") {
                        bw = {
                            top: bw,
                            right: bw,
                            bottom: bw,
                            left: bw
                        };
                    }
                    if (typeof bc !== "object") {
                        bc = {
                            top: bc,
                            right: bc,
                            bottom: bc,
                            left: bc
                        };
                    }
                    if (bw.top > 0) {
                        ctx.strokeStyle = bc.top;
                        ctx.lineWidth = bw.top;
                        ctx.beginPath();
                        ctx.moveTo(0 - bw.left, 0 - bw.top / 2);
                        ctx.lineTo(plotWidth, 0 - bw.top / 2);
                        ctx.stroke();
                    }
                    if (bw.right > 0) {
                        ctx.strokeStyle = bc.right;
                        ctx.lineWidth = bw.right;
                        ctx.beginPath();
                        ctx.moveTo(plotWidth + bw.right / 2, 0 - bw.top);
                        ctx.lineTo(plotWidth + bw.right / 2, plotHeight);
                        ctx.stroke();
                    }
                    if (bw.bottom > 0) {
                        ctx.strokeStyle = bc.bottom;
                        ctx.lineWidth = bw.bottom;
                        ctx.beginPath();
                        ctx.moveTo(plotWidth + bw.right, plotHeight + bw.bottom / 2);
                        ctx.lineTo(0, plotHeight + bw.bottom / 2);
                        ctx.stroke();
                    }
                    if (bw.left > 0) {
                        ctx.strokeStyle = bc.left;
                        ctx.lineWidth = bw.left;
                        ctx.beginPath();
                        ctx.moveTo(0 - bw.left / 2, plotHeight + bw.bottom);
                        ctx.lineTo(0 - bw.left / 2, 0);
                        ctx.stroke();
                    }
                } else {
                    ctx.lineWidth = bw;
                    ctx.strokeStyle = options.grid.borderColor;
                    ctx.strokeRect(-bw / 2, -bw / 2, plotWidth + bw, plotHeight + bw);
                }
            }
            ctx.restore();
        }

        function drawAxisLabels() {
            $.each(allAxes(), function(_, axis) {
                var box = axis.box,
                    legacyStyles = axis.direction + "Axis " + axis.direction + axis.n + "Axis",
                    layer = "flot-" + axis.direction + "-axis flot-" + axis.direction + axis.n + "-axis " + legacyStyles,
                    font = axis.options.font || "flot-tick-label tickLabel",
                    tick, x, y, halign, valign;
                surface.removeText(layer);
                if (!axis.show || axis.ticks.length == 0) return;
                for (var i = 0; i < axis.ticks.length; ++i) {
                    tick = axis.ticks[i];
                    if (!tick.label || tick.v < axis.min || tick.v > axis.max) continue;
                    if (axis.direction == "x") {
                        halign = "center";
                        x = plotOffset.left + axis.p2c(tick.v);
                        if (axis.position == "bottom") {
                            y = box.top + box.padding;
                        } else {
                            y = box.top + box.height - box.padding;
                            valign = "bottom";
                        }
                    } else {
                        valign = "middle";
                        y = plotOffset.top + axis.p2c(tick.v);
                        if (axis.position == "left") {
                            x = box.left + box.width - box.padding;
                            halign = "right";
                        } else {
                            x = box.left + box.padding;
                        }
                    }
                    surface.addText(layer, x, y, tick.label, font, null, null, halign, valign);
                }
            });
        }

        function drawSeries(series) {
            if (series.lines.show) drawSeriesLines(series);
            if (series.bars.show) drawSeriesBars(series);
            if (series.points.show) drawSeriesPoints(series);
        }

        function drawSeriesLines(series) {
            function plotLine(datapoints, xoffset, yoffset, axisx, axisy) {
                var points = datapoints.points,
                    ps = datapoints.pointsize,
                    prevx = null,
                    prevy = null;
                ctx.beginPath();
                for (var i = ps; i < points.length; i += ps) {
                    var x1 = points[i - ps],
                        y1 = points[i - ps + 1],
                        x2 = points[i],
                        y2 = points[i + 1];
                    if (x1 == null || x2 == null) continue;
                    if (y1 <= y2 && y1 < axisy.min) {
                        if (y2 < axisy.min) continue;
                        x1 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;
                        y1 = axisy.min;
                    } else if (y2 <= y1 && y2 < axisy.min) {
                        if (y1 < axisy.min) continue;
                        x2 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;
                        y2 = axisy.min;
                    }
                    if (y1 >= y2 && y1 > axisy.max) {
                        if (y2 > axisy.max) continue;
                        x1 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;
                        y1 = axisy.max;
                    } else if (y2 >= y1 && y2 > axisy.max) {
                        if (y1 > axisy.max) continue;
                        x2 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;
                        y2 = axisy.max;
                    }
                    if (x1 <= x2 && x1 < axisx.min) {
                        if (x2 < axisx.min) continue;
                        y1 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;
                        x1 = axisx.min;
                    } else if (x2 <= x1 && x2 < axisx.min) {
                        if (x1 < axisx.min) continue;
                        y2 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;
                        x2 = axisx.min;
                    }
                    if (x1 >= x2 && x1 > axisx.max) {
                        if (x2 > axisx.max) continue;
                        y1 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;
                        x1 = axisx.max;
                    } else if (x2 >= x1 && x2 > axisx.max) {
                        if (x1 > axisx.max) continue;
                        y2 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;
                        x2 = axisx.max;
                    }
                    if (x1 != prevx || y1 != prevy) ctx.moveTo(axisx.p2c(x1) + xoffset, axisy.p2c(y1) + yoffset);
                    prevx = x2;
                    prevy = y2;
                    ctx.lineTo(axisx.p2c(x2) + xoffset, axisy.p2c(y2) + yoffset);
                }
                ctx.stroke();
            }

            function plotLineArea(datapoints, axisx, axisy) {
                var points = datapoints.points,
                    ps = datapoints.pointsize,
                    bottom = Math.min(Math.max(0, axisy.min), axisy.max),
                    i = 0,
                    top, areaOpen = false,
                    ypos = 1,
                    segmentStart = 0,
                    segmentEnd = 0;
                while (true) {
                    if (ps > 0 && i > points.length + ps) break;
                    i += ps;
                    var x1 = points[i - ps],
                        y1 = points[i - ps + ypos],
                        x2 = points[i],
                        y2 = points[i + ypos];
                    if (areaOpen) {
                        if (ps > 0 && x1 != null && x2 == null) {
                            segmentEnd = i;
                            ps = -ps;
                            ypos = 2;
                            continue;
                        }
                        if (ps < 0 && i == segmentStart + ps) {
                            ctx.fill();
                            areaOpen = false;
                            ps = -ps;
                            ypos = 1;
                            i = segmentStart = segmentEnd + ps;
                            continue;
                        }
                    }
                    if (x1 == null || x2 == null) continue;
                    if (x1 <= x2 && x1 < axisx.min) {
                        if (x2 < axisx.min) continue;
                        y1 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;
                        x1 = axisx.min;
                    } else if (x2 <= x1 && x2 < axisx.min) {
                        if (x1 < axisx.min) continue;
                        y2 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;
                        x2 = axisx.min;
                    }
                    if (x1 >= x2 && x1 > axisx.max) {
                        if (x2 > axisx.max) continue;
                        y1 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;
                        x1 = axisx.max;
                    } else if (x2 >= x1 && x2 > axisx.max) {
                        if (x1 > axisx.max) continue;
                        y2 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;
                        x2 = axisx.max;
                    }
                    if (!areaOpen) {
                        ctx.beginPath();
                        ctx.moveTo(axisx.p2c(x1), axisy.p2c(bottom));
                        areaOpen = true;
                    }
                    if (y1 >= axisy.max && y2 >= axisy.max) {
                        ctx.lineTo(axisx.p2c(x1), axisy.p2c(axisy.max));
                        ctx.lineTo(axisx.p2c(x2), axisy.p2c(axisy.max));
                        continue;
                    } else if (y1 <= axisy.min && y2 <= axisy.min) {
                        ctx.lineTo(axisx.p2c(x1), axisy.p2c(axisy.min));
                        ctx.lineTo(axisx.p2c(x2), axisy.p2c(axisy.min));
                        continue;
                    }
                    var x1old = x1,
                        x2old = x2;
                    if (y1 <= y2 && y1 < axisy.min && y2 >= axisy.min) {
                        x1 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;
                        y1 = axisy.min;
                    } else if (y2 <= y1 && y2 < axisy.min && y1 >= axisy.min) {
                        x2 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;
                        y2 = axisy.min;
                    }
                    if (y1 >= y2 && y1 > axisy.max && y2 <= axisy.max) {
                        x1 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;
                        y1 = axisy.max;
                    } else if (y2 >= y1 && y2 > axisy.max && y1 <= axisy.max) {
                        x2 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;
                        y2 = axisy.max;
                    }
                    if (x1 != x1old) {
                        ctx.lineTo(axisx.p2c(x1old), axisy.p2c(y1));
                    }
                    ctx.lineTo(axisx.p2c(x1), axisy.p2c(y1));
                    ctx.lineTo(axisx.p2c(x2), axisy.p2c(y2));
                    if (x2 != x2old) {
                        ctx.lineTo(axisx.p2c(x2), axisy.p2c(y2));
                        ctx.lineTo(axisx.p2c(x2old), axisy.p2c(y2));
                    }
                }
            }
            ctx.save();
            ctx.translate(plotOffset.left, plotOffset.top);
            ctx.lineJoin = "round";
            var lw = series.lines.lineWidth,
                sw = series.shadowSize;
            if (lw > 0 && sw > 0) {
                ctx.lineWidth = sw;
                ctx.strokeStyle = "rgba(0,0,0,0.1)";
                var angle = Math.PI / 18;
                plotLine(series.datapoints, Math.sin(angle) * (lw / 2 + sw / 2), Math.cos(angle) * (lw / 2 + sw / 2), series.xaxis, series.yaxis);
                ctx.lineWidth = sw / 2;
                plotLine(series.datapoints, Math.sin(angle) * (lw / 2 + sw / 4), Math.cos(angle) * (lw / 2 + sw / 4), series.xaxis, series.yaxis);
            }
            ctx.lineWidth = lw;
            ctx.strokeStyle = series.color;
            var fillStyle = getFillStyle(series.lines, series.color, 0, plotHeight);
            if (fillStyle) {
                ctx.fillStyle = fillStyle;
                plotLineArea(series.datapoints, series.xaxis, series.yaxis);
            }
            if (lw > 0) plotLine(series.datapoints, 0, 0, series.xaxis, series.yaxis);
            ctx.restore();
        }

        function drawSeriesPoints(series) {
            function plotPoints(datapoints, radius, fillStyle, offset, shadow, axisx, axisy, symbol) {
                var points = datapoints.points,
                    ps = datapoints.pointsize;
                for (var i = 0; i < points.length; i += ps) {
                    var x = points[i],
                        y = points[i + 1];
                    if (x == null || x < axisx.min || x > axisx.max || y < axisy.min || y > axisy.max) continue;
                    ctx.beginPath();
                    x = axisx.p2c(x);
                    y = axisy.p2c(y) + offset;
                    if (symbol == "circle") ctx.arc(x, y, radius, 0, shadow ? Math.PI : Math.PI * 2, false);
                    else symbol(ctx, x, y, radius, shadow);
                    ctx.closePath();
                    if (fillStyle) {
                        ctx.fillStyle = fillStyle;
                        ctx.fill();
                    }
                    ctx.stroke();
                }
            }
            ctx.save();
            ctx.translate(plotOffset.left, plotOffset.top);
            var lw = series.points.lineWidth,
                sw = series.shadowSize,
                radius = series.points.radius,
                symbol = series.points.symbol;
            if (lw == 0) lw = 1e-4;
            if (lw > 0 && sw > 0) {
                var w = sw / 2;
                ctx.lineWidth = w;
                ctx.strokeStyle = "rgba(0,0,0,0.1)";
                plotPoints(series.datapoints, radius, null, w + w / 2, true, series.xaxis, series.yaxis, symbol);
                ctx.strokeStyle = "rgba(0,0,0,0.2)";
                plotPoints(series.datapoints, radius, null, w / 2, true, series.xaxis, series.yaxis, symbol);
            }
            ctx.lineWidth = lw;
            ctx.strokeStyle = series.color;
            plotPoints(series.datapoints, radius, getFillStyle(series.points, series.color), 0, false, series.xaxis, series.yaxis, symbol);
            ctx.restore();
        }

        function drawBar(x, y, b, barLeft, barRight, fillStyleCallback, axisx, axisy, c, horizontal, lineWidth) {
            var left, right, bottom, top, drawLeft, drawRight, drawTop, drawBottom, tmp;
            if (horizontal) {
                drawBottom = drawRight = drawTop = true;
                drawLeft = false;
                left = b;
                right = x;
                top = y + barLeft;
                bottom = y + barRight;
                if (right < left) {
                    tmp = right;
                    right = left;
                    left = tmp;
                    drawLeft = true;
                    drawRight = false;
                }
            } else {
                drawLeft = drawRight = drawTop = true;
                drawBottom = false;
                left = x + barLeft;
                right = x + barRight;
                bottom = b;
                top = y;
                if (top < bottom) {
                    tmp = top;
                    top = bottom;
                    bottom = tmp;
                    drawBottom = true;
                    drawTop = false;
                }
            }
            if (right < axisx.min || left > axisx.max || top < axisy.min || bottom > axisy.max) return;
            if (left < axisx.min) {
                left = axisx.min;
                drawLeft = false;
            }
            if (right > axisx.max) {
                right = axisx.max;
                drawRight = false;
            }
            if (bottom < axisy.min) {
                bottom = axisy.min;
                drawBottom = false;
            }
            if (top > axisy.max) {
                top = axisy.max;
                drawTop = false;
            }
            left = axisx.p2c(left);
            bottom = axisy.p2c(bottom);
            right = axisx.p2c(right);
            top = axisy.p2c(top);
            if (fillStyleCallback) {
                c.fillStyle = fillStyleCallback(bottom, top);
                c.fillRect(left, top, right - left, bottom - top);
            }
            if (lineWidth > 0 && (drawLeft || drawRight || drawTop || drawBottom)) {
                c.beginPath();
                c.moveTo(left, bottom);
                if (drawLeft) c.lineTo(left, top);
                else c.moveTo(left, top);
                if (drawTop) c.lineTo(right, top);
                else c.moveTo(right, top);
                if (drawRight) c.lineTo(right, bottom);
                else c.moveTo(right, bottom);
                if (drawBottom) c.lineTo(left, bottom);
                else c.moveTo(left, bottom);
                c.stroke();
            }
        }

        function drawSeriesBars(series) {
            function plotBars(datapoints, barLeft, barRight, fillStyleCallback, axisx, axisy) {
                var points = datapoints.points,
                    ps = datapoints.pointsize;
                for (var i = 0; i < points.length; i += ps) {
                    if (points[i] == null) continue;
                    drawBar(points[i], points[i + 1], points[i + 2], barLeft, barRight, fillStyleCallback, axisx, axisy, ctx, series.bars.horizontal, series.bars.lineWidth);
                }
            }
            ctx.save();
            ctx.translate(plotOffset.left, plotOffset.top);
            ctx.lineWidth = series.bars.lineWidth;
            ctx.strokeStyle = series.color;
            var barLeft;
            switch (series.bars.align) {
                case "left":
                    barLeft = 0;
                    break;
                case "right":
                    barLeft = -series.bars.barWidth;
                    break;
                default:
                    barLeft = -series.bars.barWidth / 2;
            }
            var fillStyleCallback = series.bars.fill ? function(bottom, top) {
                return getFillStyle(series.bars, series.color, bottom, top);
            } : null;
            plotBars(series.datapoints, barLeft, barLeft + series.bars.barWidth, fillStyleCallback, series.xaxis, series.yaxis);
            ctx.restore();
        }

        function getFillStyle(filloptions, seriesColor, bottom, top) {
            var fill = filloptions.fill;
            if (!fill) return null;
            if (filloptions.fillColor) return getColorOrGradient(filloptions.fillColor, bottom, top, seriesColor);
            var c = $.color.parse(seriesColor);
            c.a = typeof fill == "number" ? fill : .4;
            c.normalize();
            return c.toString();
        }

        function insertLegend() {
            if (options.legend.container != null) {
                $(options.legend.container).html("");
            } else {
                placeholder.find(".legend").remove();
            }
            if (!options.legend.show) {
                return;
            }
            var fragments = [],
                entries = [],
                rowStarted = false,
                lf = options.legend.labelFormatter,
                s, label;
            for (var i = 0; i < series.length; ++i) {
                s = series[i];
                if (s.label) {
                    label = lf ? lf(s.label, s) : s.label;
                    if (label) {
                        entries.push({
                            label: label,
                            color: s.color
                        });
                    }
                }
            }
            if (options.legend.sorted) {
                if ($.isFunction(options.legend.sorted)) {
                    entries.sort(options.legend.sorted);
                } else if (options.legend.sorted == "reverse") {
                    entries.reverse();
                } else {
                    var ascending = options.legend.sorted != "descending";
                    entries.sort(function(a, b) {
                        return a.label == b.label ? 0 : a.label < b.label != ascending ? 1 : -1;
                    });
                }
            }
            for (var i = 0; i < entries.length; ++i) {
                var entry = entries[i];
                if (i % options.legend.noColumns == 0) {
                    if (rowStarted) fragments.push("</tr>");
                    fragments.push("<tr>");
                    rowStarted = true;
                }
                fragments.push('<td class="legendColorBox"><div style="border:1px solid ' + options.legend.labelBoxBorderColor + ';padding:1px"><div style="width:4px;height:0;border:5px solid ' + entry.color + ';overflow:hidden"></div></div></td>' + '<td class="legendLabel">' + entry.label + "</td>");
            }
            if (rowStarted) fragments.push("</tr>");
            if (fragments.length == 0) return;
            var table = '<table style="font-size:smaller;color:' + options.grid.color + '">' + fragments.join("") + "</table>";
            if (options.legend.container != null) $(options.legend.container).html(table);
            else {
                var pos = "",
                    p = options.legend.position,
                    m = options.legend.margin;
                if (m[0] == null) m = [m, m];
                if (p.charAt(0) == "n") pos += "top:" + (m[1] + plotOffset.top) + "px;";
                else if (p.charAt(0) == "s") pos += "bottom:" + (m[1] + plotOffset.bottom) + "px;";
                if (p.charAt(1) == "e") pos += "right:" + (m[0] + plotOffset.right) + "px;";
                else if (p.charAt(1) == "w") pos += "left:" + (m[0] + plotOffset.left) + "px;";
                var legend = $('<div class="legend">' + table.replace('style="', 'style="position:absolute;' + pos + ";") + "</div>").appendTo(placeholder);
                if (options.legend.backgroundOpacity != 0) {
                    var c = options.legend.backgroundColor;
                    if (c == null) {
                        c = options.grid.backgroundColor;
                        if (c && typeof c == "string") c = $.color.parse(c);
                        else c = $.color.extract(legend, "background-color");
                        c.a = 1;
                        c = c.toString();
                    }
                    var div = legend.children();
                    $('<div style="position:absolute;width:' + div.width() + "px;height:" + div.height() + "px;" + pos + "background-color:" + c + ';"> </div>').prependTo(legend).css("opacity", options.legend.backgroundOpacity);
                }
            }
        }
        var highlights = [],
            redrawTimeout = null;

        function findNearbyItem(mouseX, mouseY, seriesFilter) {
            var maxDistance = options.grid.mouseActiveRadius,
                smallestDistance = maxDistance * maxDistance + 1,
                item = null,
                foundPoint = false,
                i, j, ps;
            for (i = series.length - 1; i >= 0; --i) {
                if (!seriesFilter(series[i])) continue;
                var s = series[i],
                    axisx = s.xaxis,
                    axisy = s.yaxis,
                    points = s.datapoints.points,
                    mx = axisx.c2p(mouseX),
                    my = axisy.c2p(mouseY),
                    maxx = maxDistance / axisx.scale,
                    maxy = maxDistance / axisy.scale;
                ps = s.datapoints.pointsize;
                if (axisx.options.inverseTransform) maxx = Number.MAX_VALUE;
                if (axisy.options.inverseTransform) maxy = Number.MAX_VALUE;
                if (s.lines.show || s.points.show) {
                    for (j = 0; j < points.length; j += ps) {
                        var x = points[j],
                            y = points[j + 1];
                        if (x == null) continue;
                        if (x - mx > maxx || x - mx < -maxx || y - my > maxy || y - my < -maxy) continue;
                        var dx = Math.abs(axisx.p2c(x) - mouseX),
                            dy = Math.abs(axisy.p2c(y) - mouseY),
                            dist = dx * dx + dy * dy;
                        if (dist < smallestDistance) {
                            smallestDistance = dist;
                            item = [i, j / ps];
                        }
                    }
                }
                if (s.bars.show && !item) {
                    var barLeft, barRight;
                    switch (s.bars.align) {
                        case "left":
                            barLeft = 0;
                            break;
                        case "right":
                            barLeft = -s.bars.barWidth;
                            break;
                        default:
                            barLeft = -s.bars.barWidth / 2;
                    }
                    barRight = barLeft + s.bars.barWidth;
                    for (j = 0; j < points.length; j += ps) {
                        var x = points[j],
                            y = points[j + 1],
                            b = points[j + 2];
                        if (x == null) continue;
                        if (series[i].bars.horizontal ? mx <= Math.max(b, x) && mx >= Math.min(b, x) && my >= y + barLeft && my <= y + barRight : mx >= x + barLeft && mx <= x + barRight && my >= Math.min(b, y) && my <= Math.max(b, y)) item = [i, j / ps];
                    }
                }
            }
            if (item) {
                i = item[0];
                j = item[1];
                ps = series[i].datapoints.pointsize;
                return {
                    datapoint: series[i].datapoints.points.slice(j * ps, (j + 1) * ps),
                    dataIndex: j,
                    series: series[i],
                    seriesIndex: i
                };
            }
            return null;
        }

        function onMouseMove(e) {
            if (options.grid.hoverable) triggerClickHoverEvent("plothover", e, function(s) {
                return s["hoverable"] != false;
            });
        }

        function onMouseLeave(e) {
            if (options.grid.hoverable) triggerClickHoverEvent("plothover", e, function(s) {
                return false;
            });
        }

        function onClick(e) {
            triggerClickHoverEvent("plotclick", e, function(s) {
                return s["clickable"] != false;
            });
        }

        function triggerClickHoverEvent(eventname, event, seriesFilter) {
            var offset = eventHolder.offset(),
                canvasX = event.pageX - offset.left - plotOffset.left,
                canvasY = event.pageY - offset.top - plotOffset.top,
                pos = canvasToAxisCoords({
                    left: canvasX,
                    top: canvasY
                });
            pos.pageX = event.pageX;
            pos.pageY = event.pageY;
            var item = findNearbyItem(canvasX, canvasY, seriesFilter);
            if (item) {
                item.pageX = parseInt(item.series.xaxis.p2c(item.datapoint[0]) + offset.left + plotOffset.left, 10);
                item.pageY = parseInt(item.series.yaxis.p2c(item.datapoint[1]) + offset.top + plotOffset.top, 10);
            }
            if (options.grid.autoHighlight) {
                for (var i = 0; i < highlights.length; ++i) {
                    var h = highlights[i];
                    if (h.auto == eventname && !(item && h.series == item.series && h.point[0] == item.datapoint[0] && h.point[1] == item.datapoint[1])) unhighlight(h.series, h.point);
                }
                if (item) highlight(item.series, item.datapoint, eventname);
            }
            placeholder.trigger(eventname, [pos, item]);
        }

        function triggerRedrawOverlay() {
            var t = options.interaction.redrawOverlayInterval;
            if (t == -1) {
                drawOverlay();
                return;
            }
            if (!redrawTimeout) redrawTimeout = setTimeout(drawOverlay, t);
        }

        function drawOverlay() {
            redrawTimeout = null;
            octx.save();
            overlay.clear();
            octx.translate(plotOffset.left, plotOffset.top);
            var i, hi;
            for (i = 0; i < highlights.length; ++i) {
                hi = highlights[i];
                if (hi.series.bars.show) drawBarHighlight(hi.series, hi.point);
                else drawPointHighlight(hi.series, hi.point);
            }
            octx.restore();
            executeHooks(hooks.drawOverlay, [octx]);
        }

        function highlight(s, point, auto) {
            if (typeof s == "number") s = series[s];
            if (typeof point == "number") {
                var ps = s.datapoints.pointsize;
                point = s.datapoints.points.slice(ps * point, ps * (point + 1));
            }
            var i = indexOfHighlight(s, point);
            if (i == -1) {
                highlights.push({
                    series: s,
                    point: point,
                    auto: auto
                });
                triggerRedrawOverlay();
            } else if (!auto) highlights[i].auto = false;
        }

        function unhighlight(s, point) {
            if (s == null && point == null) {
                highlights = [];
                triggerRedrawOverlay();
                return;
            }
            if (typeof s == "number") s = series[s];
            if (typeof point == "number") {
                var ps = s.datapoints.pointsize;
                point = s.datapoints.points.slice(ps * point, ps * (point + 1));
            }
            var i = indexOfHighlight(s, point);
            if (i != -1) {
                highlights.splice(i, 1);
                triggerRedrawOverlay();
            }
        }

        function indexOfHighlight(s, p) {
            for (var i = 0; i < highlights.length; ++i) {
                var h = highlights[i];
                if (h.series == s && h.point[0] == p[0] && h.point[1] == p[1]) return i;
            }
            return -1;
        }

        function drawPointHighlight(series, point) {
            var x = point[0],
                y = point[1],
                axisx = series.xaxis,
                axisy = series.yaxis,
                highlightColor = typeof series.highlightColor === "string" ? series.highlightColor : $.color.parse(series.color).scale("a", .5).toString();
            if (x < axisx.min || x > axisx.max || y < axisy.min || y > axisy.max) return;
            var pointRadius = series.points.radius + series.points.lineWidth / 2;
            octx.lineWidth = pointRadius;
            octx.strokeStyle = highlightColor;
            var radius = 1.5 * pointRadius;
            x = axisx.p2c(x);
            y = axisy.p2c(y);
            octx.beginPath();
            if (series.points.symbol == "circle") octx.arc(x, y, radius, 0, 2 * Math.PI, false);
            else series.points.symbol(octx, x, y, radius, false);
            octx.closePath();
            octx.stroke();
        }

        function drawBarHighlight(series, point) {
            var highlightColor = typeof series.highlightColor === "string" ? series.highlightColor : $.color.parse(series.color).scale("a", .5).toString(),
                fillStyle = highlightColor,
                barLeft;
            switch (series.bars.align) {
                case "left":
                    barLeft = 0;
                    break;
                case "right":
                    barLeft = -series.bars.barWidth;
                    break;
                default:
                    barLeft = -series.bars.barWidth / 2;
            }
            octx.lineWidth = series.bars.lineWidth;
            octx.strokeStyle = highlightColor;
            drawBar(point[0], point[1], point[2] || 0, barLeft, barLeft + series.bars.barWidth, function() {
                return fillStyle;
            }, series.xaxis, series.yaxis, octx, series.bars.horizontal, series.bars.lineWidth);
        }

        function getColorOrGradient(spec, bottom, top, defaultColor) {
            if (typeof spec == "string") return spec;
            else {
                var gradient = ctx.createLinearGradient(0, top, 0, bottom);
                for (var i = 0, l = spec.colors.length; i < l; ++i) {
                    var c = spec.colors[i];
                    if (typeof c != "string") {
                        var co = $.color.parse(defaultColor);
                        if (c.brightness != null) co = co.scale("rgb", c.brightness);
                        if (c.opacity != null) co.a *= c.opacity;
                        c = co.toString();
                    }
                    gradient.addColorStop(i / (l - 1), c);
                }
                return gradient;
            }
        }
    }
    $.plot = function(placeholder, data, options) {
        var plot = new Plot($(placeholder), data, options, $.plot.plugins);
        return plot;
    };
    $.plot.version = "0.8.3";
    $.plot.plugins = [];
    $.fn.plot = function(data, options) {
        return this.each(function() {
            $.plot(this, data, options);
        });
    };

    function floorInBase(n, base) {
        return base * Math.floor(n / base);
    }
})(jQuery);
/* Javascript plotting library for jQuery, version 0.8.3.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

*/
(function($) {
    var REDRAW_ATTEMPTS = 10;
    var REDRAW_SHRINK = .95;

    function init(plot) {
        var canvas = null,
            target = null,
            options = null,
            maxRadius = null,
            centerLeft = null,
            centerTop = null,
            processed = false,
            ctx = null;
        var highlights = [];
        plot.hooks.processOptions.push(function(plot, options) {
            if (options.series.pie.show) {
                options.grid.show = false;
                if (options.series.pie.label.show == "auto") {
                    if (options.legend.show) {
                        options.series.pie.label.show = false;
                    } else {
                        options.series.pie.label.show = true;
                    }
                }
                if (options.series.pie.radius == "auto") {
                    if (options.series.pie.label.show) {
                        options.series.pie.radius = 3 / 4;
                    } else {
                        options.series.pie.radius = 1;
                    }
                }
                if (options.series.pie.tilt > 1) {
                    options.series.pie.tilt = 1;
                } else if (options.series.pie.tilt < 0) {
                    options.series.pie.tilt = 0;
                }
            }
        });
        plot.hooks.bindEvents.push(function(plot, eventHolder) {
            var options = plot.getOptions();
            if (options.series.pie.show) {
                if (options.grid.hoverable) {
                    eventHolder.unbind("mousemove").mousemove(onMouseMove);
                }
                if (options.grid.clickable) {
                    eventHolder.unbind("click").click(onClick);
                }
            }
        });
        plot.hooks.processDatapoints.push(function(plot, series, data, datapoints) {
            var options = plot.getOptions();
            if (options.series.pie.show) {
                processDatapoints(plot, series, data, datapoints);
            }
        });
        plot.hooks.drawOverlay.push(function(plot, octx) {
            var options = plot.getOptions();
            if (options.series.pie.show) {
                drawOverlay(plot, octx);
            }
        });
        plot.hooks.draw.push(function(plot, newCtx) {
            var options = plot.getOptions();
            if (options.series.pie.show) {
                draw(plot, newCtx);
            }
        });

        function processDatapoints(plot, series, datapoints) {
            if (!processed) {
                processed = true;
                canvas = plot.getCanvas();
                target = $(canvas).parent();
                options = plot.getOptions();
                plot.setData(combine(plot.getData()));
            }
        }

        function combine(data) {
            var total = 0,
                combined = 0,
                numCombined = 0,
                color = options.series.pie.combine.color,
                newdata = [];
            for (var i = 0; i < data.length; ++i) {
                var value = data[i].data;
                if ($.isArray(value) && value.length == 1) {
                    value = value[0];
                }
                if ($.isArray(value)) {
                    if (!isNaN(parseFloat(value[1])) && isFinite(value[1])) {
                        value[1] = +value[1];
                    } else {
                        value[1] = 0;
                    }
                } else if (!isNaN(parseFloat(value)) && isFinite(value)) {
                    value = [1, +value];
                } else {
                    value = [1, 0];
                }
                data[i].data = [value];
            }
            for (var i = 0; i < data.length; ++i) {
                total += data[i].data[0][1];
            }
            for (var i = 0; i < data.length; ++i) {
                var value = data[i].data[0][1];
                if (value / total <= options.series.pie.combine.threshold) {
                    combined += value;
                    numCombined++;
                    if (!color) {
                        color = data[i].color;
                    }
                }
            }
            for (var i = 0; i < data.length; ++i) {
                var value = data[i].data[0][1];
                if (numCombined < 2 || value / total > options.series.pie.combine.threshold) {
                    newdata.push($.extend(data[i], {
                        data: [
                            [1, value]
                        ],
                        color: data[i].color,
                        label: data[i].label,
                        angle: value * Math.PI * 2 / total,
                        percent: value / (total / 100)
                    }));
                }
            }
            if (numCombined > 1) {
                newdata.push({
                    data: [
                        [1, combined]
                    ],
                    color: color,
                    label: options.series.pie.combine.label,
                    angle: combined * Math.PI * 2 / total,
                    percent: combined / (total / 100)
                });
            }
            return newdata;
        }

        function draw(plot, newCtx) {
            if (!target) {
                return;
            }
            var canvasWidth = plot.getPlaceholder().width(),
                canvasHeight = plot.getPlaceholder().height(),
                legendWidth = target.children().filter(".legend").children().width() || 0;
            ctx = newCtx;
            processed = false;
            maxRadius = Math.min(canvasWidth, canvasHeight / options.series.pie.tilt) / 2;
            centerTop = canvasHeight / 2 + options.series.pie.offset.top;
            centerLeft = canvasWidth / 2;
            if (options.series.pie.offset.left == "auto") {
                if (options.legend.position.match("w")) {
                    centerLeft += legendWidth / 2;
                } else {
                    centerLeft -= legendWidth / 2;
                }
                if (centerLeft < maxRadius) {
                    centerLeft = maxRadius;
                } else if (centerLeft > canvasWidth - maxRadius) {
                    centerLeft = canvasWidth - maxRadius;
                }
            } else {
                centerLeft += options.series.pie.offset.left;
            }
            var slices = plot.getData(),
                attempts = 0;
            do {
                if (attempts > 0) {
                    maxRadius *= REDRAW_SHRINK;
                }
                attempts += 1;
                clear();
                if (options.series.pie.tilt <= .8) {
                    drawShadow();
                }
            } while (!drawPie() && attempts < REDRAW_ATTEMPTS);
            if (attempts >= REDRAW_ATTEMPTS) {
                clear();
                target.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>");
            }
            if (plot.setSeries && plot.insertLegend) {
                plot.setSeries(slices);
                plot.insertLegend();
            }

            function clear() {
                ctx.clearRect(0, 0, canvasWidth, canvasHeight);
                target.children().filter(".pieLabel, .pieLabelBackground").remove();
            }

            function drawShadow() {
                var shadowLeft = options.series.pie.shadow.left;
                var shadowTop = options.series.pie.shadow.top;
                var edge = 10;
                var alpha = options.series.pie.shadow.alpha;
                var radius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius;
                if (radius >= canvasWidth / 2 - shadowLeft || radius * options.series.pie.tilt >= canvasHeight / 2 - shadowTop || radius <= edge) {
                    return;
                }
                ctx.save();
                ctx.translate(shadowLeft, shadowTop);
                ctx.globalAlpha = alpha;
                ctx.fillStyle = "#000";
                ctx.translate(centerLeft, centerTop);
                ctx.scale(1, options.series.pie.tilt);
                for (var i = 1; i <= edge; i++) {
                    ctx.beginPath();
                    ctx.arc(0, 0, radius, 0, Math.PI * 2, false);
                    ctx.fill();
                    radius -= i;
                }
                ctx.restore();
            }

            function drawPie() {
                var startAngle = Math.PI * options.series.pie.startAngle;
                var radius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius;
                ctx.save();
                ctx.translate(centerLeft, centerTop);
                ctx.scale(1, options.series.pie.tilt);
                ctx.save();
                var currentAngle = startAngle;
                for (var i = 0; i < slices.length; ++i) {
                    slices[i].startAngle = currentAngle;
                    drawSlice(slices[i].angle, slices[i].color, true);
                }
                ctx.restore();
                if (options.series.pie.stroke.width > 0) {
                    ctx.save();
                    ctx.lineWidth = options.series.pie.stroke.width;
                    currentAngle = startAngle;
                    for (var i = 0; i < slices.length; ++i) {
                        drawSlice(slices[i].angle, options.series.pie.stroke.color, false);
                    }
                    ctx.restore();
                }
                drawDonutHole(ctx);
                ctx.restore();
                if (options.series.pie.label.show) {
                    return drawLabels();
                } else return true;

                function drawSlice(angle, color, fill) {
                    if (angle <= 0 || isNaN(angle)) {
                        return;
                    }
                    if (fill) {
                        ctx.fillStyle = color;
                    } else {
                        ctx.strokeStyle = color;
                        ctx.lineJoin = "round";
                    }
                    ctx.beginPath();
                    if (Math.abs(angle - Math.PI * 2) > 1e-9) {
                        ctx.moveTo(0, 0);
                    }
                    ctx.arc(0, 0, radius, currentAngle, currentAngle + angle / 2, false);
                    ctx.arc(0, 0, radius, currentAngle + angle / 2, currentAngle + angle, false);
                    ctx.closePath();
                    currentAngle += angle;
                    if (fill) {
                        ctx.fill();
                    } else {
                        ctx.stroke();
                    }
                }

                function drawLabels() {
                    var currentAngle = startAngle;
                    var radius = options.series.pie.label.radius > 1 ? options.series.pie.label.radius : maxRadius * options.series.pie.label.radius;
                    for (var i = 0; i < slices.length; ++i) {
                        if (slices[i].percent >= options.series.pie.label.threshold * 100) {
                            if (!drawLabel(slices[i], currentAngle, i)) {
                                return false;
                            }
                        }
                        currentAngle += slices[i].angle;
                    }
                    return true;

                    function drawLabel(slice, startAngle, index) {
                        if (slice.data[0][1] == 0) {
                            return true;
                        }
                        var lf = options.legend.labelFormatter,
                            text, plf = options.series.pie.label.formatter;
                        if (lf) {
                            text = lf(slice.label, slice);
                        } else {
                            text = slice.label;
                        }
                        if (plf) {
                            text = plf(text, slice);
                        }
                        var halfAngle = (startAngle + slice.angle + startAngle) / 2;
                        var x = centerLeft + Math.round(Math.cos(halfAngle) * radius);
                        var y = centerTop + Math.round(Math.sin(halfAngle) * radius) * options.series.pie.tilt;
                        var html = "<span class='pieLabel' id='pieLabel" + index + "' style='position:absolute;top:" + y + "px;left:" + x + "px;'>" + text + "</span>";
                        target.append(html);
                        var label = target.children("#pieLabel" + index);
                        var labelTop = y - label.height() / 2;
                        var labelLeft = x - label.width() / 2;
                        label.css("top", labelTop);
                        label.css("left", labelLeft);
                        if (0 - labelTop > 0 || 0 - labelLeft > 0 || canvasHeight - (labelTop + label.height()) < 0 || canvasWidth - (labelLeft + label.width()) < 0) {
                            return false;
                        }
                        if (options.series.pie.label.background.opacity != 0) {
                            var c = options.series.pie.label.background.color;
                            if (c == null) {
                                c = slice.color;
                            }
                            var pos = "top:" + labelTop + "px;left:" + labelLeft + "px;";
                            $("<div class='pieLabelBackground' style='position:absolute;width:" + label.width() + "px;height:" + label.height() + "px;" + pos + "background-color:" + c + ";'></div>").css("opacity", options.series.pie.label.background.opacity).insertBefore(label);
                        }
                        return true;
                    }
                }
            }
        }

        function drawDonutHole(layer) {
            if (options.series.pie.innerRadius > 0) {
                layer.save();
                var innerRadius = options.series.pie.innerRadius > 1 ? options.series.pie.innerRadius : maxRadius * options.series.pie.innerRadius;
                layer.globalCompositeOperation = "destination-out";
                layer.beginPath();
                layer.fillStyle = options.series.pie.stroke.color;
                layer.arc(0, 0, innerRadius, 0, Math.PI * 2, false);
                layer.fill();
                layer.closePath();
                layer.restore();
                layer.save();
                layer.beginPath();
                layer.strokeStyle = options.series.pie.stroke.color;
                layer.arc(0, 0, innerRadius, 0, Math.PI * 2, false);
                layer.stroke();
                layer.closePath();
                layer.restore();
            }
        }

        function isPointInPoly(poly, pt) {
            for (var c = false, i = -1, l = poly.length, j = l - 1; ++i < l; j = i)(poly[i][1] <= pt[1] && pt[1] < poly[j][1] || poly[j][1] <= pt[1] && pt[1] < poly[i][1]) && pt[0] < (poly[j][0] - poly[i][0]) * (pt[1] - poly[i][1]) / (poly[j][1] - poly[i][1]) + poly[i][0] && (c = !c);
            return c;
        }

        function findNearbySlice(mouseX, mouseY) {
            var slices = plot.getData(),
                options = plot.getOptions(),
                radius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius,
                x, y;
            for (var i = 0; i < slices.length; ++i) {
                var s = slices[i];
                if (s.pie.show) {
                    ctx.save();
                    ctx.beginPath();
                    ctx.moveTo(0, 0);
                    ctx.arc(0, 0, radius, s.startAngle, s.startAngle + s.angle / 2, false);
                    ctx.arc(0, 0, radius, s.startAngle + s.angle / 2, s.startAngle + s.angle, false);
                    ctx.closePath();
                    x = mouseX - centerLeft;
                    y = mouseY - centerTop;
                    if (ctx.isPointInPath) {
                        if (ctx.isPointInPath(mouseX - centerLeft, mouseY - centerTop)) {
                            ctx.restore();
                            return {
                                datapoint: [s.percent, s.data],
                                dataIndex: 0,
                                series: s,
                                seriesIndex: i
                            };
                        }
                    } else {
                        var p1X = radius * Math.cos(s.startAngle),
                            p1Y = radius * Math.sin(s.startAngle),
                            p2X = radius * Math.cos(s.startAngle + s.angle / 4),
                            p2Y = radius * Math.sin(s.startAngle + s.angle / 4),
                            p3X = radius * Math.cos(s.startAngle + s.angle / 2),
                            p3Y = radius * Math.sin(s.startAngle + s.angle / 2),
                            p4X = radius * Math.cos(s.startAngle + s.angle / 1.5),
                            p4Y = radius * Math.sin(s.startAngle + s.angle / 1.5),
                            p5X = radius * Math.cos(s.startAngle + s.angle),
                            p5Y = radius * Math.sin(s.startAngle + s.angle),
                            arrPoly = [
                                [0, 0],
                                [p1X, p1Y],
                                [p2X, p2Y],
                                [p3X, p3Y],
                                [p4X, p4Y],
                                [p5X, p5Y]
                            ],
                            arrPoint = [x, y];
                        if (isPointInPoly(arrPoly, arrPoint)) {
                            ctx.restore();
                            return {
                                datapoint: [s.percent, s.data],
                                dataIndex: 0,
                                series: s,
                                seriesIndex: i
                            };
                        }
                    }
                    ctx.restore();
                }
            }
            return null;
        }

        function onMouseMove(e) {
            triggerClickHoverEvent("plothover", e);
        }

        function onClick(e) {
            triggerClickHoverEvent("plotclick", e);
        }

        function triggerClickHoverEvent(eventname, e) {
            var offset = plot.offset();
            var canvasX = parseInt(e.pageX - offset.left);
            var canvasY = parseInt(e.pageY - offset.top);
            var item = findNearbySlice(canvasX, canvasY);
            if (options.grid.autoHighlight) {
                for (var i = 0; i < highlights.length; ++i) {
                    var h = highlights[i];
                    if (h.auto == eventname && !(item && h.series == item.series)) {
                        unhighlight(h.series);
                    }
                }
            }
            if (item) {
                highlight(item.series, eventname);
            }
            var pos = {
                pageX: e.pageX,
                pageY: e.pageY
            };
            target.trigger(eventname, [pos, item]);
        }

        function highlight(s, auto) {
            var i = indexOfHighlight(s);
            if (i == -1) {
                highlights.push({
                    series: s,
                    auto: auto
                });
                plot.triggerRedrawOverlay();
            } else if (!auto) {
                highlights[i].auto = false;
            }
        }

        function unhighlight(s) {
            if (s == null) {
                highlights = [];
                plot.triggerRedrawOverlay();
            }
            var i = indexOfHighlight(s);
            if (i != -1) {
                highlights.splice(i, 1);
                plot.triggerRedrawOverlay();
            }
        }

        function indexOfHighlight(s) {
            for (var i = 0; i < highlights.length; ++i) {
                var h = highlights[i];
                if (h.series == s) return i;
            }
            return -1;
        }

        function drawOverlay(plot, octx) {
            var options = plot.getOptions();
            var radius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius;
            octx.save();
            octx.translate(centerLeft, centerTop);
            octx.scale(1, options.series.pie.tilt);
            for (var i = 0; i < highlights.length; ++i) {
                drawHighlight(highlights[i].series);
            }
            drawDonutHole(octx);
            octx.restore();

            function drawHighlight(series) {
                if (series.angle <= 0 || isNaN(series.angle)) {
                    return;
                }
                octx.fillStyle = "rgba(255, 255, 255, " + options.series.pie.highlight.opacity + ")";
                octx.beginPath();
                if (Math.abs(series.angle - Math.PI * 2) > 1e-9) {
                    octx.moveTo(0, 0);
                }
                octx.arc(0, 0, radius, series.startAngle, series.startAngle + series.angle / 2, false);
                octx.arc(0, 0, radius, series.startAngle + series.angle / 2, series.startAngle + series.angle, false);
                octx.closePath();
                octx.fill();
            }
        }
    }
    var options = {
        series: {
            pie: {
                show: false,
                radius: "auto",
                innerRadius: 0,
                startAngle: 3 / 2,
                tilt: 1,
                shadow: {
                    left: 5,
                    top: 15,
                    alpha: .02
                },
                offset: {
                    top: 0,
                    left: "auto"
                },
                stroke: {
                    color: "#fff",
                    width: 1
                },
                label: {
                    show: "auto",
                    formatter: function(label, slice) {
                        return "<div style='font-size:x-small;text-align:center;padding:2px;color:" + slice.color + ";'>" + label + "<br/>" + Math.round(slice.percent) + "%</div>";
                    },
                    radius: 1,
                    background: {
                        color: null,
                        opacity: 0
                    },
                    threshold: 0
                },
                combine: {
                    threshold: -1,
                    color: null,
                    label: "Other"
                },
                highlight: {
                    opacity: .5
                }
            }
        }
    };
    $.plot.plugins.push({
        init: init,
        options: options,
        name: "pie",
        version: "1.1"
    });
})(jQuery); /*! tooltipster v4.2.5 */
! function(a, b) {
    "function" == typeof define && define.amd ? define(["jquery"], function(a) {
        return b(a);
    }) : "object" == typeof exports ? module.exports = b(require("jquery")) : b(jQuery);
}(this, function(a) {
    function b(a) {
        this.$container, this.constraints = null, this.__$tooltip, this.__init(a);
    }

    function c(b, c) {
        var d = !0;
        return a.each(b, function(a, e) {
            return void 0 === c[a] || b[a] !== c[a] ? (d = !1, !1) : void 0;
        }), d;
    }

    function d(b) {
        var c = b.attr("id"),
            d = c ? h.window.document.getElementById(c) : null;
        return d ? d === b[0] : a.contains(h.window.document.body, b[0]);
    }

    function e() {
        if (!g) return !1;
        var a = g.document.body || g.document.documentElement,
            b = a.style,
            c = "transition",
            d = ["Moz", "Webkit", "Khtml", "O", "ms"];
        if ("string" == typeof b[c]) return !0;
        c = c.charAt(0).toUpperCase() + c.substr(1);
        for (var e = 0; e < d.length; e++)
            if ("string" == typeof b[d[e] + c]) return !0;
        return !1;
    }
    var f = {
            animation: "fade",
            animationDuration: 350,
            content: null,
            contentAsHTML: !1,
            contentCloning: !1,
            debug: !0,
            delay: 300,
            delayTouch: [300, 500],
            functionInit: null,
            functionBefore: null,
            functionReady: null,
            functionAfter: null,
            functionFormat: null,
            IEmin: 6,
            interactive: !1,
            multiple: !1,
            parent: null,
            plugins: ["sideTip"],
            repositionOnScroll: !1,
            restoration: "none",
            selfDestruction: !0,
            theme: [],
            timer: 0,
            trackerInterval: 500,
            trackOrigin: !1,
            trackTooltip: !1,
            trigger: "hover",
            triggerClose: {
                click: !1,
                mouseleave: !1,
                originClick: !1,
                scroll: !1,
                tap: !1,
                touchleave: !1
            },
            triggerOpen: {
                click: !1,
                mouseenter: !1,
                tap: !1,
                touchstart: !1
            },
            updateAnimation: "rotate",
            zIndex: 9999999
        },
        g = "undefined" != typeof window ? window : null,
        h = {
            hasTouchCapability: !(!g || !("ontouchstart" in g || g.DocumentTouch && g.document instanceof g.DocumentTouch || g.navigator.maxTouchPoints)),
            hasTransitions: e(),
            IE: !1,
            semVer: "4.2.5",
            window: g
        },
        i = function() {
            this.__$emitterPrivate = a({}), this.__$emitterPublic = a({}), this.__instancesLatestArr = [], this.__plugins = {}, this._env = h;
        };
    i.prototype = {
        __bridge: function(b, c, d) {
            if (!c[d]) {
                var e = function() {};
                e.prototype = b;
                var g = new e();
                g.__init && g.__init(c), a.each(b, function(a, b) {
                    0 != a.indexOf("__") && (c[a] ? f.debug && console.log("The " + a + " method of the " + d + " plugin conflicts with another plugin or native methods") : (c[a] = function() {
                        return g[a].apply(g, Array.prototype.slice.apply(arguments));
                    }, c[a].bridged = g));
                }), c[d] = g;
            }
            return this;
        },
        __setWindow: function(a) {
            return h.window = a, this;
        },
        _getRuler: function(a) {
            return new b(a);
        },
        _off: function() {
            return this.__$emitterPrivate.off.apply(this.__$emitterPrivate, Array.prototype.slice.apply(arguments)), this;
        },
        _on: function() {
            return this.__$emitterPrivate.on.apply(this.__$emitterPrivate, Array.prototype.slice.apply(arguments)), this;
        },
        _one: function() {
            return this.__$emitterPrivate.one.apply(this.__$emitterPrivate, Array.prototype.slice.apply(arguments)), this;
        },
        _plugin: function(b) {
            var c = this;
            if ("string" == typeof b) {
                var d = b,
                    e = null;
                return d.indexOf(".") > 0 ? e = c.__plugins[d] : a.each(c.__plugins, function(a, b) {
                    return b.name.substring(b.name.length - d.length - 1) == "." + d ? (e = b, !1) : void 0;
                }), e;
            }
            if (b.name.indexOf(".") < 0) throw new Error("Plugins must be namespaced");
            return c.__plugins[b.name] = b, b.core && c.__bridge(b.core, c, b.name), this;
        },
        _trigger: function() {
            var a = Array.prototype.slice.apply(arguments);
            return "string" == typeof a[0] && (a[0] = {
                type: a[0]
            }), this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate, a), this.__$emitterPublic.trigger.apply(this.__$emitterPublic, a), this;
        },
        instances: function(b) {
            var c = [],
                d = b || ".tooltipstered";
            return a(d).each(function() {
                var b = a(this),
                    d = b.data("tooltipster-ns");
                d && a.each(d, function(a, d) {
                    c.push(b.data(d));
                });
            }), c;
        },
        instancesLatest: function() {
            return this.__instancesLatestArr;
        },
        off: function() {
            return this.__$emitterPublic.off.apply(this.__$emitterPublic, Array.prototype.slice.apply(arguments)), this;
        },
        on: function() {
            return this.__$emitterPublic.on.apply(this.__$emitterPublic, Array.prototype.slice.apply(arguments)), this;
        },
        one: function() {
            return this.__$emitterPublic.one.apply(this.__$emitterPublic, Array.prototype.slice.apply(arguments)), this;
        },
        origins: function(b) {
            var c = b ? b + " " : "";
            return a(c + ".tooltipstered").toArray();
        },
        setDefaults: function(b) {
            return a.extend(f, b), this;
        },
        triggerHandler: function() {
            return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic, Array.prototype.slice.apply(arguments)), this;
        }
    }, a.tooltipster = new i(), a.Tooltipster = function(b, c) {
        this.__callbacks = {
            close: [],
            open: []
        }, this.__closingTime, this.__Content, this.__contentBcr, this.__destroyed = !1, this.__$emitterPrivate = a({}), this.__$emitterPublic = a({}), this.__enabled = !0, this.__garbageCollector, this.__Geometry, this.__lastPosition, this.__namespace = "tooltipster-" + Math.round(1e6 * Math.random()), this.__options, this.__$originParents, this.__pointerIsOverOrigin = !1, this.__previousThemes = [], this.__state = "closed", this.__timeouts = {
            close: [],
            open: null
        }, this.__touchEvents = [], this.__tracker = null, this._$origin, this._$tooltip, this.__init(b, c);
    }, a.Tooltipster.prototype = {
        __init: function(b, c) {
            var d = this;
            if (d._$origin = a(b), d.__options = a.extend(!0, {}, f, c), d.__optionsFormat(), !h.IE || h.IE >= d.__options.IEmin) {
                var e = null;
                if (void 0 === d._$origin.data("tooltipster-initialTitle") && (e = d._$origin.attr("title"), void 0 === e && (e = null), d._$origin.data("tooltipster-initialTitle", e)), null !== d.__options.content) d.__contentSet(d.__options.content);
                else {
                    var g, i = d._$origin.attr("data-tooltip-content");
                    i && (g = a(i)), g && g[0] ? d.__contentSet(g.first()) : d.__contentSet(e);
                }
                d._$origin.removeAttr("title").addClass("tooltipstered"), d.__prepareOrigin(), d.__prepareGC(), a.each(d.__options.plugins, function(a, b) {
                    d._plug(b);
                }), h.hasTouchCapability && a(h.window.document.body).on("touchmove." + d.__namespace + "-triggerOpen", function(a) {
                    d._touchRecordEvent(a);
                }), d._on("created", function() {
                    d.__prepareTooltip();
                })._on("repositioned", function(a) {
                    d.__lastPosition = a.position;
                });
            } else d.__options.disabled = !0;
        },
        __contentInsert: function() {
            var a = this,
                b = a._$tooltip.find(".tooltipster-content"),
                c = a.__Content,
                d = function(a) {
                    c = a;
                };
            return a._trigger({
                type: "format",
                content: a.__Content,
                format: d
            }), a.__options.functionFormat && (c = a.__options.functionFormat.call(a, a, {
                origin: a._$origin[0]
            }, a.__Content)), "string" != typeof c || a.__options.contentAsHTML ? b.empty().append(c) : b.text(c), a;
        },
        __contentSet: function(b) {
            return b instanceof a && this.__options.contentCloning && (b = b.clone(!0)), this.__Content = b, this._trigger({
                type: "updated",
                content: b
            }), this;
        },
        __destroyError: function() {
            throw new Error("This tooltip has been destroyed and cannot execute your method call.");
        },
        __geometry: function() {
            var b = this,
                c = b._$origin,
                d = b._$origin.is("area");
            if (d) {
                var e = b._$origin.parent().attr("name");
                c = a('img[usemap="#' + e + '"]');
            }
            var f = c[0].getBoundingClientRect(),
                g = a(h.window.document),
                i = a(h.window),
                j = c,
                k = {
                    available: {
                        document: null,
                        window: null
                    },
                    document: {
                        size: {
                            height: g.height(),
                            width: g.width()
                        }
                    },
                    window: {
                        scroll: {
                            left: h.window.scrollX || h.window.document.documentElement.scrollLeft,
                            top: h.window.scrollY || h.window.document.documentElement.scrollTop
                        },
                        size: {
                            height: i.height(),
                            width: i.width()
                        }
                    },
                    origin: {
                        fixedLineage: !1,
                        offset: {},
                        size: {
                            height: f.bottom - f.top,
                            width: f.right - f.left
                        },
                        usemapImage: d ? c[0] : null,
                        windowOffset: {
                            bottom: f.bottom,
                            left: f.left,
                            right: f.right,
                            top: f.top
                        }
                    }
                };
            if (d) {
                var l = b._$origin.attr("shape"),
                    m = b._$origin.attr("coords");
                if (m && (m = m.split(","), a.map(m, function(a, b) {
                        m[b] = parseInt(a);
                    })), "default" != l) switch (l) {
                    case "circle":
                        var n = m[0],
                            o = m[1],
                            p = m[2],
                            q = o - p,
                            r = n - p;
                        k.origin.size.height = 2 * p, k.origin.size.width = k.origin.size.height, k.origin.windowOffset.left += r, k.origin.windowOffset.top += q;
                        break;
                    case "rect":
                        var s = m[0],
                            t = m[1],
                            u = m[2],
                            v = m[3];
                        k.origin.size.height = v - t, k.origin.size.width = u - s, k.origin.windowOffset.left += s, k.origin.windowOffset.top += t;
                        break;
                    case "poly":
                        for (var w = 0, x = 0, y = 0, z = 0, A = "even", B = 0; B < m.length; B++) {
                            var C = m[B];
                            "even" == A ? (C > y && (y = C, 0 === B && (w = y)), w > C && (w = C), A = "odd") : (C > z && (z = C, 1 == B && (x = z)), x > C && (x = C), A = "even");
                        }
                        k.origin.size.height = z - x, k.origin.size.width = y - w, k.origin.windowOffset.left += w, k.origin.windowOffset.top += x;
                }
            }
            var D = function(a) {
                k.origin.size.height = a.height, k.origin.windowOffset.left = a.left, k.origin.windowOffset.top = a.top, k.origin.size.width = a.width;
            };
            for (b._trigger({
                    type: "geometry",
                    edit: D,
                    geometry: {
                        height: k.origin.size.height,
                        left: k.origin.windowOffset.left,
                        top: k.origin.windowOffset.top,
                        width: k.origin.size.width
                    }
                }), k.origin.windowOffset.right = k.origin.windowOffset.left + k.origin.size.width, k.origin.windowOffset.bottom = k.origin.windowOffset.top + k.origin.size.height, k.origin.offset.left = k.origin.windowOffset.left + k.window.scroll.left, k.origin.offset.top = k.origin.windowOffset.top + k.window.scroll.top, k.origin.offset.bottom = k.origin.offset.top + k.origin.size.height, k.origin.offset.right = k.origin.offset.left + k.origin.size.width, k.available.document = {
                    bottom: {
                        height: k.document.size.height - k.origin.offset.bottom,
                        width: k.document.size.width
                    },
                    left: {
                        height: k.document.size.height,
                        width: k.origin.offset.left
                    },
                    right: {
                        height: k.document.size.height,
                        width: k.document.size.width - k.origin.offset.right
                    },
                    top: {
                        height: k.origin.offset.top,
                        width: k.document.size.width
                    }
                }, k.available.window = {
                    bottom: {
                        height: Math.max(k.window.size.height - Math.max(k.origin.windowOffset.bottom, 0), 0),
                        width: k.window.size.width
                    },
                    left: {
                        height: k.window.size.height,
                        width: Math.max(k.origin.windowOffset.left, 0)
                    },
                    right: {
                        height: k.window.size.height,
                        width: Math.max(k.window.size.width - Math.max(k.origin.windowOffset.right, 0), 0)
                    },
                    top: {
                        height: Math.max(k.origin.windowOffset.top, 0),
                        width: k.window.size.width
                    }
                };
                "html" != j[0].tagName.toLowerCase();) {
                if ("fixed" == j.css("position")) {
                    k.origin.fixedLineage = !0;
                    break;
                }
                j = j.parent();
            }
            return k;
        },
        __optionsFormat: function() {
            return "number" == typeof this.__options.animationDuration && (this.__options.animationDuration = [this.__options.animationDuration, this.__options.animationDuration]), "number" == typeof this.__options.delay && (this.__options.delay = [this.__options.delay, this.__options.delay]), "number" == typeof this.__options.delayTouch && (this.__options.delayTouch = [this.__options.delayTouch, this.__options.delayTouch]), "string" == typeof this.__options.theme && (this.__options.theme = [this.__options.theme]), null === this.__options.parent ? this.__options.parent = a(h.window.document.body) : "string" == typeof this.__options.parent && (this.__options.parent = a(this.__options.parent)), "hover" == this.__options.trigger ? (this.__options.triggerOpen = {
                mouseenter: !0,
                touchstart: !0
            }, this.__options.triggerClose = {
                mouseleave: !0,
                originClick: !0,
                touchleave: !0
            }) : "click" == this.__options.trigger && (this.__options.triggerOpen = {
                click: !0,
                tap: !0
            }, this.__options.triggerClose = {
                click: !0,
                tap: !0
            }), this._trigger("options"), this;
        },
        __prepareGC: function() {
            var b = this;
            return b.__options.selfDestruction ? b.__garbageCollector = setInterval(function() {
                var c = new Date().getTime();
                b.__touchEvents = a.grep(b.__touchEvents, function(a, b) {
                    return c - a.time > 6e4;
                }), d(b._$origin) || b.close(function() {
                    b.destroy();
                });
            }, 2e4) : clearInterval(b.__garbageCollector), b;
        },
        __prepareOrigin: function() {
            var a = this;
            if (a._$origin.off("." + a.__namespace + "-triggerOpen"), h.hasTouchCapability && a._$origin.on("touchstart." + a.__namespace + "-triggerOpen touchend." + a.__namespace + "-triggerOpen touchcancel." + a.__namespace + "-triggerOpen", function(b) {
                    a._touchRecordEvent(b);
                }), a.__options.triggerOpen.click || a.__options.triggerOpen.tap && h.hasTouchCapability) {
                var b = "";
                a.__options.triggerOpen.click && (b += "click." + a.__namespace + "-triggerOpen "), a.__options.triggerOpen.tap && h.hasTouchCapability && (b += "touchend." + a.__namespace + "-triggerOpen"), a._$origin.on(b, function(b) {
                    a._touchIsMeaningfulEvent(b) && a._open(b);
                });
            }
            if (a.__options.triggerOpen.mouseenter || a.__options.triggerOpen.touchstart && h.hasTouchCapability) {
                var b = "";
                a.__options.triggerOpen.mouseenter && (b += "mouseenter." + a.__namespace + "-triggerOpen "), a.__options.triggerOpen.touchstart && h.hasTouchCapability && (b += "touchstart." + a.__namespace + "-triggerOpen"), a._$origin.on(b, function(b) {
                    !a._touchIsTouchEvent(b) && a._touchIsEmulatedEvent(b) || (a.__pointerIsOverOrigin = !0, a._openShortly(b));
                });
            }
            if (a.__options.triggerClose.mouseleave || a.__options.triggerClose.touchleave && h.hasTouchCapability) {
                var b = "";
                a.__options.triggerClose.mouseleave && (b += "mouseleave." + a.__namespace + "-triggerOpen "), a.__options.triggerClose.touchleave && h.hasTouchCapability && (b += "touchend." + a.__namespace + "-triggerOpen touchcancel." + a.__namespace + "-triggerOpen"), a._$origin.on(b, function(b) {
                    a._touchIsMeaningfulEvent(b) && (a.__pointerIsOverOrigin = !1);
                });
            }
            return a;
        },
        __prepareTooltip: function() {
            var b = this,
                c = b.__options.interactive ? "auto" : "";
            return b._$tooltip.attr("id", b.__namespace).css({
                "pointer-events": c,
                zIndex: b.__options.zIndex
            }), a.each(b.__previousThemes, function(a, c) {
                b._$tooltip.removeClass(c);
            }), a.each(b.__options.theme, function(a, c) {
                b._$tooltip.addClass(c);
            }), b.__previousThemes = a.merge([], b.__options.theme), b;
        },
        __scrollHandler: function(b) {
            var c = this;
            if (c.__options.triggerClose.scroll) c._close(b);
            else if (d(c._$origin) && d(c._$tooltip)) {
                var e = null;
                if (b.target === h.window.document) c.__Geometry.origin.fixedLineage || c.__options.repositionOnScroll && c.reposition(b);
                else {
                    e = c.__geometry();
                    var f = !1;
                    if ("fixed" != c._$origin.css("position") && c.__$originParents.each(function(b, c) {
                            var d = a(c),
                                g = d.css("overflow-x"),
                                h = d.css("overflow-y");
                            if ("visible" != g || "visible" != h) {
                                var i = c.getBoundingClientRect();
                                if ("visible" != g && (e.origin.windowOffset.left < i.left || e.origin.windowOffset.right > i.right)) return f = !0, !1;
                                if ("visible" != h && (e.origin.windowOffset.top < i.top || e.origin.windowOffset.bottom > i.bottom)) return f = !0, !1;
                            }
                            return "fixed" == d.css("position") ? !1 : void 0;
                        }), f) c._$tooltip.css("visibility", "hidden");
                    else if (c._$tooltip.css("visibility", "visible"), c.__options.repositionOnScroll) c.reposition(b);
                    else {
                        var g = e.origin.offset.left - c.__Geometry.origin.offset.left,
                            i = e.origin.offset.top - c.__Geometry.origin.offset.top;
                        c._$tooltip.css({
                            left: c.__lastPosition.coord.left + g,
                            top: c.__lastPosition.coord.top + i
                        });
                    }
                }
                c._trigger({
                    type: "scroll",
                    event: b,
                    geo: e
                });
            }
            return c;
        },
        __stateSet: function(a) {
            return this.__state = a, this._trigger({
                type: "state",
                state: a
            }), this;
        },
        __timeoutsClear: function() {
            return clearTimeout(this.__timeouts.open), this.__timeouts.open = null, a.each(this.__timeouts.close, function(a, b) {
                clearTimeout(b);
            }), this.__timeouts.close = [], this;
        },
        __trackerStart: function() {
            var a = this,
                b = a._$tooltip.find(".tooltipster-content");
            return a.__options.trackTooltip && (a.__contentBcr = b[0].getBoundingClientRect()), a.__tracker = setInterval(function() {
                if (d(a._$origin) && d(a._$tooltip)) {
                    if (a.__options.trackOrigin) {
                        var e = a.__geometry(),
                            f = !1;
                        c(e.origin.size, a.__Geometry.origin.size) && (a.__Geometry.origin.fixedLineage ? c(e.origin.windowOffset, a.__Geometry.origin.windowOffset) && (f = !0) : c(e.origin.offset, a.__Geometry.origin.offset) && (f = !0)), f || (a.__options.triggerClose.mouseleave ? a._close() : a.reposition());
                    }
                    if (a.__options.trackTooltip) {
                        var g = b[0].getBoundingClientRect();
                        g.height === a.__contentBcr.height && g.width === a.__contentBcr.width || (a.reposition(), a.__contentBcr = g);
                    }
                } else a._close();
            }, a.__options.trackerInterval), a;
        },
        _close: function(b, c, d) {
            var e = this,
                f = !0;
            if (e._trigger({
                    type: "close",
                    event: b,
                    stop: function() {
                        f = !1;
                    }
                }), f || d) {
                c && e.__callbacks.close.push(c), e.__callbacks.open = [], e.__timeoutsClear();
                var g = function() {
                    a.each(e.__callbacks.close, function(a, c) {
                        c.call(e, e, {
                            event: b,
                            origin: e._$origin[0]
                        });
                    }), e.__callbacks.close = [];
                };
                if ("closed" != e.__state) {
                    var i = !0,
                        j = new Date(),
                        k = j.getTime(),
                        l = k + e.__options.animationDuration[1];
                    if ("disappearing" == e.__state && l > e.__closingTime && e.__options.animationDuration[1] > 0 && (i = !1), i) {
                        e.__closingTime = l, "disappearing" != e.__state && e.__stateSet("disappearing");
                        var m = function() {
                            clearInterval(e.__tracker), e._trigger({
                                type: "closing",
                                event: b
                            }), e._$tooltip.off("." + e.__namespace + "-triggerClose").removeClass("tooltipster-dying"), a(h.window).off("." + e.__namespace + "-triggerClose"), e.__$originParents.each(function(b, c) {
                                a(c).off("scroll." + e.__namespace + "-triggerClose");
                            }), e.__$originParents = null, a(h.window.document.body).off("." + e.__namespace + "-triggerClose"), e._$origin.off("." + e.__namespace + "-triggerClose"), e._off("dismissable"), e.__stateSet("closed"), e._trigger({
                                type: "after",
                                event: b
                            }), e.__options.functionAfter && e.__options.functionAfter.call(e, e, {
                                event: b,
                                origin: e._$origin[0]
                            }), g();
                        };
                        h.hasTransitions ? (e._$tooltip.css({
                            "-moz-animation-duration": e.__options.animationDuration[1] + "ms",
                            "-ms-animation-duration": e.__options.animationDuration[1] + "ms",
                            "-o-animation-duration": e.__options.animationDuration[1] + "ms",
                            "-webkit-animation-duration": e.__options.animationDuration[1] + "ms",
                            "animation-duration": e.__options.animationDuration[1] + "ms",
                            "transition-duration": e.__options.animationDuration[1] + "ms"
                        }), e._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"), e.__options.animationDuration[1] > 0 && e._$tooltip.delay(e.__options.animationDuration[1]), e._$tooltip.queue(m)) : e._$tooltip.stop().fadeOut(e.__options.animationDuration[1], m);
                    }
                } else g();
            }
            return e;
        },
        _off: function() {
            return this.__$emitterPrivate.off.apply(this.__$emitterPrivate, Array.prototype.slice.apply(arguments)), this;
        },
        _on: function() {
            return this.__$emitterPrivate.on.apply(this.__$emitterPrivate, Array.prototype.slice.apply(arguments)), this;
        },
        _one: function() {
            return this.__$emitterPrivate.one.apply(this.__$emitterPrivate, Array.prototype.slice.apply(arguments)), this;
        },
        _open: function(b, c) {
            var e = this;
            if (!e.__destroying && d(e._$origin) && e.__enabled) {
                var f = !0;
                if ("closed" == e.__state && (e._trigger({
                        type: "before",
                        event: b,
                        stop: function() {
                            f = !1;
                        }
                    }), f && e.__options.functionBefore && (f = e.__options.functionBefore.call(e, e, {
                        event: b,
                        origin: e._$origin[0]
                    }))), f !== !1 && null !== e.__Content) {
                    c && e.__callbacks.open.push(c), e.__callbacks.close = [], e.__timeoutsClear();
                    var g, i = function() {
                        "stable" != e.__state && e.__stateSet("stable"), a.each(e.__callbacks.open, function(a, b) {
                            b.call(e, e, {
                                origin: e._$origin[0],
                                tooltip: e._$tooltip[0]
                            });
                        }), e.__callbacks.open = [];
                    };
                    if ("closed" !== e.__state) g = 0, "disappearing" === e.__state ? (e.__stateSet("appearing"), h.hasTransitions ? (e._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"), e.__options.animationDuration[0] > 0 && e._$tooltip.delay(e.__options.animationDuration[0]), e._$tooltip.queue(i)) : e._$tooltip.stop().fadeIn(i)) : "stable" == e.__state && i();
                    else {
                        if (e.__stateSet("appearing"), g = e.__options.animationDuration[0], e.__contentInsert(), e.reposition(b, !0), h.hasTransitions ? (e._$tooltip.addClass("tooltipster-" + e.__options.animation).addClass("tooltipster-initial").css({
                                "-moz-animation-duration": e.__options.animationDuration[0] + "ms",
                                "-ms-animation-duration": e.__options.animationDuration[0] + "ms",
                                "-o-animation-duration": e.__options.animationDuration[0] + "ms",
                                "-webkit-animation-duration": e.__options.animationDuration[0] + "ms",
                                "animation-duration": e.__options.animationDuration[0] + "ms",
                                "transition-duration": e.__options.animationDuration[0] + "ms"
                            }), setTimeout(function() {
                                "closed" != e.__state && (e._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"), e.__options.animationDuration[0] > 0 && e._$tooltip.delay(e.__options.animationDuration[0]), e._$tooltip.queue(i));
                            }, 0)) : e._$tooltip.css("display", "none").fadeIn(e.__options.animationDuration[0], i), e.__trackerStart(), a(h.window).on("resize." + e.__namespace + "-triggerClose", function(b) {
                                var c = a(document.activeElement);
                                (c.is("input") || c.is("textarea")) && a.contains(e._$tooltip[0], c[0]) || e.reposition(b);
                            }).on("scroll." + e.__namespace + "-triggerClose", function(a) {
                                e.__scrollHandler(a);
                            }), e.__$originParents = e._$origin.parents(), e.__$originParents.each(function(b, c) {
                                a(c).on("scroll." + e.__namespace + "-triggerClose", function(a) {
                                    e.__scrollHandler(a);
                                });
                            }), e.__options.triggerClose.mouseleave || e.__options.triggerClose.touchleave && h.hasTouchCapability) {
                            e._on("dismissable", function(a) {
                                a.dismissable ? a.delay ? (m = setTimeout(function() {
                                    e._close(a.event);
                                }, a.delay), e.__timeouts.close.push(m)) : e._close(a) : clearTimeout(m);
                            });
                            var j = e._$origin,
                                k = "",
                                l = "",
                                m = null;
                            e.__options.interactive && (j = j.add(e._$tooltip)), e.__options.triggerClose.mouseleave && (k += "mouseenter." + e.__namespace + "-triggerClose ", l += "mouseleave." + e.__namespace + "-triggerClose "), e.__options.triggerClose.touchleave && h.hasTouchCapability && (k += "touchstart." + e.__namespace + "-triggerClose", l += "touchend." + e.__namespace + "-triggerClose touchcancel." + e.__namespace + "-triggerClose"), j.on(l, function(a) {
                                if (e._touchIsTouchEvent(a) || !e._touchIsEmulatedEvent(a)) {
                                    var b = "mouseleave" == a.type ? e.__options.delay : e.__options.delayTouch;
                                    e._trigger({
                                        delay: b[1],
                                        dismissable: !0,
                                        event: a,
                                        type: "dismissable"
                                    });
                                }
                            }).on(k, function(a) {
                                !e._touchIsTouchEvent(a) && e._touchIsEmulatedEvent(a) || e._trigger({
                                    dismissable: !1,
                                    event: a,
                                    type: "dismissable"
                                });
                            });
                        }
                        e.__options.triggerClose.originClick && e._$origin.on("click." + e.__namespace + "-triggerClose", function(a) {
                            e._touchIsTouchEvent(a) || e._touchIsEmulatedEvent(a) || e._close(a);
                        }), (e.__options.triggerClose.click || e.__options.triggerClose.tap && h.hasTouchCapability) && setTimeout(function() {
                            if ("closed" != e.__state) {
                                var b = "",
                                    c = a(h.window.document.body);
                                e.__options.triggerClose.click && (b += "click." + e.__namespace + "-triggerClose "), e.__options.triggerClose.tap && h.hasTouchCapability && (b += "touchend." + e.__namespace + "-triggerClose"), c.on(b, function(b) {
                                    e._touchIsMeaningfulEvent(b) && (e._touchRecordEvent(b), e.__options.interactive && a.contains(e._$tooltip[0], b.target) || e._close(b));
                                }), e.__options.triggerClose.tap && h.hasTouchCapability && c.on("touchstart." + e.__namespace + "-triggerClose", function(a) {
                                    e._touchRecordEvent(a);
                                });
                            }
                        }, 0), e._trigger("ready"), e.__options.functionReady && e.__options.functionReady.call(e, e, {
                            origin: e._$origin[0],
                            tooltip: e._$tooltip[0]
                        });
                    }
                    if (e.__options.timer > 0) {
                        var m = setTimeout(function() {
                            e._close();
                        }, e.__options.timer + g);
                        e.__timeouts.close.push(m);
                    }
                }
            }
            return e;
        },
        _openShortly: function(a) {
            var b = this,
                c = !0;
            if ("stable" != b.__state && "appearing" != b.__state && !b.__timeouts.open && (b._trigger({
                    type: "start",
                    event: a,
                    stop: function() {
                        c = !1;
                    }
                }), c)) {
                var d = 0 == a.type.indexOf("touch") ? b.__options.delayTouch : b.__options.delay;
                d[0] ? b.__timeouts.open = setTimeout(function() {
                    b.__timeouts.open = null, b.__pointerIsOverOrigin && b._touchIsMeaningfulEvent(a) ? (b._trigger("startend"), b._open(a)) : b._trigger("startcancel");
                }, d[0]) : (b._trigger("startend"), b._open(a));
            }
            return b;
        },
        _optionsExtract: function(b, c) {
            var d = this,
                e = a.extend(!0, {}, c),
                f = d.__options[b];
            return f || (f = {}, a.each(c, function(a, b) {
                var c = d.__options[a];
                void 0 !== c && (f[a] = c);
            })), a.each(e, function(b, c) {
                void 0 !== f[b] && ("object" != typeof c || c instanceof Array || null == c || "object" != typeof f[b] || f[b] instanceof Array || null == f[b] ? e[b] = f[b] : a.extend(e[b], f[b]));
            }), e;
        },
        _plug: function(b) {
            var c = a.tooltipster._plugin(b);
            if (!c) throw new Error('The "' + b + '" plugin is not defined');
            return c.instance && a.tooltipster.__bridge(c.instance, this, c.name), this;
        },
        _touchIsEmulatedEvent: function(a) {
            for (var b = !1, c = new Date().getTime(), d = this.__touchEvents.length - 1; d >= 0; d--) {
                var e = this.__touchEvents[d];
                if (!(c - e.time < 500)) break;
                e.target === a.target && (b = !0);
            }
            return b;
        },
        _touchIsMeaningfulEvent: function(a) {
            return this._touchIsTouchEvent(a) && !this._touchSwiped(a.target) || !this._touchIsTouchEvent(a) && !this._touchIsEmulatedEvent(a);
        },
        _touchIsTouchEvent: function(a) {
            return 0 == a.type.indexOf("touch");
        },
        _touchRecordEvent: function(a) {
            return this._touchIsTouchEvent(a) && (a.time = new Date().getTime(), this.__touchEvents.push(a)), this;
        },
        _touchSwiped: function(a) {
            for (var b = !1, c = this.__touchEvents.length - 1; c >= 0; c--) {
                var d = this.__touchEvents[c];
                if ("touchmove" == d.type) {
                    b = !0;
                    break;
                }
                if ("touchstart" == d.type && a === d.target) break;
            }
            return b;
        },
        _trigger: function() {
            var b = Array.prototype.slice.apply(arguments);
            return "string" == typeof b[0] && (b[0] = {
                type: b[0]
            }), b[0].instance = this, b[0].origin = this._$origin ? this._$origin[0] : null, b[0].tooltip = this._$tooltip ? this._$tooltip[0] : null, this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate, b), a.tooltipster._trigger.apply(a.tooltipster, b), this.__$emitterPublic.trigger.apply(this.__$emitterPublic, b), this;
        },
        _unplug: function(b) {
            var c = this;
            if (c[b]) {
                var d = a.tooltipster._plugin(b);
                d.instance && a.each(d.instance, function(a, d) {
                    c[a] && c[a].bridged === c[b] && delete c[a];
                }), c[b].__destroy && c[b].__destroy(), delete c[b];
            }
            return c;
        },
        close: function(a) {
            return this.__destroyed ? this.__destroyError() : this._close(null, a), this;
        },
        content: function(a) {
            var b = this;
            if (void 0 === a) return b.__Content;
            if (b.__destroyed) b.__destroyError();
            else if (b.__contentSet(a), null !== b.__Content) {
                if ("closed" !== b.__state && (b.__contentInsert(), b.reposition(), b.__options.updateAnimation))
                    if (h.hasTransitions) {
                        var c = b.__options.updateAnimation;
                        b._$tooltip.addClass("tooltipster-update-" + c), setTimeout(function() {
                            "closed" != b.__state && b._$tooltip.removeClass("tooltipster-update-" + c);
                        }, 1e3);
                    } else b._$tooltip.fadeTo(200, .5, function() {
                        "closed" != b.__state && b._$tooltip.fadeTo(200, 1);
                    });
            } else b._close();
            return b;
        },
        destroy: function() {
            var b = this;
            if (b.__destroyed) b.__destroyError();
            else {
                "closed" != b.__state ? b.option("animationDuration", 0)._close(null, null, !0) : b.__timeoutsClear(), b._trigger("destroy"), b.__destroyed = !0, b._$origin.removeData(b.__namespace).off("." + b.__namespace + "-triggerOpen"), a(h.window.document.body).off("." + b.__namespace + "-triggerOpen");
                var c = b._$origin.data("tooltipster-ns");
                if (c)
                    if (1 === c.length) {
                        var d = null;
                        "previous" == b.__options.restoration ? d = b._$origin.data("tooltipster-initialTitle") : "current" == b.__options.restoration && (d = "string" == typeof b.__Content ? b.__Content : a("<div></div>").append(b.__Content).html()), d && b._$origin.attr("title", d), b._$origin.removeClass("tooltipstered"), b._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle");
                    } else c = a.grep(c, function(a, c) {
                        return a !== b.__namespace;
                    }), b._$origin.data("tooltipster-ns", c);
                b._trigger("destroyed"), b._off(), b.off(), b.__Content = null, b.__$emitterPrivate = null, b.__$emitterPublic = null, b.__options.parent = null, b._$origin = null, b._$tooltip = null, a.tooltipster.__instancesLatestArr = a.grep(a.tooltipster.__instancesLatestArr, function(a, c) {
                    return b !== a;
                }), clearInterval(b.__garbageCollector);
            }
            return b;
        },
        disable: function() {
            return this.__destroyed ? (this.__destroyError(), this) : (this._close(), this.__enabled = !1, this);
        },
        elementOrigin: function() {
            return this.__destroyed ? void this.__destroyError() : this._$origin[0];
        },
        elementTooltip: function() {
            return this._$tooltip ? this._$tooltip[0] : null;
        },
        enable: function() {
            return this.__enabled = !0, this;
        },
        hide: function(a) {
            return this.close(a);
        },
        instance: function() {
            return this;
        },
        off: function() {
            return this.__destroyed || this.__$emitterPublic.off.apply(this.__$emitterPublic, Array.prototype.slice.apply(arguments)), this;
        },
        on: function() {
            return this.__destroyed ? this.__destroyError() : this.__$emitterPublic.on.apply(this.__$emitterPublic, Array.prototype.slice.apply(arguments)), this;
        },
        one: function() {
            return this.__destroyed ? this.__destroyError() : this.__$emitterPublic.one.apply(this.__$emitterPublic, Array.prototype.slice.apply(arguments)), this;
        },
        open: function(a) {
            return this.__destroyed ? this.__destroyError() : this._open(null, a), this;
        },
        option: function(b, c) {
            return void 0 === c ? this.__options[b] : (this.__destroyed ? this.__destroyError() : (this.__options[b] = c, this.__optionsFormat(), a.inArray(b, ["trigger", "triggerClose", "triggerOpen"]) >= 0 && this.__prepareOrigin(), "selfDestruction" === b && this.__prepareGC()), this);
        },
        reposition: function(a, b) {
            var c = this;
            return c.__destroyed ? c.__destroyError() : "closed" != c.__state && d(c._$origin) && (b || d(c._$tooltip)) && (b || c._$tooltip.detach(), c.__Geometry = c.__geometry(), c._trigger({
                type: "reposition",
                event: a,
                helper: {
                    geo: c.__Geometry
                }
            })), c;
        },
        show: function(a) {
            return this.open(a);
        },
        status: function() {
            return {
                destroyed: this.__destroyed,
                enabled: this.__enabled,
                open: "closed" !== this.__state,
                state: this.__state
            };
        },
        triggerHandler: function() {
            return this.__destroyed ? this.__destroyError() : this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic, Array.prototype.slice.apply(arguments)), this;
        }
    }, a.fn.tooltipster = function() {
        var b = Array.prototype.slice.apply(arguments),
            c = "You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";
        if (0 === this.length) return this;
        if ("string" == typeof b[0]) {
            var d = "#*$~&";
            return this.each(function() {
                var e = a(this).data("tooltipster-ns"),
                    f = e ? a(this).data(e[0]) : null;
                if (!f) throw new Error("You called Tooltipster's \"" + b[0] + '" method on an uninitialized element');
                if ("function" != typeof f[b[0]]) throw new Error('Unknown method "' + b[0] + '"');
                this.length > 1 && "content" == b[0] && (b[1] instanceof a || "object" == typeof b[1] && null != b[1] && b[1].tagName) && !f.__options.contentCloning && f.__options.debug && console.log(c);
                var g = f[b[0]](b[1], b[2]);
                return g !== f || "instance" === b[0] ? (d = g, !1) : void 0;
            }), "#*$~&" !== d ? d : this;
        }
        a.tooltipster.__instancesLatestArr = [];
        var e = b[0] && void 0 !== b[0].multiple,
            g = e && b[0].multiple || !e && f.multiple,
            h = b[0] && void 0 !== b[0].content,
            i = h && b[0].content || !h && f.content,
            j = b[0] && void 0 !== b[0].contentCloning,
            k = j && b[0].contentCloning || !j && f.contentCloning,
            l = b[0] && void 0 !== b[0].debug,
            m = l && b[0].debug || !l && f.debug;
        return this.length > 1 && (i instanceof a || "object" == typeof i && null != i && i.tagName) && !k && m && console.log(c), this.each(function() {
            var c = !1,
                d = a(this),
                e = d.data("tooltipster-ns"),
                f = null;
            e ? g ? c = !0 : m && (console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."), console.log(this)) : c = !0, c && (f = new a.Tooltipster(this, b[0]), e || (e = []), e.push(f.__namespace), d.data("tooltipster-ns", e), d.data(f.__namespace, f), f.__options.functionInit && f.__options.functionInit.call(f, f, {
                origin: this
            }), f._trigger("init")), a.tooltipster.__instancesLatestArr.push(f);
        }), this;
    }, b.prototype = {
        __init: function(b) {
            this.__$tooltip = b, this.__$tooltip.css({
                left: 0,
                overflow: "hidden",
                position: "absolute",
                top: 0
            }).find(".tooltipster-content").css("overflow", "auto"), this.$container = a('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(h.window.document.body);
        },
        __forceRedraw: function() {
            var a = this.__$tooltip.parent();
            this.__$tooltip.detach(), this.__$tooltip.appendTo(a);
        },
        constrain: function(a, b) {
            return this.constraints = {
                width: a,
                height: b
            }, this.__$tooltip.css({
                display: "block",
                height: "",
                overflow: "auto",
                width: a
            }), this;
        },
        destroy: function() {
            this.__$tooltip.detach().find(".tooltipster-content").css({
                display: "",
                overflow: ""
            }), this.$container.remove();
        },
        free: function() {
            return this.constraints = null, this.__$tooltip.css({
                display: "",
                height: "",
                overflow: "visible",
                width: ""
            }), this;
        },
        measure: function() {
            this.__forceRedraw();
            var a = this.__$tooltip[0].getBoundingClientRect(),
                b = {
                    size: {
                        height: a.height || a.bottom - a.top,
                        width: a.width || a.right - a.left
                    }
                };
            if (this.constraints) {
                var c = this.__$tooltip.find(".tooltipster-content"),
                    d = this.__$tooltip.outerHeight(),
                    e = c[0].getBoundingClientRect(),
                    f = {
                        height: d <= this.constraints.height,
                        width: a.width <= this.constraints.width && e.width >= c[0].scrollWidth - 1
                    };
                b.fits = f.height && f.width;
            }
            return h.IE && h.IE <= 11 && b.size.width !== h.window.document.documentElement.clientWidth && (b.size.width = Math.ceil(b.size.width) + 1), b;
        }
    };
    var j = navigator.userAgent.toLowerCase(); - 1 != j.indexOf("msie") ? h.IE = parseInt(j.split("msie")[1]) : -1 !== j.toLowerCase().indexOf("trident") && -1 !== j.indexOf(" rv:11") ? h.IE = 11 : -1 != j.toLowerCase().indexOf("edge/") && (h.IE = parseInt(j.toLowerCase().split("edge/")[1]));
    var k = "tooltipster.sideTip";
    return a.tooltipster._plugin({
        name: k,
        instance: {
            __defaults: function() {
                return {
                    arrow: !0,
                    distance: 6,
                    functionPosition: null,
                    maxWidth: null,
                    minIntersection: 16,
                    minWidth: 0,
                    position: null,
                    side: "top",
                    viewportAware: !0
                };
            },
            __init: function(a) {
                var b = this;
                b.__instance = a, b.__namespace = "tooltipster-sideTip-" + Math.round(1e6 * Math.random()), b.__previousState = "closed", b.__options, b.__optionsFormat(), b.__instance._on("state." + b.__namespace, function(a) {
                    "closed" == a.state ? b.__close() : "appearing" == a.state && "closed" == b.__previousState && b.__create(), b.__previousState = a.state;
                }), b.__instance._on("options." + b.__namespace, function() {
                    b.__optionsFormat();
                }), b.__instance._on("reposition." + b.__namespace, function(a) {
                    b.__reposition(a.event, a.helper);
                });
            },
            __close: function() {
                this.__instance.content() instanceof a && this.__instance.content().detach(), this.__instance._$tooltip.remove(), this.__instance._$tooltip = null;
            },
            __create: function() {
                var b = a('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');
                this.__options.arrow || b.find(".tooltipster-box").css("margin", 0).end().find(".tooltipster-arrow").hide(), this.__options.minWidth && b.css("min-width", this.__options.minWidth + "px"), this.__options.maxWidth && b.css("max-width", this.__options.maxWidth + "px"), this.__instance._$tooltip = b, this.__instance._trigger("created");
            },
            __destroy: function() {
                this.__instance._off("." + self.__namespace);
            },
            __optionsFormat: function() {
                var b = this;
                if (b.__options = b.__instance._optionsExtract(k, b.__defaults()), b.__options.position && (b.__options.side = b.__options.position), "object" != typeof b.__options.distance && (b.__options.distance = [b.__options.distance]), b.__options.distance.length < 4 && (void 0 === b.__options.distance[1] && (b.__options.distance[1] = b.__options.distance[0]), void 0 === b.__options.distance[2] && (b.__options.distance[2] = b.__options.distance[0]), void 0 === b.__options.distance[3] && (b.__options.distance[3] = b.__options.distance[1]), b.__options.distance = {
                        top: b.__options.distance[0],
                        right: b.__options.distance[1],
                        bottom: b.__options.distance[2],
                        left: b.__options.distance[3]
                    }), "string" == typeof b.__options.side) {
                    var c = {
                        top: "bottom",
                        right: "left",
                        bottom: "top",
                        left: "right"
                    };
                    b.__options.side = [b.__options.side, c[b.__options.side]], "left" == b.__options.side[0] || "right" == b.__options.side[0] ? b.__options.side.push("top", "bottom") : b.__options.side.push("right", "left");
                }
                6 === a.tooltipster._env.IE && b.__options.arrow !== !0 && (b.__options.arrow = !1);
            },
            __reposition: function(b, c) {
                var d, e = this,
                    f = e.__targetFind(c),
                    g = [];
                e.__instance._$tooltip.detach();
                var h = e.__instance._$tooltip.clone(),
                    i = a.tooltipster._getRuler(h),
                    j = !1,
                    k = e.__instance.option("animation");
                switch (k && h.removeClass("tooltipster-" + k), a.each(["window", "document"], function(d, k) {
                    var l = null;
                    if (e.__instance._trigger({
                            container: k,
                            helper: c,
                            satisfied: j,
                            takeTest: function(a) {
                                l = a;
                            },
                            results: g,
                            type: "positionTest"
                        }), 1 == l || 0 != l && 0 == j && ("window" != k || e.__options.viewportAware))
                        for (var d = 0; d < e.__options.side.length; d++) {
                            var m = {
                                    horizontal: 0,
                                    vertical: 0
                                },
                                n = e.__options.side[d];
                            "top" == n || "bottom" == n ? m.vertical = e.__options.distance[n] : m.horizontal = e.__options.distance[n], e.__sideChange(h, n), a.each(["natural", "constrained"], function(a, d) {
                                if (l = null, e.__instance._trigger({
                                        container: k,
                                        event: b,
                                        helper: c,
                                        mode: d,
                                        results: g,
                                        satisfied: j,
                                        side: n,
                                        takeTest: function(a) {
                                            l = a;
                                        },
                                        type: "positionTest"
                                    }), 1 == l || 0 != l && 0 == j) {
                                    var h = {
                                            container: k,
                                            distance: m,
                                            fits: null,
                                            mode: d,
                                            outerSize: null,
                                            side: n,
                                            size: null,
                                            target: f[n],
                                            whole: null
                                        },
                                        o = "natural" == d ? i.free() : i.constrain(c.geo.available[k][n].width - m.horizontal, c.geo.available[k][n].height - m.vertical),
                                        p = o.measure();
                                    if (h.size = p.size, h.outerSize = {
                                            height: p.size.height + m.vertical,
                                            width: p.size.width + m.horizontal
                                        }, "natural" == d ? c.geo.available[k][n].width >= h.outerSize.width && c.geo.available[k][n].height >= h.outerSize.height ? h.fits = !0 : h.fits = !1 : h.fits = p.fits, "window" == k && (h.fits ? "top" == n || "bottom" == n ? h.whole = c.geo.origin.windowOffset.right >= e.__options.minIntersection && c.geo.window.size.width - c.geo.origin.windowOffset.left >= e.__options.minIntersection : h.whole = c.geo.origin.windowOffset.bottom >= e.__options.minIntersection && c.geo.window.size.height - c.geo.origin.windowOffset.top >= e.__options.minIntersection : h.whole = !1), g.push(h), h.whole) j = !0;
                                    else if ("natural" == h.mode && (h.fits || h.size.width <= c.geo.available[k][n].width)) return !1;
                                }
                            });
                        }
                }), e.__instance._trigger({
                    edit: function(a) {
                        g = a;
                    },
                    event: b,
                    helper: c,
                    results: g,
                    type: "positionTested"
                }), g.sort(function(a, b) {
                    if (a.whole && !b.whole) return -1;
                    if (!a.whole && b.whole) return 1;
                    if (a.whole && b.whole) {
                        var c = e.__options.side.indexOf(a.side),
                            d = e.__options.side.indexOf(b.side);
                        return d > c ? -1 : c > d ? 1 : "natural" == a.mode ? -1 : 1;
                    }
                    if (a.fits && !b.fits) return -1;
                    if (!a.fits && b.fits) return 1;
                    if (a.fits && b.fits) {
                        var c = e.__options.side.indexOf(a.side),
                            d = e.__options.side.indexOf(b.side);
                        return d > c ? -1 : c > d ? 1 : "natural" == a.mode ? -1 : 1;
                    }
                    return "document" == a.container && "bottom" == a.side && "natural" == a.mode ? -1 : 1;
                }), d = g[0], d.coord = {}, d.side) {
                    case "left":
                    case "right":
                        d.coord.top = Math.floor(d.target - d.size.height / 2);
                        break;
                    case "bottom":
                    case "top":
                        d.coord.left = Math.floor(d.target - d.size.width / 2);
                }
                switch (d.side) {
                    case "left":
                        d.coord.left = c.geo.origin.windowOffset.left - d.outerSize.width;
                        break;
                    case "right":
                        d.coord.left = c.geo.origin.windowOffset.right + d.distance.horizontal;
                        break;
                    case "top":
                        d.coord.top = c.geo.origin.windowOffset.top - d.outerSize.height;
                        break;
                    case "bottom":
                        d.coord.top = c.geo.origin.windowOffset.bottom + d.distance.vertical;
                }
                "window" == d.container ? "top" == d.side || "bottom" == d.side ? d.coord.left < 0 ? c.geo.origin.windowOffset.right - this.__options.minIntersection >= 0 ? d.coord.left = 0 : d.coord.left = c.geo.origin.windowOffset.right - this.__options.minIntersection - 1 : d.coord.left > c.geo.window.size.width - d.size.width && (c.geo.origin.windowOffset.left + this.__options.minIntersection <= c.geo.window.size.width ? d.coord.left = c.geo.window.size.width - d.size.width : d.coord.left = c.geo.origin.windowOffset.left + this.__options.minIntersection + 1 - d.size.width) : d.coord.top < 0 ? c.geo.origin.windowOffset.bottom - this.__options.minIntersection >= 0 ? d.coord.top = 0 : d.coord.top = c.geo.origin.windowOffset.bottom - this.__options.minIntersection - 1 : d.coord.top > c.geo.window.size.height - d.size.height && (c.geo.origin.windowOffset.top + this.__options.minIntersection <= c.geo.window.size.height ? d.coord.top = c.geo.window.size.height - d.size.height : d.coord.top = c.geo.origin.windowOffset.top + this.__options.minIntersection + 1 - d.size.height) : (d.coord.left > c.geo.window.size.width - d.size.width && (d.coord.left = c.geo.window.size.width - d.size.width), d.coord.left < 0 && (d.coord.left = 0)), e.__sideChange(h, d.side), c.tooltipClone = h[0], c.tooltipParent = e.__instance.option("parent").parent[0], c.mode = d.mode, c.whole = d.whole, c.origin = e.__instance._$origin[0], c.tooltip = e.__instance._$tooltip[0], delete d.container, delete d.fits, delete d.mode, delete d.outerSize, delete d.whole, d.distance = d.distance.horizontal || d.distance.vertical;
                var l = a.extend(!0, {}, d);
                if (e.__instance._trigger({
                        edit: function(a) {
                            d = a;
                        },
                        event: b,
                        helper: c,
                        position: l,
                        type: "position"
                    }), e.__options.functionPosition) {
                    var m = e.__options.functionPosition.call(e, e.__instance, c, l);
                    m && (d = m);
                }
                i.destroy();
                var n, o;
                "top" == d.side || "bottom" == d.side ? (n = {
                    prop: "left",
                    val: d.target - d.coord.left
                }, o = d.size.width - this.__options.minIntersection) : (n = {
                    prop: "top",
                    val: d.target - d.coord.top
                }, o = d.size.height - this.__options.minIntersection), n.val < this.__options.minIntersection ? n.val = this.__options.minIntersection : n.val > o && (n.val = o);
                var p;
                p = c.geo.origin.fixedLineage ? c.geo.origin.windowOffset : {
                    left: c.geo.origin.windowOffset.left + c.geo.window.scroll.left,
                    top: c.geo.origin.windowOffset.top + c.geo.window.scroll.top
                }, d.coord = {
                    left: p.left + (d.coord.left - c.geo.origin.windowOffset.left),
                    top: p.top + (d.coord.top - c.geo.origin.windowOffset.top)
                }, e.__sideChange(e.__instance._$tooltip, d.side), c.geo.origin.fixedLineage ? e.__instance._$tooltip.css("position", "fixed") : e.__instance._$tooltip.css("position", ""), e.__instance._$tooltip.css({
                    left: d.coord.left,
                    top: d.coord.top,
                    height: d.size.height,
                    width: d.size.width
                }).find(".tooltipster-arrow").css({
                    left: "",
                    top: ""
                }).css(n.prop, n.val), e.__instance._$tooltip.appendTo(e.__instance.option("parent")), e.__instance._trigger({
                    type: "repositioned",
                    event: b,
                    position: d
                });
            },
            __sideChange: function(a, b) {
                a.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-" + b);
            },
            __targetFind: function(a) {
                var b = {},
                    c = this.__instance._$origin[0].getClientRects();
                if (c.length > 1) {
                    var d = this.__instance._$origin.css("opacity");
                    1 == d && (this.__instance._$origin.css("opacity", .99), c = this.__instance._$origin[0].getClientRects(), this.__instance._$origin.css("opacity", 1));
                }
                if (c.length < 2) b.top = Math.floor(a.geo.origin.windowOffset.left + a.geo.origin.size.width / 2), b.bottom = b.top, b.left = Math.floor(a.geo.origin.windowOffset.top + a.geo.origin.size.height / 2), b.right = b.left;
                else {
                    var e = c[0];
                    b.top = Math.floor(e.left + (e.right - e.left) / 2), e = c.length > 2 ? c[Math.ceil(c.length / 2) - 1] : c[0], b.right = Math.floor(e.top + (e.bottom - e.top) / 2), e = c[c.length - 1], b.bottom = Math.floor(e.left + (e.right - e.left) / 2), e = c.length > 2 ? c[Math.ceil((c.length + 1) / 2) - 1] : c[c.length - 1], b.left = Math.floor(e.top + (e.bottom - e.top) / 2);
                }
                return b;
            }
        }
    }), a;
});
/**
 * jQuery CSS Customizable Scrollbar
 *
 * Copyright 2015, Yuriy Khabarov
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * If you found bug, please contact me via email <13real008@gmail.com>
 *
 * Compressed by http://jscompress.com/
 *
 * @author Yuriy Khabarov aka Gromo
 * @version 0.2.11
 * @url https://github.com/gromo/jquery.scrollbar/
 *
 */
! function(a, b) {
    "function" == typeof define && define.amd ? define(["jquery"], b) : b("undefined" != typeof exports ? require("jquery") : a.jQuery);
}(this, function(a) {
    "use strict";

    function h(b) {
        if (c.webkit && !b) return {
            height: 0,
            width: 0
        };
        if (!c.data.outer) {
            var d = {
                border: "none",
                "box-sizing": "content-box",
                height: "200px",
                margin: "0",
                padding: "0",
                width: "200px"
            };
            c.data.inner = a("<div>").css(a.extend({}, d)), c.data.outer = a("<div>").css(a.extend({
                left: "-1000px",
                overflow: "scroll",
                position: "absolute",
                top: "-1000px"
            }, d)).append(c.data.inner).appendTo("body");
        }
        return c.data.outer.scrollLeft(1e3).scrollTop(1e3), {
            height: Math.ceil(c.data.outer.offset().top - c.data.inner.offset().top || 0),
            width: Math.ceil(c.data.outer.offset().left - c.data.inner.offset().left || 0)
        };
    }

    function i() {
        var a = h(!0);
        return !(a.height || a.width);
    }

    function j(a) {
        var b = a.originalEvent;
        return (!b.axis || b.axis !== b.HORIZONTAL_AXIS) && !b.wheelDeltaX;
    }
    var b = !1,
        c = {
            data: {
                index: 0,
                name: "scrollbar"
            },
            firefox: /firefox/i.test(navigator.userAgent),
            macosx: /mac/i.test(navigator.platform),
            msedge: /edge\/\d+/i.test(navigator.userAgent),
            msie: /(msie|trident)/i.test(navigator.userAgent),
            mobile: /android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),
            overlay: null,
            scroll: null,
            scrolls: [],
            webkit: /webkit/i.test(navigator.userAgent) && !/edge\/\d+/i.test(navigator.userAgent)
        };
    c.scrolls.add = function(a) {
        this.remove(a).push(a);
    }, c.scrolls.remove = function(b) {
        for (; a.inArray(b, this) >= 0;) this.splice(a.inArray(b, this), 1);
        return this;
    };
    var d = {
            autoScrollSize: !0,
            autoUpdate: !0,
            debug: !1,
            disableBodyScroll: !1,
            duration: 200,
            ignoreMobile: !1,
            ignoreOverlay: !1,
            isRtl: !1,
            scrollStep: 30,
            showArrows: !1,
            stepScrolling: !0,
            scrollx: null,
            scrolly: null,
            onDestroy: null,
            onFallback: null,
            onInit: null,
            onScroll: null,
            onUpdate: null
        },
        e = function(b) {
            c.scroll || (c.overlay = i(), c.scroll = h(), g(), a(window).resize(function() {
                var a = !1;
                if (c.scroll && (c.scroll.height || c.scroll.width)) {
                    var b = h();
                    b.height === c.scroll.height && b.width === c.scroll.width || (c.scroll = b, a = !0);
                }
                g(a);
            })), this.container = b, this.namespace = ".scrollbar_" + c.data.index++, this.options = a.extend({}, d, window.jQueryScrollbarOptions || {}), this.scrollTo = null, this.scrollx = {}, this.scrolly = {}, b.data(c.data.name, this), c.scrolls.add(this);
        };
    e.prototype = {
        destroy: function() {
            if (this.wrapper) {
                this.container.removeData(c.data.name), c.scrolls.remove(this);
                var b = this.container.scrollLeft(),
                    d = this.container.scrollTop();
                this.container.insertBefore(this.wrapper).css({
                    height: "",
                    margin: "",
                    "max-height": ""
                }).removeClass("scroll-content scroll-scrollx_visible scroll-scrolly_visible").off(this.namespace).scrollLeft(b).scrollTop(d), this.scrollx.scroll.removeClass("scroll-scrollx_visible").find("div").addBack().off(this.namespace), this.scrolly.scroll.removeClass("scroll-scrolly_visible").find("div").addBack().off(this.namespace), this.wrapper.remove(), a(document).add("body").off(this.namespace), a.isFunction(this.options.onDestroy) && this.options.onDestroy.apply(this, [this.container]);
            }
        },
        init: function(b) {
            var d = this,
                e = this.container,
                f = this.containerWrapper || e,
                g = this.namespace,
                h = a.extend(this.options, b || {}),
                i = {
                    x: this.scrollx,
                    y: this.scrolly
                },
                k = this.wrapper,
                l = {},
                m = {
                    scrollLeft: e.scrollLeft(),
                    scrollTop: e.scrollTop()
                };
            if (c.mobile && h.ignoreMobile || c.overlay && h.ignoreOverlay || c.macosx && !c.webkit) return a.isFunction(h.onFallback) && h.onFallback.apply(this, [e]), !1;
            if (k) l = {
                height: "auto",
                "margin-bottom": c.scroll.height * -1 + "px",
                "max-height": ""
            }, l[h.isRtl ? "margin-left" : "margin-right"] = c.scroll.width * -1 + "px", f.css(l);
            else {
                if (this.wrapper = k = a("<div>").addClass("scroll-wrapper").addClass(e.attr("class")).css("position", "absolute" === e.css("position") ? "absolute" : "relative").insertBefore(e).append(e), h.isRtl && k.addClass("scroll--rtl"), e.is("textarea") && (this.containerWrapper = f = a("<div>").insertBefore(e).append(e), k.addClass("scroll-textarea")), l = {
                        height: "auto",
                        "margin-bottom": c.scroll.height * -1 + "px",
                        "max-height": ""
                    }, l[h.isRtl ? "margin-left" : "margin-right"] = c.scroll.width * -1 + "px", f.addClass("scroll-content").css(l), e.on("scroll" + g, function(b) {
                        var f = e.scrollLeft(),
                            g = e.scrollTop();
                        if (h.isRtl) switch (!0) {
                            case c.firefox:
                                f = Math.abs(f);
                            case c.msedge || c.msie:
                                f = e[0].scrollWidth - e[0].clientWidth - f;
                        }
                        a.isFunction(h.onScroll) && h.onScroll.call(d, {
                            maxScroll: i.y.maxScrollOffset,
                            scroll: g,
                            size: i.y.size,
                            visible: i.y.visible
                        }, {
                            maxScroll: i.x.maxScrollOffset,
                            scroll: f,
                            size: i.x.size,
                            visible: i.x.visible
                        }), i.x.isVisible && i.x.scroll.bar.css("left", f * i.x.kx + "px"), i.y.isVisible && i.y.scroll.bar.css("top", g * i.y.kx + "px");
                    }), k.on("scroll" + g, function() {
                        k.scrollTop(0).scrollLeft(0);
                    }), h.disableBodyScroll) {
                    var n = function(a) {
                        j(a) ? i.y.isVisible && i.y.mousewheel(a) : i.x.isVisible && i.x.mousewheel(a);
                    };
                    k.on("MozMousePixelScroll" + g, n), k.on("mousewheel" + g, n), c.mobile && k.on("touchstart" + g, function(b) {
                        var c = b.originalEvent.touches && b.originalEvent.touches[0] || b,
                            d = {
                                pageX: c.pageX,
                                pageY: c.pageY
                            },
                            f = {
                                left: e.scrollLeft(),
                                top: e.scrollTop()
                            };
                        a(document).on("touchmove" + g, function(a) {
                            var b = a.originalEvent.targetTouches && a.originalEvent.targetTouches[0] || a;
                            e.scrollLeft(f.left + d.pageX - b.pageX), e.scrollTop(f.top + d.pageY - b.pageY), a.preventDefault();
                        }), a(document).on("touchend" + g, function() {
                            a(document).off(g);
                        });
                    });
                }
                a.isFunction(h.onInit) && h.onInit.apply(this, [e]);
            }
            a.each(i, function(b, f) {
                var k = null,
                    l = 1,
                    m = "x" === b ? "scrollLeft" : "scrollTop",
                    n = h.scrollStep,
                    o = function() {
                        var a = e[m]();
                        e[m](a + n), 1 == l && a + n >= p && (a = e[m]()), l == -1 && a + n <= p && (a = e[m]()), e[m]() == a && k && k();
                    },
                    p = 0;
                f.scroll || (f.scroll = d._getScroll(h["scroll" + b]).addClass("scroll-" + b), h.showArrows && f.scroll.addClass("scroll-element_arrows_visible"), f.mousewheel = function(a) {
                    if (!f.isVisible || "x" === b && j(a)) return !0;
                    if ("y" === b && !j(a)) return i.x.mousewheel(a), !0;
                    var c = a.originalEvent.wheelDelta * -1 || a.originalEvent.detail,
                        g = f.size - f.visible - f.offset;
                    return c || ("x" === b && a.originalEvent.deltaX ? c = 40 * a.originalEvent.deltaX : "y" === b && a.originalEvent.deltaY && (c = 40 * a.originalEvent.deltaY)), (c > 0 && p < g || c < 0 && p > 0) && (p += c, p < 0 && (p = 0), p > g && (p = g), d.scrollTo = d.scrollTo || {}, d.scrollTo[m] = p, setTimeout(function() {
                        d.scrollTo && (e.stop().animate(d.scrollTo, 240, "linear", function() {
                            p = e[m]();
                        }), d.scrollTo = null);
                    }, 1)), a.preventDefault(), !1;
                }, f.scroll.on("MozMousePixelScroll" + g, f.mousewheel).on("mousewheel" + g, f.mousewheel).on("mouseenter" + g, function() {
                    p = e[m]();
                }), f.scroll.find(".scroll-arrow, .scroll-element_track").on("mousedown" + g, function(g) {
                    if (1 != g.which) return !0;
                    l = 1;
                    var i = {
                            eventOffset: g["x" === b ? "pageX" : "pageY"],
                            maxScrollValue: f.size - f.visible - f.offset,
                            scrollbarOffset: f.scroll.bar.offset()["x" === b ? "left" : "top"],
                            scrollbarSize: f.scroll.bar["x" === b ? "outerWidth" : "outerHeight"]()
                        },
                        j = 0,
                        q = 0;
                    if (a(this).hasClass("scroll-arrow")) {
                        if (l = a(this).hasClass("scroll-arrow_more") ? 1 : -1, n = h.scrollStep * l, p = l > 0 ? i.maxScrollValue : 0, h.isRtl) switch (!0) {
                            case c.firefox:
                                p = l > 0 ? 0 : i.maxScrollValue * -1;
                                break;
                            case c.msie || c.msedge:
                        }
                    } else l = i.eventOffset > i.scrollbarOffset + i.scrollbarSize ? 1 : i.eventOffset < i.scrollbarOffset ? -1 : 0, "x" === b && h.isRtl && (c.msie || c.msedge) && (l *= -1), n = Math.round(.75 * f.visible) * l, p = i.eventOffset - i.scrollbarOffset - (h.stepScrolling ? 1 == l ? i.scrollbarSize : 0 : Math.round(i.scrollbarSize / 2)), p = e[m]() + p / f.kx;
                    return d.scrollTo = d.scrollTo || {}, d.scrollTo[m] = h.stepScrolling ? e[m]() + n : p, h.stepScrolling && (k = function() {
                        p = e[m](), clearInterval(q), clearTimeout(j), j = 0, q = 0;
                    }, j = setTimeout(function() {
                        q = setInterval(o, 40);
                    }, h.duration + 100)), setTimeout(function() {
                        d.scrollTo && (e.animate(d.scrollTo, h.duration), d.scrollTo = null);
                    }, 1), d._handleMouseDown(k, g);
                }), f.scroll.bar.on("mousedown" + g, function(i) {
                    if (1 != i.which) return !0;
                    var j = i["x" === b ? "pageX" : "pageY"],
                        k = e[m]();
                    return f.scroll.addClass("scroll-draggable"), a(document).on("mousemove" + g, function(a) {
                        var d = parseInt((a["x" === b ? "pageX" : "pageY"] - j) / f.kx, 10);
                        "x" === b && h.isRtl && (c.msie || c.msedge) && (d *= -1), e[m](k + d);
                    }), d._handleMouseDown(function() {
                        f.scroll.removeClass("scroll-draggable"), p = e[m]();
                    }, i);
                }));
            }), a.each(i, function(a, b) {
                var c = "scroll-scroll" + a + "_visible",
                    d = "x" == a ? i.y : i.x;
                b.scroll.removeClass(c), d.scroll.removeClass(c), f.removeClass(c);
            }), a.each(i, function(b, c) {
                a.extend(c, "x" == b ? {
                    offset: parseInt(e.css("left"), 10) || 0,
                    size: e.prop("scrollWidth"),
                    visible: k.width()
                } : {
                    offset: parseInt(e.css("top"), 10) || 0,
                    size: e.prop("scrollHeight"),
                    visible: k.height()
                });
            }), this._updateScroll("x", this.scrollx), this._updateScroll("y", this.scrolly), a.isFunction(h.onUpdate) && h.onUpdate.apply(this, [e]), a.each(i, function(a, b) {
                var c = "x" === a ? "left" : "top",
                    d = "x" === a ? "outerWidth" : "outerHeight",
                    f = "x" === a ? "width" : "height",
                    g = parseInt(e.css(c), 10) || 0,
                    i = b.size,
                    j = b.visible + g,
                    k = b.scroll.size[d]() + (parseInt(b.scroll.size.css(c), 10) || 0);
                h.autoScrollSize && (b.scrollbarSize = parseInt(k * j / i, 10), b.scroll.bar.css(f, b.scrollbarSize + "px")), b.scrollbarSize = b.scroll.bar[d](), b.kx = (k - b.scrollbarSize) / (i - j) || 1, b.maxScrollOffset = i - j;
            }), e.scrollLeft(m.scrollLeft).scrollTop(m.scrollTop).trigger("scroll");
        },
        _getScroll: function(b) {
            var c = {
                advanced: ['<div class="scroll-element">', '<div class="scroll-element_corner"></div>', '<div class="scroll-arrow scroll-arrow_less"></div>', '<div class="scroll-arrow scroll-arrow_more"></div>', '<div class="scroll-element_outer">', '<div class="scroll-element_size"></div>', '<div class="scroll-element_inner-wrapper">', '<div class="scroll-element_inner scroll-element_track">', '<div class="scroll-element_inner-bottom"></div>', "</div>", "</div>", '<div class="scroll-bar">', '<div class="scroll-bar_body">', '<div class="scroll-bar_body-inner"></div>', "</div>", '<div class="scroll-bar_bottom"></div>', '<div class="scroll-bar_center"></div>', "</div>", "</div>", "</div>"].join(""),
                simple: ['<div class="scroll-element">', '<div class="scroll-element_outer">', '<div class="scroll-element_size"></div>', '<div class="scroll-element_track"></div>', '<div class="scroll-bar"></div>', "</div>", "</div>"].join("")
            };
            return c[b] && (b = c[b]), b || (b = c.simple), b = "string" == typeof b ? a(b).appendTo(this.wrapper) : a(b), a.extend(b, {
                bar: b.find(".scroll-bar"),
                size: b.find(".scroll-element_size"),
                track: b.find(".scroll-element_track")
            }), b;
        },
        _handleMouseDown: function(b, c) {
            var d = this.namespace;
            return a(document).on("blur" + d, function() {
                a(document).add("body").off(d), b && b();
            }), a(document).on("dragstart" + d, function(a) {
                return a.preventDefault(), !1;
            }), a(document).on("mouseup" + d, function() {
                a(document).add("body").off(d), b && b();
            }), a("body").on("selectstart" + d, function(a) {
                return a.preventDefault(), !1;
            }), c && c.preventDefault(), !1;
        },
        _updateScroll: function(b, d) {
            var e = this.container,
                f = this.containerWrapper || e,
                g = "scroll-scroll" + b + "_visible",
                h = "x" === b ? this.scrolly : this.scrollx,
                i = parseInt(this.container.css("x" === b ? "left" : "top"), 10) || 0,
                j = this.wrapper,
                k = d.size,
                l = d.visible + i;
            d.isVisible = k - l > 1, d.isVisible ? (d.scroll.addClass(g), h.scroll.addClass(g), f.addClass(g)) : (d.scroll.removeClass(g), h.scroll.removeClass(g), f.removeClass(g)), "y" === b && (e.is("textarea") || k < l ? f.css({
                height: l + c.scroll.height + "px",
                "max-height": "none"
            }) : f.css({
                "max-height": l + c.scroll.height + "px"
            })), d.size == e.prop("scrollWidth") && h.size == e.prop("scrollHeight") && d.visible == j.width() && h.visible == j.height() && d.offset == (parseInt(e.css("left"), 10) || 0) && h.offset == (parseInt(e.css("top"), 10) || 0) || (a.extend(this.scrollx, {
                offset: parseInt(e.css("left"), 10) || 0,
                size: e.prop("scrollWidth"),
                visible: j.width()
            }), a.extend(this.scrolly, {
                offset: parseInt(e.css("top"), 10) || 0,
                size: this.container.prop("scrollHeight"),
                visible: j.height()
            }), this._updateScroll("x" === b ? "y" : "x", h));
        }
    };
    var f = e;
    a.fn.scrollbar = function(b, d) {
        return "string" != typeof b && (d = b, b = "init"), "undefined" == typeof d && (d = []), a.isArray(d) || (d = [d]), this.not("body, .scroll-wrapper").each(function() {
            var e = a(this),
                g = e.data(c.data.name);
            (g || "init" === b) && (g || (g = new f(e)), g[b] && g[b].apply(g, d));
        }), this;
    }, a.fn.scrollbar.options = d;
    var g = function() {
        var a = 0,
            d = 0;
        return function(e) {
            var f, h, i, j, k, l, m;
            for (f = 0; f < c.scrolls.length; f++) j = c.scrolls[f], h = j.container, i = j.options, k = j.wrapper, l = j.scrollx, m = j.scrolly, (e || i.autoUpdate && k && k.is(":visible") && (h.prop("scrollWidth") != l.size || h.prop("scrollHeight") != m.size || k.width() != l.visible || k.height() != m.visible)) && (j.init(), i.debug && (window.console && console.log({
                scrollHeight: h.prop("scrollHeight") + ":" + j.scrolly.size,
                scrollWidth: h.prop("scrollWidth") + ":" + j.scrollx.size,
                visibleHeight: k.height() + ":" + j.scrolly.visible,
                visibleWidth: k.width() + ":" + j.scrollx.visible
            }, !0), d++));
            b && d > 10 ? (window.console && console.log("Scroll updates exceed 10"), g = function() {}) : (clearTimeout(a), a = setTimeout(g, 300));
        };
    }();
    window.angular && ! function(a) {
        a.module("jQueryScrollbar", []).provider("jQueryScrollbar", function() {
            var b = d;
            return {
                setOptions: function(c) {
                    a.extend(b, c);
                },
                $get: function() {
                    return {
                        options: a.copy(b)
                    };
                }
            };
        }).directive("jqueryScrollbar", ["jQueryScrollbar", "$parse", function(a, b) {
            return {
                restrict: "AC",
                link: function(c, d, e) {
                    var f = b(e.jqueryScrollbar),
                        g = f(c);
                    d.scrollbar(g || a.options).on("$destroy", function() {
                        d.scrollbar("destroy");
                    });
                }
            };
        }]);
    }(window.angular);
});
$.fn.simplePaginate = function(options) {
    options = jQuery.extend({
        size: 10
    }, options, $(this).data());
    $(this).each(function() {
        let $that = $(this);
        if ($that.data('simplePaginate')) {
            return false;
        }
        $that.data('simplePaginate', true);
        let req_num_row = options.size;
        let $tr = jQuery('tbody tr', $that);
        let total_num_row = $tr.length;
        let num_pages = 0;
        if (total_num_row % req_num_row === 0) {
            num_pages = total_num_row / req_num_row;
        }
        if (total_num_row % req_num_row >= 1) {
            num_pages = total_num_row / req_num_row;
            num_pages++;
            num_pages = Math.floor(num_pages++);
        }
        if (num_pages > 1) {
            for (let i = 1; i <= Math.min(10, num_pages); i++) {
                $('.pagination', $that.parent()).append('<a href="#' + i + '" class="btn">' + i + '</a>');
            }
            /*if(num_pages>10) {
            				$('.pagination', $that.parent()).append('... <a href="#' + num_pages + '" class="btn">' + num_pages + '</a>');
            			}*/
            jQuery('.pagination a', $that.parent()).click(function(e) {
                jQuery('.pagination a', $that.parent()).removeClass('active');
                $(this).addClass('active');
                e.preventDefault();
                $tr.hide();
                let page = jQuery(this).text();
                let temp = page - 1;
                let start = temp * req_num_row;
                for (let i = 0; i < req_num_row; i++) {
                    $tr.eq(start + i).show();
                }
            }).eq(0).trigger('click');
        } else {
            $tr.show();
        }
    });
};
(function(t, e) {
    if (typeof define === "function" && define.amd) {
        define(["jquery"], e);
    } else if (typeof exports === "object") {
        module.exports = e(require("jquery"));
    } else {
        e(t.jQuery);
    }
})(this, function(t) {
    t.transit = {
        version: "0.9.12",
        propertyMap: {
            marginLeft: "margin",
            marginRight: "margin",
            marginBottom: "margin",
            marginTop: "margin",
            paddingLeft: "padding",
            paddingRight: "padding",
            paddingBottom: "padding",
            paddingTop: "padding"
        },
        enabled: true,
        useTransitionEnd: false
    };
    var e = document.createElement("div");
    var n = {};

    function i(t) {
        if (t in e.style) return t;
        var n = ["Moz", "Webkit", "O", "ms"];
        var i = t.charAt(0).toUpperCase() + t.substr(1);
        for (var r = 0; r < n.length; ++r) {
            var s = n[r] + i;
            if (s in e.style) {
                return s;
            }
        }
    }

    function r() {
        e.style[n.transform] = "";
        e.style[n.transform] = "rotateY(90deg)";
        return e.style[n.transform] !== "";
    }
    var s = navigator.userAgent.toLowerCase().indexOf("chrome") > -1;
    n.transition = i("transition");
    n.transitionDelay = i("transitionDelay");
    n.transform = i("transform");
    n.transformOrigin = i("transformOrigin");
    n.filter = i("Filter");
    n.transform3d = r();
    var a = {
        transition: "transitionend",
        MozTransition: "transitionend",
        OTransition: "oTransitionEnd",
        WebkitTransition: "webkitTransitionEnd",
        msTransition: "MSTransitionEnd"
    };
    var o = n.transitionEnd = a[n.transition] || null;
    for (var u in n) {
        if (n.hasOwnProperty(u) && typeof t.support[u] === "undefined") {
            t.support[u] = n[u];
        }
    }
    e = null;
    t.cssEase = {
        _default: "ease",
        "in": "ease-in",
        out: "ease-out",
        "in-out": "ease-in-out",
        snap: "cubic-bezier(0,1,.5,1)",
        easeInCubic: "cubic-bezier(.550,.055,.675,.190)",
        easeOutCubic: "cubic-bezier(.215,.61,.355,1)",
        easeInOutCubic: "cubic-bezier(.645,.045,.355,1)",
        easeInCirc: "cubic-bezier(.6,.04,.98,.335)",
        easeOutCirc: "cubic-bezier(.075,.82,.165,1)",
        easeInOutCirc: "cubic-bezier(.785,.135,.15,.86)",
        easeInExpo: "cubic-bezier(.95,.05,.795,.035)",
        easeOutExpo: "cubic-bezier(.19,1,.22,1)",
        easeInOutExpo: "cubic-bezier(1,0,0,1)",
        easeInQuad: "cubic-bezier(.55,.085,.68,.53)",
        easeOutQuad: "cubic-bezier(.25,.46,.45,.94)",
        easeInOutQuad: "cubic-bezier(.455,.03,.515,.955)",
        easeInQuart: "cubic-bezier(.895,.03,.685,.22)",
        easeOutQuart: "cubic-bezier(.165,.84,.44,1)",
        easeInOutQuart: "cubic-bezier(.77,0,.175,1)",
        easeInQuint: "cubic-bezier(.755,.05,.855,.06)",
        easeOutQuint: "cubic-bezier(.23,1,.32,1)",
        easeInOutQuint: "cubic-bezier(.86,0,.07,1)",
        easeInSine: "cubic-bezier(.47,0,.745,.715)",
        easeOutSine: "cubic-bezier(.39,.575,.565,1)",
        easeInOutSine: "cubic-bezier(.445,.05,.55,.95)",
        easeInBack: "cubic-bezier(.6,-.28,.735,.045)",
        easeOutBack: "cubic-bezier(.175, .885,.32,1.275)",
        easeInOutBack: "cubic-bezier(.68,-.55,.265,1.55)"
    };
    t.cssHooks["transit:transform"] = {
        get: function(e) {
            return t(e).data("transform") || new f();
        },
        set: function(e, i) {
            var r = i;
            if (!(r instanceof f)) {
                r = new f(r);
            }
            if (n.transform === "WebkitTransform" && !s) {
                e.style[n.transform] = r.toString(true);
            } else {
                e.style[n.transform] = r.toString();
            }
            t(e).data("transform", r);
        }
    };
    t.cssHooks.transform = {
        set: t.cssHooks["transit:transform"].set
    };
    t.cssHooks.filter = {
        get: function(t) {
            return t.style[n.filter];
        },
        set: function(t, e) {
            t.style[n.filter] = e;
        }
    };
    if (t.fn.jquery < "1.8") {
        t.cssHooks.transformOrigin = {
            get: function(t) {
                return t.style[n.transformOrigin];
            },
            set: function(t, e) {
                t.style[n.transformOrigin] = e;
            }
        };
        t.cssHooks.transition = {
            get: function(t) {
                return t.style[n.transition];
            },
            set: function(t, e) {
                t.style[n.transition] = e;
            }
        };
    }
    p("scale");
    p("scaleX");
    p("scaleY");
    p("translate");
    p("rotate");
    p("rotateX");
    p("rotateY");
    p("rotate3d");
    p("perspective");
    p("skewX");
    p("skewY");
    p("x", true);
    p("y", true);

    function f(t) {
        if (typeof t === "string") {
            this.parse(t);
        }
        return this;
    }
    f.prototype = {
        setFromString: function(t, e) {
            var n = typeof e === "string" ? e.split(",") : e.constructor === Array ? e : [e];
            n.unshift(t);
            f.prototype.set.apply(this, n);
        },
        set: function(t) {
            var e = Array.prototype.slice.apply(arguments, [1]);
            if (this.setter[t]) {
                this.setter[t].apply(this, e);
            } else {
                this[t] = e.join(",");
            }
        },
        get: function(t) {
            if (this.getter[t]) {
                return this.getter[t].apply(this);
            } else {
                return this[t] || 0;
            }
        },
        setter: {
            rotate: function(t) {
                this.rotate = b(t, "deg");
            },
            rotateX: function(t) {
                this.rotateX = b(t, "deg");
            },
            rotateY: function(t) {
                this.rotateY = b(t, "deg");
            },
            scale: function(t, e) {
                if (e === undefined) {
                    e = t;
                }
                this.scale = t + "," + e;
            },
            skewX: function(t) {
                this.skewX = b(t, "deg");
            },
            skewY: function(t) {
                this.skewY = b(t, "deg");
            },
            perspective: function(t) {
                this.perspective = b(t, "px");
            },
            x: function(t) {
                this.set("translate", t, null);
            },
            y: function(t) {
                this.set("translate", null, t);
            },
            translate: function(t, e) {
                if (this._translateX === undefined) {
                    this._translateX = 0;
                }
                if (this._translateY === undefined) {
                    this._translateY = 0;
                }
                if (t !== null && t !== undefined) {
                    this._translateX = b(t, "px");
                }
                if (e !== null && e !== undefined) {
                    this._translateY = b(e, "px");
                }
                this.translate = this._translateX + "," + this._translateY;
            }
        },
        getter: {
            x: function() {
                return this._translateX || 0;
            },
            y: function() {
                return this._translateY || 0;
            },
            scale: function() {
                var t = (this.scale || "1,1").split(",");
                if (t[0]) {
                    t[0] = parseFloat(t[0]);
                }
                if (t[1]) {
                    t[1] = parseFloat(t[1]);
                }
                return t[0] === t[1] ? t[0] : t;
            },
            rotate3d: function() {
                var t = (this.rotate3d || "0,0,0,0deg").split(",");
                for (var e = 0; e <= 3; ++e) {
                    if (t[e]) {
                        t[e] = parseFloat(t[e]);
                    }
                }
                if (t[3]) {
                    t[3] = b(t[3], "deg");
                }
                return t;
            }
        },
        parse: function(t) {
            var e = this;
            t.replace(/([a-zA-Z0-9]+)\((.*?)\)/g, function(t, n, i) {
                e.setFromString(n, i);
            });
        },
        toString: function(t) {
            var e = [];
            for (var i in this) {
                if (this.hasOwnProperty(i)) {
                    if (!n.transform3d && (i === "rotateX" || i === "rotateY" || i === "perspective" || i === "transformOrigin")) {
                        continue;
                    }
                    if (i[0] !== "_") {
                        if (t && i === "scale") {
                            e.push(i + "3d(" + this[i] + ",1)");
                        } else if (t && i === "translate") {
                            e.push(i + "3d(" + this[i] + ",0)");
                        } else {
                            e.push(i + "(" + this[i] + ")");
                        }
                    }
                }
            }
            return e.join(" ");
        }
    };

    function c(t, e, n) {
        if (e === true) {
            t.queue(n);
        } else if (e) {
            t.queue(e, n);
        } else {
            t.each(function() {
                n.call(this);
            });
        }
    }

    function l(e) {
        var i = [];
        t.each(e, function(e) {
            e = t.camelCase(e);
            e = t.transit.propertyMap[e] || t.cssProps[e] || e;
            e = h(e);
            if (n[e]) e = h(n[e]);
            if (t.inArray(e, i) === -1) {
                i.push(e);
            }
        });
        return i;
    }

    function d(e, n, i, r) {
        var s = l(e);
        if (t.cssEase[i]) {
            i = t.cssEase[i];
        }
        var a = "" + y(n) + " " + i;
        if (parseInt(r, 10) > 0) {
            a += " " + y(r);
        }
        var o = [];
        t.each(s, function(t, e) {
            o.push(e + " " + a);
        });
        return o.join(", ");
    }
    t.fn.transition = t.fn.transit = function(e, i, r, s) {
        var a = this;
        var u = 0;
        var f = true;
        var l = t.extend(true, {}, e);
        if (typeof i === "function") {
            s = i;
            i = undefined;
        }
        if (typeof i === "object") {
            r = i.easing;
            u = i.delay || 0;
            f = typeof i.queue === "undefined" ? true : i.queue;
            s = i.complete;
            i = i.duration;
        }
        if (typeof r === "function") {
            s = r;
            r = undefined;
        }
        if (typeof l.easing !== "undefined") {
            r = l.easing;
            delete l.easing;
        }
        if (typeof l.duration !== "undefined") {
            i = l.duration;
            delete l.duration;
        }
        if (typeof l.complete !== "undefined") {
            s = l.complete;
            delete l.complete;
        }
        if (typeof l.queue !== "undefined") {
            f = l.queue;
            delete l.queue;
        }
        if (typeof l.delay !== "undefined") {
            u = l.delay;
            delete l.delay;
        }
        if (typeof i === "undefined") {
            i = t.fx.speeds._default;
        }
        if (typeof r === "undefined") {
            r = t.cssEase._default;
        }
        i = y(i);
        var p = d(l, i, r, u);
        var h = t.transit.enabled && n.transition;
        var b = h ? parseInt(i, 10) + parseInt(u, 10) : 0;
        if (b === 0) {
            var g = function(t) {
                a.css(l);
                if (s) {
                    s.apply(a);
                }
                if (t) {
                    t();
                }
            };
            c(a, f, g);
            return a;
        }
        var m = {};
        var v = function(e) {
            var i = false;
            var r = function() {
                if (i) {
                    a.unbind(o, r);
                }
                if (b > 0) {
                    a.each(function() {
                        this.style[n.transition] = m[this] || null;
                    });
                }
                if (typeof s === "function") {
                    s.apply(a);
                }
                if (typeof e === "function") {
                    e();
                }
            };
            if (b > 0 && o && t.transit.useTransitionEnd) {
                i = true;
                a.bind(o, r);
            } else {
                window.setTimeout(r, b);
            }
            a.each(function() {
                if (b > 0) {
                    this.style[n.transition] = p;
                }
                t(this).css(l);
            });
        };
        var z = function(t) {
            this.offsetWidth;
            v(t);
        };
        c(a, f, z);
        return this;
    };

    function p(e, i) {
        if (!i) {
            t.cssNumber[e] = true;
        }
        t.transit.propertyMap[e] = n.transform;
        t.cssHooks[e] = {
            get: function(n) {
                var i = t(n).css("transit:transform");
                return i.get(e);
            },
            set: function(n, i) {
                var r = t(n).css("transit:transform");
                r.setFromString(e, i);
                t(n).css({
                    "transit:transform": r
                });
            }
        };
    }

    function h(t) {
        return t.replace(/([A-Z])/g, function(t) {
            return "-" + t.toLowerCase();
        });
    }

    function b(t, e) {
        if (typeof t === "string" && !t.match(/^[\-0-9\.]+$/)) {
            return t;
        } else {
            return "" + t + e;
        }
    }

    function y(e) {
        var n = e;
        if (typeof n === "string" && !n.match(/^[\-0-9\.]+/)) {
            n = t.fx.speeds[n] || t.fx.speeds._default;
        }
        return b(n, "ms");
    }
    t.transit.getTransitionValue = d;
    return t;
});
/*
 jQuery animateNumber plugin v0.0.14
 (c) 2013, Alexandr Borisov.
 https://github.com/aishek/jquery-animateNumber
*/
(function(d) {
    var r = function(b) {
            return b.split("").reverse().join("");
        },
        m = {
            numberStep: function(b, a) {
                var e = Math.floor(b);
                d(a.elem).text(e);
            }
        },
        g = function(b) {
            var a = b.elem;
            a.nodeType && a.parentNode && (a = a._animateNumberSetter, a || (a = m.numberStep), a(b.now, b));
        };
    d.Tween && d.Tween.propHooks ? d.Tween.propHooks.number = {
        set: g
    } : d.fx.step.number = g;
    d.animateNumber = {
        numberStepFactories: {
            append: function(b) {
                return function(a, e) {
                    var f = Math.floor(a);
                    d(e.elem).prop("number", a).text(f + b);
                };
            },
            separator: function(b, a, e) {
                b = b || " ";
                a = a || 3;
                e = e || "";
                return function(f, k) {
                    var u = 0 > f,
                        c = Math.floor((u ? -1 : 1) * f).toString(),
                        n = d(k.elem);
                    if (c.length > a) {
                        for (var h = c, l = a, m = h.split("").reverse(), c = [], p, s, q, t = 0, g = Math.ceil(h.length / l); t < g; t++) {
                            p = "";
                            for (q = 0; q < l; q++) {
                                s = t * l + q;
                                if (s === h.length) break;
                                p += m[s];
                            }
                            c.push(p);
                        }
                        h = c.length - 1;
                        l = r(c[h]);
                        c[h] = r(parseInt(l, 10).toString());
                        c = c.join(b);
                        c = r(c);
                    }
                    n.prop("number", f).text((u ? "-" : "") + c + e);
                };
            }
        }
    };
    d.fn.animateNumber = function() {
        for (var b = arguments[0], a = d.extend({}, m, b), e = d(this), f = [a], k = 1, g = arguments.length; k < g; k++) f.push(arguments[k]);
        if (b.numberStep) {
            var c = this.each(function() {
                    this._animateNumberSetter = b.numberStep;
                }),
                n = a.complete;
            a.complete = function() {
                c.each(function() {
                    delete this._animateNumberSetter;
                });
                n && n.apply(this, arguments);
            };
        }
        return e.animate.apply(e, f);
    };
})(jQuery);
/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - EASING EQUATIONS
 * 
 * Open source under the BSD License. 
 * 
 * Copyright  2001 Robert Penner
 * All rights reserved.
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright  2008 George McGinley Smith
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
 */
jQuery.easing.jswing = jQuery.easing.swing;
jQuery.extend(jQuery.easing, {
    def: "easeOutQuad",
    swing: function(e, f, a, h, g) {
        return jQuery.easing[jQuery.easing.def](e, f, a, h, g);
    },
    easeInQuad: function(e, f, a, h, g) {
        return h * (f /= g) * f + a;
    },
    easeOutQuad: function(e, f, a, h, g) {
        return -h * (f /= g) * (f - 2) + a;
    },
    easeInOutQuad: function(e, f, a, h, g) {
        if ((f /= g / 2) < 1) {
            return h / 2 * f * f + a;
        }
        return -h / 2 * (--f * (f - 2) - 1) + a;
    },
    easeInCubic: function(e, f, a, h, g) {
        return h * (f /= g) * f * f + a;
    },
    easeOutCubic: function(e, f, a, h, g) {
        return h * ((f = f / g - 1) * f * f + 1) + a;
    },
    easeInOutCubic: function(e, f, a, h, g) {
        if ((f /= g / 2) < 1) {
            return h / 2 * f * f * f + a;
        }
        return h / 2 * ((f -= 2) * f * f + 2) + a;
    },
    easeInQuart: function(e, f, a, h, g) {
        return h * (f /= g) * f * f * f + a;
    },
    easeOutQuart: function(e, f, a, h, g) {
        return -h * ((f = f / g - 1) * f * f * f - 1) + a;
    },
    easeInOutQuart: function(e, f, a, h, g) {
        if ((f /= g / 2) < 1) {
            return h / 2 * f * f * f * f + a;
        }
        return -h / 2 * ((f -= 2) * f * f * f - 2) + a;
    },
    easeInQuint: function(e, f, a, h, g) {
        return h * (f /= g) * f * f * f * f + a;
    },
    easeOutQuint: function(e, f, a, h, g) {
        return h * ((f = f / g - 1) * f * f * f * f + 1) + a;
    },
    easeInOutQuint: function(e, f, a, h, g) {
        if ((f /= g / 2) < 1) {
            return h / 2 * f * f * f * f * f + a;
        }
        return h / 2 * ((f -= 2) * f * f * f * f + 2) + a;
    },
    easeInSine: function(e, f, a, h, g) {
        return -h * Math.cos(f / g * (Math.PI / 2)) + h + a;
    },
    easeOutSine: function(e, f, a, h, g) {
        return h * Math.sin(f / g * (Math.PI / 2)) + a;
    },
    easeInOutSine: function(e, f, a, h, g) {
        return -h / 2 * (Math.cos(Math.PI * f / g) - 1) + a;
    },
    easeInExpo: function(e, f, a, h, g) {
        return f == 0 ? a : h * Math.pow(2, 10 * (f / g - 1)) + a;
    },
    easeOutExpo: function(e, f, a, h, g) {
        return f == g ? a + h : h * (-Math.pow(2, -10 * f / g) + 1) + a;
    },
    easeInOutExpo: function(e, f, a, h, g) {
        if (f == 0) {
            return a;
        }
        if (f == g) {
            return a + h;
        }
        if ((f /= g / 2) < 1) {
            return h / 2 * Math.pow(2, 10 * (f - 1)) + a;
        }
        return h / 2 * (-Math.pow(2, -10 * --f) + 2) + a;
    },
    easeInCirc: function(e, f, a, h, g) {
        return -h * (Math.sqrt(1 - (f /= g) * f) - 1) + a;
    },
    easeOutCirc: function(e, f, a, h, g) {
        return h * Math.sqrt(1 - (f = f / g - 1) * f) + a;
    },
    easeInOutCirc: function(e, f, a, h, g) {
        if ((f /= g / 2) < 1) {
            return -h / 2 * (Math.sqrt(1 - f * f) - 1) + a;
        }
        return h / 2 * (Math.sqrt(1 - (f -= 2) * f) + 1) + a;
    },
    easeInElastic: function(f, h, e, l, k) {
        var i = 1.70158;
        var j = 0;
        var g = l;
        if (h == 0) {
            return e;
        }
        if ((h /= k) == 1) {
            return e + l;
        }
        if (!j) {
            j = k * 0.3;
        }
        if (g < Math.abs(l)) {
            g = l;
            var i = j / 4;
        } else {
            var i = j / (2 * Math.PI) * Math.asin(l / g);
        }
        return -(g * Math.pow(2, 10 * (h -= 1)) * Math.sin((h * k - i) * (2 * Math.PI) / j)) + e;
    },
    easeOutElastic: function(f, h, e, l, k) {
        var i = 1.70158;
        var j = 0;
        var g = l;
        if (h == 0) {
            return e;
        }
        if ((h /= k) == 1) {
            return e + l;
        }
        if (!j) {
            j = k * 0.3;
        }
        if (g < Math.abs(l)) {
            g = l;
            var i = j / 4;
        } else {
            var i = j / (2 * Math.PI) * Math.asin(l / g);
        }
        return g * Math.pow(2, -10 * h) * Math.sin((h * k - i) * (2 * Math.PI) / j) + l + e;
    },
    easeInOutElastic: function(f, h, e, l, k) {
        var i = 1.70158;
        var j = 0;
        var g = l;
        if (h == 0) {
            return e;
        }
        if ((h /= k / 2) == 2) {
            return e + l;
        }
        if (!j) {
            j = k * (0.3 * 1.5);
        }
        if (g < Math.abs(l)) {
            g = l;
            var i = j / 4;
        } else {
            var i = j / (2 * Math.PI) * Math.asin(l / g);
        }
        if (h < 1) {
            return -0.5 * (g * Math.pow(2, 10 * (h -= 1)) * Math.sin((h * k - i) * (2 * Math.PI) / j)) + e;
        }
        return g * Math.pow(2, -10 * (h -= 1)) * Math.sin((h * k - i) * (2 * Math.PI) / j) * 0.5 + l + e;
    },
    easeInBack: function(e, f, a, i, h, g) {
        if (g == undefined) {
            g = 1.70158;
        }
        return i * (f /= h) * f * ((g + 1) * f - g) + a;
    },
    easeOutBack: function(e, f, a, i, h, g) {
        if (g == undefined) {
            g = 1.70158;
        }
        return i * ((f = f / h - 1) * f * ((g + 1) * f + g) + 1) + a;
    },
    easeInOutBack: function(e, f, a, i, h, g) {
        if (g == undefined) {
            g = 1.70158;
        }
        if ((f /= h / 2) < 1) {
            return i / 2 * (f * f * (((g *= 1.525) + 1) * f - g)) + a;
        }
        return i / 2 * ((f -= 2) * f * (((g *= 1.525) + 1) * f + g) + 2) + a;
    },
    easeInBounce: function(e, f, a, h, g) {
        return h - jQuery.easing.easeOutBounce(e, g - f, 0, h, g) + a;
    },
    easeOutBounce: function(e, f, a, h, g) {
        if ((f /= g) < 1 / 2.75) {
            return h * (7.5625 * f * f) + a;
        } else {
            if (f < 2 / 2.75) {
                return h * (7.5625 * (f -= 1.5 / 2.75) * f + 0.75) + a;
            } else {
                if (f < 2.5 / 2.75) {
                    return h * (7.5625 * (f -= 2.25 / 2.75) * f + 0.9375) + a;
                } else {
                    return h * (7.5625 * (f -= 2.625 / 2.75) * f + 0.984375) + a;
                }
            }
        }
    },
    easeInOutBounce: function(e, f, a, h, g) {
        if (f < g / 2) {
            return jQuery.easing.easeInBounce(e, f * 2, 0, h, g) * 0.5 + a;
        }
        return jQuery.easing.easeOutBounce(e, f * 2 - g, 0, h, g) * 0.5 + h * 0.5 + a;
    }
});
/*!
 * Bez v1.0.10-g5ae0136
 * http://github.com/rdallasgray/bez
 * 
 * A plugin to convert CSS3 cubic-bezier co-ordinates to jQuery-compatible easing functions
 * 
 * With thanks to Nikolay Nemshilov for clarification on the cubic-bezier maths
 * See http://st-on-it.blogspot.com/2011/05/calculating-cubic-bezier-function.html
 * 
 * Copyright 2011 Robert Dallas Gray. All rights reserved.
 * Provided under the FreeBSD license: https://github.com/rdallasgray/bez/blob/master/LICENSE.txt
 */
jQuery.extend({
    bez: function(a) {
        var b = "bez_" + jQuery.makeArray(arguments).join("_").replace(".", "p");
        if (typeof jQuery.easing[b] != "function") {
            var c = function(a, b) {
                var c = [null, null],
                    d = [null, null],
                    e = [null, null],
                    f = function(f, g) {
                        return e[g] = 3 * a[g], d[g] = 3 * (b[g] - a[g]) - e[g], c[g] = 1 - e[g] - d[g], f * (e[g] + f * (d[g] + f * c[g]));
                    },
                    g = function(a) {
                        return e[0] + a * (2 * d[0] + 3 * c[0] * a);
                    },
                    h = function(a) {
                        var b = a,
                            c = 0,
                            d;
                        while (++c < 14) {
                            d = f(b, 0) - a;
                            if (Math.abs(d) < .001) break;
                            b -= d / g(b);
                        }
                        return b;
                    };
                return function(a) {
                    return f(h(a), 1);
                };
            };
            jQuery.easing[b] = function(b, d, e, f, g) {
                return f * c([a[0], a[1]], [a[2], a[3]])(d / g) + e;
            };
        }
        return b;
    }
});
/*
 * This combined file was created by the DataTables downloader builder:
 *   https://datatables.net/download
 *
 * To rebuild or modify this file with the latest versions of the included
 * software please visit:
 *   https://datatables.net/download/#dt/dt-1.10.16
 *
 * Included libraries:
 *   DataTables 1.10.16
 */
/*!
 DataTables 1.10.16
 2008-2017 SpryMedia Ltd - datatables.net/license
*/
(function(h) {
    "function" === typeof define && define.amd ? define(["jquery"], function(E) {
        return h(E, window, document);
    }) : "object" === typeof exports ? module.exports = function(E, G) {
        E || (E = window);
        G || (G = "undefined" !== typeof window ? require("jquery") : require("jquery")(E));
        return h(G, E, E.document);
    } : h(jQuery, window, document);
})(function(h, E, G, k) {
    function X(a) {
        var b, c, d = {};
        h.each(a, function(e) {
            if ((b = e.match(/^([^A-Z]+?)([A-Z])/)) && -1 !== "a aa ai ao as b fn i m o s ".indexOf(b[1] + " ")) c = e.replace(b[0], b[2].toLowerCase()), d[c] = e, "o" === b[1] && X(a[e]);
        });
        a._hungarianMap = d;
    }

    function I(a, b, c) {
        a._hungarianMap || X(a);
        var d;
        h.each(b, function(e) {
            d = a._hungarianMap[e];
            if (d !== k && (c || b[d] === k)) "o" === d.charAt(0) ? (b[d] || (b[d] = {}), h.extend(!0, b[d], b[e]), I(a[d], b[d], c)) : b[d] = b[e];
        });
    }

    function Ca(a) {
        var b = m.defaults.oLanguage,
            c = a.sZeroRecords;
        !a.sEmptyTable && c && "No data available in table" === b.sEmptyTable && F(a, a, "sZeroRecords", "sEmptyTable");
        !a.sLoadingRecords && c && "Loading..." === b.sLoadingRecords && F(a, a, "sZeroRecords", "sLoadingRecords");
        a.sInfoThousands && (a.sThousands = a.sInfoThousands);
        (a = a.sDecimal) && cb(a);
    }

    function db(a) {
        A(a, "ordering", "bSort");
        A(a, "orderMulti", "bSortMulti");
        A(a, "orderClasses", "bSortClasses");
        A(a, "orderCellsTop", "bSortCellsTop");
        A(a, "order", "aaSorting");
        A(a, "orderFixed", "aaSortingFixed");
        A(a, "paging", "bPaginate");
        A(a, "pagingType", "sPaginationType");
        A(a, "pageLength", "iDisplayLength");
        A(a, "searching", "bFilter");
        "boolean" === typeof a.sScrollX && (a.sScrollX = a.sScrollX ? "100%" : "");
        "boolean" === typeof a.scrollX && (a.scrollX = a.scrollX ? "100%" : "");
        if (a = a.aoSearchCols)
            for (var b = 0, c = a.length; b < c; b++) a[b] && I(m.models.oSearch, a[b]);
    }

    function eb(a) {
        A(a, "orderable", "bSortable");
        A(a, "orderData", "aDataSort");
        A(a, "orderSequence", "asSorting");
        A(a, "orderDataType", "sortDataType");
        var b = a.aDataSort;
        "number" === typeof b && !h.isArray(b) && (a.aDataSort = [b]);
    }

    function fb(a) {
        if (!m.__browser) {
            var b = {};
            m.__browser = b;
            var c = h("<div/>").css({
                    position: "fixed",
                    top: 0,
                    left: -1 * h(E).scrollLeft(),
                    height: 1,
                    width: 1,
                    overflow: "hidden"
                }).append(h("<div/>").css({
                    position: "absolute",
                    top: 1,
                    left: 1,
                    width: 100,
                    overflow: "scroll"
                }).append(h("<div/>").css({
                    width: "100%",
                    height: 10
                }))).appendTo("body"),
                d = c.children(),
                e = d.children();
            b.barWidth = d[0].offsetWidth - d[0].clientWidth;
            b.bScrollOversize = 100 === e[0].offsetWidth && 100 !== d[0].clientWidth;
            b.bScrollbarLeft = 1 !== Math.round(e.offset().left);
            b.bBounding = c[0].getBoundingClientRect().width ? !0 : !1;
            c.remove();
        }
        h.extend(a.oBrowser, m.__browser);
        a.oScroll.iBarWidth = m.__browser.barWidth;
    }

    function gb(a, b, c, d, e, f) {
        var g, j = !1;
        c !== k && (g = c, j = !0);
        for (; d !== e;) a.hasOwnProperty(d) && (g = j ? b(g, a[d], d, a) : a[d], j = !0, d += f);
        return g;
    }

    function Da(a, b) {
        var c = m.defaults.column,
            d = a.aoColumns.length,
            c = h.extend({}, m.models.oColumn, c, {
                nTh: b ? b : G.createElement("th"),
                sTitle: c.sTitle ? c.sTitle : b ? b.innerHTML : "",
                aDataSort: c.aDataSort ? c.aDataSort : [d],
                mData: c.mData ? c.mData : d,
                idx: d
            });
        a.aoColumns.push(c);
        c = a.aoPreSearchCols;
        c[d] = h.extend({}, m.models.oSearch, c[d]);
        ja(a, d, h(b).data());
    }

    function ja(a, b, c) {
        var b = a.aoColumns[b],
            d = a.oClasses,
            e = h(b.nTh);
        if (!b.sWidthOrig) {
            b.sWidthOrig = e.attr("width") || null;
            var f = (e.attr("style") || "").match(/width:\s*(\d+[pxem%]+)/);
            f && (b.sWidthOrig = f[1]);
        }
        c !== k && null !== c && (eb(c), I(m.defaults.column, c), c.mDataProp !== k && !c.mData && (c.mData = c.mDataProp), c.sType && (b._sManualType = c.sType), c.className && !c.sClass && (c.sClass = c.className), c.sClass && e.addClass(c.sClass), h.extend(b, c), F(b, c, "sWidth", "sWidthOrig"), c.iDataSort !== k && (b.aDataSort = [c.iDataSort]), F(b, c, "aDataSort"));
        var g = b.mData,
            j = Q(g),
            i = b.mRender ? Q(b.mRender) : null,
            c = function(a) {
                return "string" === typeof a && -1 !== a.indexOf("@");
            };
        b._bAttrSrc = h.isPlainObject(g) && (c(g.sort) || c(g.type) || c(g.filter));
        b._setter = null;
        b.fnGetData = function(a, b, c) {
            var d = j(a, b, k, c);
            return i && b ? i(d, b, a, c) : d;
        };
        b.fnSetData = function(a, b, c) {
            return R(g)(a, b, c);
        };
        "number" !== typeof g && (a._rowReadObject = !0);
        a.oFeatures.bSort || (b.bSortable = !1, e.addClass(d.sSortableNone));
        a = -1 !== h.inArray("asc", b.asSorting);
        c = -1 !== h.inArray("desc", b.asSorting);
        !b.bSortable || !a && !c ? (b.sSortingClass = d.sSortableNone, b.sSortingClassJUI = "") : a && !c ? (b.sSortingClass = d.sSortableAsc, b.sSortingClassJUI = d.sSortJUIAscAllowed) : !a && c ? (b.sSortingClass = d.sSortableDesc, b.sSortingClassJUI = d.sSortJUIDescAllowed) : (b.sSortingClass = d.sSortable, b.sSortingClassJUI = d.sSortJUI);
    }

    function Y(a) {
        if (!1 !== a.oFeatures.bAutoWidth) {
            var b = a.aoColumns;
            Ea(a);
            for (var c = 0, d = b.length; c < d; c++) b[c].nTh.style.width = b[c].sWidth;
        }
        b = a.oScroll;
        ("" !== b.sY || "" !== b.sX) && ka(a);
        r(a, null, "column-sizing", [a]);
    }

    function Z(a, b) {
        var c = la(a, "bVisible");
        return "number" === typeof c[b] ? c[b] : null;
    }

    function $(a, b) {
        var c = la(a, "bVisible"),
            c = h.inArray(b, c);
        return -1 !== c ? c : null;
    }

    function aa(a) {
        var b = 0;
        h.each(a.aoColumns, function(a, d) {
            d.bVisible && "none" !== h(d.nTh).css("display") && b++;
        });
        return b;
    }

    function la(a, b) {
        var c = [];
        h.map(a.aoColumns, function(a, e) {
            a[b] && c.push(e);
        });
        return c;
    }

    function Fa(a) {
        var b = a.aoColumns,
            c = a.aoData,
            d = m.ext.type.detect,
            e, f, g, j, i, h, l, q, t;
        e = 0;
        for (f = b.length; e < f; e++)
            if (l = b[e], t = [], !l.sType && l._sManualType) l.sType = l._sManualType;
            else if (!l.sType) {
            g = 0;
            for (j = d.length; g < j; g++) {
                i = 0;
                for (h = c.length; i < h; i++) {
                    t[i] === k && (t[i] = B(a, i, e, "type"));
                    q = d[g](t[i], a);
                    if (!q && g !== d.length - 1) break;
                    if ("html" === q) break;
                }
                if (q) {
                    l.sType = q;
                    break;
                }
            }
            l.sType || (l.sType = "string");
        }
    }

    function hb(a, b, c, d) {
        var e, f, g, j, i, n, l = a.aoColumns;
        if (b)
            for (e = b.length - 1; 0 <= e; e--) {
                n = b[e];
                var q = n.targets !== k ? n.targets : n.aTargets;
                h.isArray(q) || (q = [q]);
                f = 0;
                for (g = q.length; f < g; f++)
                    if ("number" === typeof q[f] && 0 <= q[f]) {
                        for (; l.length <= q[f];) Da(a);
                        d(q[f], n);
                    } else if ("number" === typeof q[f] && 0 > q[f]) d(l.length + q[f], n);
                else if ("string" === typeof q[f]) {
                    j = 0;
                    for (i = l.length; j < i; j++)("_all" == q[f] || h(l[j].nTh).hasClass(q[f])) && d(j, n);
                }
            }
        if (c) {
            e = 0;
            for (a = c.length; e < a; e++) d(e, c[e]);
        }
    }

    function M(a, b, c, d) {
        var e = a.aoData.length,
            f = h.extend(!0, {}, m.models.oRow, {
                src: c ? "dom" : "data",
                idx: e
            });
        f._aData = b;
        a.aoData.push(f);
        for (var g = a.aoColumns, j = 0, i = g.length; j < i; j++) g[j].sType = null;
        a.aiDisplayMaster.push(e);
        b = a.rowIdFn(b);
        b !== k && (a.aIds[b] = f);
        (c || !a.oFeatures.bDeferRender) && Ga(a, e, c, d);
        return e;
    }

    function ma(a, b) {
        var c;
        b instanceof h || (b = h(b));
        return b.map(function(b, e) {
            c = Ha(a, e);
            return M(a, c.data, e, c.cells);
        });
    }

    function B(a, b, c, d) {
        var e = a.iDraw,
            f = a.aoColumns[c],
            g = a.aoData[b]._aData,
            j = f.sDefaultContent,
            i = f.fnGetData(g, d, {
                settings: a,
                row: b,
                col: c
            });
        if (i === k) return a.iDrawError != e && null === j && (J(a, 0, "Requested unknown parameter " + ("function" == typeof f.mData ? "{function}" : "'" + f.mData + "'") + " for row " + b + ", column " + c, 4), a.iDrawError = e), j;
        if ((i === g || null === i) && null !== j && d !== k) i = j;
        else if ("function" === typeof i) return i.call(g);
        return null === i && "display" == d ? "" : i;
    }

    function ib(a, b, c, d) {
        a.aoColumns[c].fnSetData(a.aoData[b]._aData, d, {
            settings: a,
            row: b,
            col: c
        });
    }

    function Ia(a) {
        return h.map(a.match(/(\\.|[^\.])+/g) || [""], function(a) {
            return a.replace(/\\\./g, ".");
        });
    }

    function Q(a) {
        if (h.isPlainObject(a)) {
            var b = {};
            h.each(a, function(a, c) {
                c && (b[a] = Q(c));
            });
            return function(a, c, f, g) {
                var j = b[c] || b._;
                return j !== k ? j(a, c, f, g) : a;
            };
        }
        if (null === a) return function(a) {
            return a;
        };
        if ("function" === typeof a) return function(b, c, f, g) {
            return a(b, c, f, g);
        };
        if ("string" === typeof a && (-1 !== a.indexOf(".") || -1 !== a.indexOf("[") || -1 !== a.indexOf("("))) {
            var c = function(a, b, f) {
                var g, j;
                if ("" !== f) {
                    j = Ia(f);
                    for (var i = 0, n = j.length; i < n; i++) {
                        f = j[i].match(ba);
                        g = j[i].match(U);
                        if (f) {
                            j[i] = j[i].replace(ba, "");
                            "" !== j[i] && (a = a[j[i]]);
                            g = [];
                            j.splice(0, i + 1);
                            j = j.join(".");
                            if (h.isArray(a)) {
                                i = 0;
                                for (n = a.length; i < n; i++) g.push(c(a[i], b, j));
                            }
                            a = f[0].substring(1, f[0].length - 1);
                            a = "" === a ? g : g.join(a);
                            break;
                        } else if (g) {
                            j[i] = j[i].replace(U, "");
                            a = a[j[i]]();
                            continue;
                        }
                        if (null === a || a[j[i]] === k) return k;
                        a = a[j[i]];
                    }
                }
                return a;
            };
            return function(b, e) {
                return c(b, e, a);
            };
        }
        return function(b) {
            return b[a];
        };
    }

    function R(a) {
        if (h.isPlainObject(a)) return R(a._);
        if (null === a) return function() {};
        if ("function" === typeof a) return function(b, d, e) {
            a(b, "set", d, e);
        };
        if ("string" === typeof a && (-1 !== a.indexOf(".") || -1 !== a.indexOf("[") || -1 !== a.indexOf("("))) {
            var b = function(a, d, e) {
                var e = Ia(e),
                    f;
                f = e[e.length - 1];
                for (var g, j, i = 0, n = e.length - 1; i < n; i++) {
                    g = e[i].match(ba);
                    j = e[i].match(U);
                    if (g) {
                        e[i] = e[i].replace(ba, "");
                        a[e[i]] = [];
                        f = e.slice();
                        f.splice(0, i + 1);
                        g = f.join(".");
                        if (h.isArray(d)) {
                            j = 0;
                            for (n = d.length; j < n; j++) f = {}, b(f, d[j], g), a[e[i]].push(f);
                        } else a[e[i]] = d;
                        return;
                    }
                    j && (e[i] = e[i].replace(U, ""), a = a[e[i]](d));
                    if (null === a[e[i]] || a[e[i]] === k) a[e[i]] = {};
                    a = a[e[i]];
                }
                if (f.match(U)) a[f.replace(U, "")](d);
                else a[f.replace(ba, "")] = d;
            };
            return function(c, d) {
                return b(c, d, a);
            };
        }
        return function(b, d) {
            b[a] = d;
        };
    }

    function Ja(a) {
        return D(a.aoData, "_aData");
    }

    function na(a) {
        a.aoData.length = 0;
        a.aiDisplayMaster.length = 0;
        a.aiDisplay.length = 0;
        a.aIds = {};
    }

    function oa(a, b, c) {
        for (var d = -1, e = 0, f = a.length; e < f; e++) a[e] == b ? d = e : a[e] > b && a[e]--; - 1 != d && c === k && a.splice(d, 1);
    }

    function ca(a, b, c, d) {
        var e = a.aoData[b],
            f, g = function(c, d) {
                for (; c.childNodes.length;) c.removeChild(c.firstChild);
                c.innerHTML = B(a, b, d, "display");
            };
        if ("dom" === c || (!c || "auto" === c) && "dom" === e.src) e._aData = Ha(a, e, d, d === k ? k : e._aData).data;
        else {
            var j = e.anCells;
            if (j)
                if (d !== k) g(j[d], d);
                else {
                    c = 0;
                    for (f = j.length; c < f; c++) g(j[c], c);
                }
        }
        e._aSortData = null;
        e._aFilterData = null;
        g = a.aoColumns;
        if (d !== k) g[d].sType = null;
        else {
            c = 0;
            for (f = g.length; c < f; c++) g[c].sType = null;
            Ka(a, e);
        }
    }

    function Ha(a, b, c, d) {
        var e = [],
            f = b.firstChild,
            g, j, i = 0,
            n, l = a.aoColumns,
            q = a._rowReadObject,
            d = d !== k ? d : q ? {} : [],
            t = function(a, b) {
                if ("string" === typeof a) {
                    var c = a.indexOf("@"); - 1 !== c && (c = a.substring(c + 1), R(a)(d, b.getAttribute(c)));
                }
            },
            m = function(a) {
                if (c === k || c === i) j = l[i], n = h.trim(a.innerHTML), j && j._bAttrSrc ? (R(j.mData._)(d, n), t(j.mData.sort, a), t(j.mData.type, a), t(j.mData.filter, a)) : q ? (j._setter || (j._setter = R(j.mData)), j._setter(d, n)) : d[i] = n;
                i++;
            };
        if (f)
            for (; f;) {
                g = f.nodeName.toUpperCase();
                if ("TD" == g || "TH" == g) m(f), e.push(f);
                f = f.nextSibling;
            } else {
                e = b.anCells;
                f = 0;
                for (g = e.length; f < g; f++) m(e[f]);
            }
        if (b = b.firstChild ? b : b.nTr)(b = b.getAttribute("id")) && R(a.rowId)(d, b);
        return {
            data: d,
            cells: e
        };
    }

    function Ga(a, b, c, d) {
        var e = a.aoData[b],
            f = e._aData,
            g = [],
            j, i, n, l, q;
        if (null === e.nTr) {
            j = c || G.createElement("tr");
            e.nTr = j;
            e.anCells = g;
            j._DT_RowIndex = b;
            Ka(a, e);
            l = 0;
            for (q = a.aoColumns.length; l < q; l++) {
                n = a.aoColumns[l];
                i = c ? d[l] : G.createElement(n.sCellType);
                i._DT_CellIndex = {
                    row: b,
                    column: l
                };
                g.push(i);
                if ((!c || n.mRender || n.mData !== l) && (!h.isPlainObject(n.mData) || n.mData._ !== l + ".display")) i.innerHTML = B(a, b, l, "display");
                n.sClass && (i.className += " " + n.sClass);
                n.bVisible && !c ? j.appendChild(i) : !n.bVisible && c && i.parentNode.removeChild(i);
                n.fnCreatedCell && n.fnCreatedCell.call(a.oInstance, i, B(a, b, l), f, b, l);
            }
            r(a, "aoRowCreatedCallback", null, [j, f, b]);
        }
        e.nTr.setAttribute("role", "row");
    }

    function Ka(a, b) {
        var c = b.nTr,
            d = b._aData;
        if (c) {
            var e = a.rowIdFn(d);
            e && (c.id = e);
            d.DT_RowClass && (e = d.DT_RowClass.split(" "), b.__rowc = b.__rowc ? qa(b.__rowc.concat(e)) : e, h(c).removeClass(b.__rowc.join(" ")).addClass(d.DT_RowClass));
            d.DT_RowAttr && h(c).attr(d.DT_RowAttr);
            d.DT_RowData && h(c).data(d.DT_RowData);
        }
    }

    function jb(a) {
        var b, c, d, e, f, g = a.nTHead,
            j = a.nTFoot,
            i = 0 === h("th, td", g).length,
            n = a.oClasses,
            l = a.aoColumns;
        i && (e = h("<tr/>").appendTo(g));
        b = 0;
        for (c = l.length; b < c; b++) f = l[b], d = h(f.nTh).addClass(f.sClass), i && d.appendTo(e), a.oFeatures.bSort && (d.addClass(f.sSortingClass), !1 !== f.bSortable && (d.attr("tabindex", a.iTabIndex).attr("aria-controls", a.sTableId), La(a, f.nTh, b))), f.sTitle != d[0].innerHTML && d.html(f.sTitle), Ma(a, "header")(a, d, f, n);
        i && da(a.aoHeader, g);
        h(g).find(">tr").attr("role", "row");
        h(g).find(">tr>th, >tr>td").addClass(n.sHeaderTH);
        h(j).find(">tr>th, >tr>td").addClass(n.sFooterTH);
        if (null !== j) {
            a = a.aoFooter[0];
            b = 0;
            for (c = a.length; b < c; b++) f = l[b], f.nTf = a[b].cell, f.sClass && h(f.nTf).addClass(f.sClass);
        }
    }

    function ea(a, b, c) {
        var d, e, f, g = [],
            j = [],
            i = a.aoColumns.length,
            n;
        if (b) {
            c === k && (c = !1);
            d = 0;
            for (e = b.length; d < e; d++) {
                g[d] = b[d].slice();
                g[d].nTr = b[d].nTr;
                for (f = i - 1; 0 <= f; f--) !a.aoColumns[f].bVisible && !c && g[d].splice(f, 1);
                j.push([]);
            }
            d = 0;
            for (e = g.length; d < e; d++) {
                if (a = g[d].nTr)
                    for (; f = a.firstChild;) a.removeChild(f);
                f = 0;
                for (b = g[d].length; f < b; f++)
                    if (n = i = 1, j[d][f] === k) {
                        a.appendChild(g[d][f].cell);
                        for (j[d][f] = 1; g[d + i] !== k && g[d][f].cell == g[d + i][f].cell;) j[d + i][f] = 1, i++;
                        for (; g[d][f + n] !== k && g[d][f].cell == g[d][f + n].cell;) {
                            for (c = 0; c < i; c++) j[d + c][f + n] = 1;
                            n++;
                        }
                        h(g[d][f].cell).attr("rowspan", i).attr("colspan", n);
                    }
            }
        }
    }

    function N(a) {
        var b = r(a, "aoPreDrawCallback", "preDraw", [a]);
        if (-1 !== h.inArray(!1, b)) C(a, !1);
        else {
            var b = [],
                c = 0,
                d = a.asStripeClasses,
                e = d.length,
                f = a.oLanguage,
                g = a.iInitDisplayStart,
                j = "ssp" == y(a),
                i = a.aiDisplay;
            a.bDrawing = !0;
            g !== k && -1 !== g && (a._iDisplayStart = j ? g : g >= a.fnRecordsDisplay() ? 0 : g, a.iInitDisplayStart = -1);
            var g = a._iDisplayStart,
                n = a.fnDisplayEnd();
            if (a.bDeferLoading) a.bDeferLoading = !1, a.iDraw++, C(a, !1);
            else if (j) {
                if (!a.bDestroying && !kb(a)) return;
            } else a.iDraw++;
            if (0 !== i.length) {
                f = j ? a.aoData.length : n;
                for (j = j ? 0 : g; j < f; j++) {
                    var l = i[j],
                        q = a.aoData[l];
                    null === q.nTr && Ga(a, l);
                    l = q.nTr;
                    if (0 !== e) {
                        var t = d[c % e];
                        q._sRowStripe != t && (h(l).removeClass(q._sRowStripe).addClass(t), q._sRowStripe = t);
                    }
                    r(a, "aoRowCallback", null, [l, q._aData, c, j]);
                    b.push(l);
                    c++;
                }
            } else c = f.sZeroRecords, 1 == a.iDraw && "ajax" == y(a) ? c = f.sLoadingRecords : f.sEmptyTable && 0 === a.fnRecordsTotal() && (c = f.sEmptyTable), b[0] = h("<tr/>", {
                "class": e ? d[0] : ""
            }).append(h("<td />", {
                valign: "top",
                colSpan: aa(a),
                "class": a.oClasses.sRowEmpty
            }).html(c))[0];
            r(a, "aoHeaderCallback", "header", [h(a.nTHead).children("tr")[0], Ja(a), g, n, i]);
            r(a, "aoFooterCallback", "footer", [h(a.nTFoot).children("tr")[0], Ja(a), g, n, i]);
            d = h(a.nTBody);
            d.children().detach();
            d.append(h(b));
            r(a, "aoDrawCallback", "draw", [a]);
            a.bSorted = !1;
            a.bFiltered = !1;
            a.bDrawing = !1;
        }
    }

    function S(a, b) {
        var c = a.oFeatures,
            d = c.bFilter;
        c.bSort && lb(a);
        d ? fa(a, a.oPreviousSearch) : a.aiDisplay = a.aiDisplayMaster.slice();
        !0 !== b && (a._iDisplayStart = 0);
        a._drawHold = b;
        N(a);
        a._drawHold = !1;
    }

    function mb(a) {
        var b = a.oClasses,
            c = h(a.nTable),
            c = h("<div/>").insertBefore(c),
            d = a.oFeatures,
            e = h("<div/>", {
                id: a.sTableId + "_wrapper",
                "class": b.sWrapper + (a.nTFoot ? "" : " " + b.sNoFooter)
            });
        a.nHolding = c[0];
        a.nTableWrapper = e[0];
        a.nTableReinsertBefore = a.nTable.nextSibling;
        for (var f = a.sDom.split(""), g, j, i, n, l, q, k = 0; k < f.length; k++) {
            g = null;
            j = f[k];
            if ("<" == j) {
                i = h("<div/>")[0];
                n = f[k + 1];
                if ("'" == n || '"' == n) {
                    l = "";
                    for (q = 2; f[k + q] != n;) l += f[k + q], q++;
                    "H" == l ? l = b.sJUIHeader : "F" == l && (l = b.sJUIFooter); - 1 != l.indexOf(".") ? (n = l.split("."), i.id = n[0].substr(1, n[0].length - 1), i.className = n[1]) : "#" == l.charAt(0) ? i.id = l.substr(1, l.length - 1) : i.className = l;
                    k += q;
                }
                e.append(i);
                e = h(i);
            } else if (">" == j) e = e.parent();
            else if ("l" == j && d.bPaginate && d.bLengthChange) g = nb(a);
            else if ("f" == j && d.bFilter) g = ob(a);
            else if ("r" == j && d.bProcessing) g = pb(a);
            else if ("t" == j) g = qb(a);
            else if ("i" == j && d.bInfo) g = rb(a);
            else if ("p" == j && d.bPaginate) g = sb(a);
            else if (0 !== m.ext.feature.length) {
                i = m.ext.feature;
                q = 0;
                for (n = i.length; q < n; q++)
                    if (j == i[q].cFeature) {
                        g = i[q].fnInit(a);
                        break;
                    }
            }
            g && (i = a.aanFeatures, i[j] || (i[j] = []), i[j].push(g), e.append(g));
        }
        c.replaceWith(e);
        a.nHolding = null;
    }

    function da(a, b) {
        var c = h(b).children("tr"),
            d, e, f, g, j, i, n, l, q, k;
        a.splice(0, a.length);
        f = 0;
        for (i = c.length; f < i; f++) a.push([]);
        f = 0;
        for (i = c.length; f < i; f++) {
            d = c[f];
            for (e = d.firstChild; e;) {
                if ("TD" == e.nodeName.toUpperCase() || "TH" == e.nodeName.toUpperCase()) {
                    l = 1 * e.getAttribute("colspan");
                    q = 1 * e.getAttribute("rowspan");
                    l = !l || 0 === l || 1 === l ? 1 : l;
                    q = !q || 0 === q || 1 === q ? 1 : q;
                    g = 0;
                    for (j = a[f]; j[g];) g++;
                    n = g;
                    k = 1 === l ? !0 : !1;
                    for (j = 0; j < l; j++)
                        for (g = 0; g < q; g++) a[f + g][n + j] = {
                            cell: e,
                            unique: k
                        }, a[f + g].nTr = d;
                }
                e = e.nextSibling;
            }
        }
    }

    function ra(a, b, c) {
        var d = [];
        c || (c = a.aoHeader, b && (c = [], da(c, b)));
        for (var b = 0, e = c.length; b < e; b++)
            for (var f = 0, g = c[b].length; f < g; f++)
                if (c[b][f].unique && (!d[f] || !a.bSortCellsTop)) d[f] = c[b][f].cell;
        return d;
    }

    function sa(a, b, c) {
        r(a, "aoServerParams", "serverParams", [b]);
        if (b && h.isArray(b)) {
            var d = {},
                e = /(.*?)\[\]$/;
            h.each(b, function(a, b) {
                var c = b.name.match(e);
                c ? (c = c[0], d[c] || (d[c] = []), d[c].push(b.value)) : d[b.name] = b.value;
            });
            b = d;
        }
        var f, g = a.ajax,
            j = a.oInstance,
            i = function(b) {
                r(a, null, "xhr", [a, b, a.jqXHR]);
                c(b);
            };
        if (h.isPlainObject(g) && g.data) {
            f = g.data;
            var n = h.isFunction(f) ? f(b, a) : f,
                b = h.isFunction(f) && n ? n : h.extend(!0, b, n);
            delete g.data;
        }
        n = {
            data: b,
            success: function(b) {
                var c = b.error || b.sError;
                c && J(a, 0, c);
                a.json = b;
                i(b);
            },
            dataType: "json",
            cache: !1,
            type: a.sServerMethod,
            error: function(b, c) {
                var d = r(a, null, "xhr", [a, null, a.jqXHR]); - 1 === h.inArray(!0, d) && ("parsererror" == c ? J(a, 0, "Invalid JSON response", 1) : 4 === b.readyState && J(a, 0, "Ajax error", 7));
                C(a, !1);
            }
        };
        a.oAjaxData = b;
        r(a, null, "preXhr", [a, b]);
        a.fnServerData ? a.fnServerData.call(j, a.sAjaxSource, h.map(b, function(a, b) {
            return {
                name: b,
                value: a
            };
        }), i, a) : a.sAjaxSource || "string" === typeof g ? a.jqXHR = h.ajax(h.extend(n, {
            url: g || a.sAjaxSource
        })) : h.isFunction(g) ? a.jqXHR = g.call(j, b, i, a) : (a.jqXHR = h.ajax(h.extend(n, g)), g.data = f);
    }

    function kb(a) {
        return a.bAjaxDataGet ? (a.iDraw++, C(a, !0), sa(a, tb(a), function(b) {
            ub(a, b);
        }), !1) : !0;
    }

    function tb(a) {
        var b = a.aoColumns,
            c = b.length,
            d = a.oFeatures,
            e = a.oPreviousSearch,
            f = a.aoPreSearchCols,
            g, j = [],
            i, n, l, k = V(a);
        g = a._iDisplayStart;
        i = !1 !== d.bPaginate ? a._iDisplayLength : -1;
        var t = function(a, b) {
            j.push({
                name: a,
                value: b
            });
        };
        t("sEcho", a.iDraw);
        t("iColumns", c);
        t("sColumns", D(b, "sName").join(","));
        t("iDisplayStart", g);
        t("iDisplayLength", i);
        var pa = {
            draw: a.iDraw,
            columns: [],
            order: [],
            start: g,
            length: i,
            search: {
                value: e.sSearch,
                regex: e.bRegex
            }
        };
        for (g = 0; g < c; g++) n = b[g], l = f[g], i = "function" == typeof n.mData ? "function" : n.mData, pa.columns.push({
            data: i,
            name: n.sName,
            searchable: n.bSearchable,
            orderable: n.bSortable,
            search: {
                value: l.sSearch,
                regex: l.bRegex
            }
        }), t("mDataProp_" + g, i), d.bFilter && (t("sSearch_" + g, l.sSearch), t("bRegex_" + g, l.bRegex), t("bSearchable_" + g, n.bSearchable)), d.bSort && t("bSortable_" + g, n.bSortable);
        d.bFilter && (t("sSearch", e.sSearch), t("bRegex", e.bRegex));
        d.bSort && (h.each(k, function(a, b) {
            pa.order.push({
                column: b.col,
                dir: b.dir
            });
            t("iSortCol_" + a, b.col);
            t("sSortDir_" + a, b.dir);
        }), t("iSortingCols", k.length));
        b = m.ext.legacy.ajax;
        return null === b ? a.sAjaxSource ? j : pa : b ? j : pa;
    }

    function ub(a, b) {
        var c = ta(a, b),
            d = b.sEcho !== k ? b.sEcho : b.draw,
            e = b.iTotalRecords !== k ? b.iTotalRecords : b.recordsTotal,
            f = b.iTotalDisplayRecords !== k ? b.iTotalDisplayRecords : b.recordsFiltered;
        if (d) {
            if (1 * d < a.iDraw) return;
            a.iDraw = 1 * d;
        }
        na(a);
        a._iRecordsTotal = parseInt(e, 10);
        a._iRecordsDisplay = parseInt(f, 10);
        d = 0;
        for (e = c.length; d < e; d++) M(a, c[d]);
        a.aiDisplay = a.aiDisplayMaster.slice();
        a.bAjaxDataGet = !1;
        N(a);
        a._bInitComplete || ua(a, b);
        a.bAjaxDataGet = !0;
        C(a, !1);
    }

    function ta(a, b) {
        var c = h.isPlainObject(a.ajax) && a.ajax.dataSrc !== k ? a.ajax.dataSrc : a.sAjaxDataProp;
        return "data" === c ? b.aaData || b[c] : "" !== c ? Q(c)(b) : b;
    }

    function ob(a) {
        var b = a.oClasses,
            c = a.sTableId,
            d = a.oLanguage,
            e = a.oPreviousSearch,
            f = a.aanFeatures,
            g = '<input type="search" class="' + b.sFilterInput + '"/>',
            j = d.sSearch,
            j = j.match(/_INPUT_/) ? j.replace("_INPUT_", g) : j + g,
            b = h("<div/>", {
                id: !f.f ? c + "_filter" : null,
                "class": b.sFilter
            }).append(h("<label/>").append(j)),
            f = function() {
                var b = !this.value ? "" : this.value;
                b != e.sSearch && (fa(a, {
                    sSearch: b,
                    bRegex: e.bRegex,
                    bSmart: e.bSmart,
                    bCaseInsensitive: e.bCaseInsensitive
                }), a._iDisplayStart = 0, N(a));
            },
            g = null !== a.searchDelay ? a.searchDelay : "ssp" === y(a) ? 400 : 0,
            i = h("input", b).val(e.sSearch).attr("placeholder", d.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT", g ? Na(f, g) : f).on("keypress.DT", function(a) {
                if (13 == a.keyCode) return !1;
            }).attr("aria-controls", c);
        h(a.nTable).on("search.dt.DT", function(b, c) {
            if (a === c) try {
                i[0] !== G.activeElement && i.val(e.sSearch);
            } catch (d) {}
        });
        return b[0];
    }

    function fa(a, b, c) {
        var d = a.oPreviousSearch,
            e = a.aoPreSearchCols,
            f = function(a) {
                d.sSearch = a.sSearch;
                d.bRegex = a.bRegex;
                d.bSmart = a.bSmart;
                d.bCaseInsensitive = a.bCaseInsensitive;
            };
        Fa(a);
        if ("ssp" != y(a)) {
            vb(a, b.sSearch, c, b.bEscapeRegex !== k ? !b.bEscapeRegex : b.bRegex, b.bSmart, b.bCaseInsensitive);
            f(b);
            for (b = 0; b < e.length; b++) wb(a, e[b].sSearch, b, e[b].bEscapeRegex !== k ? !e[b].bEscapeRegex : e[b].bRegex, e[b].bSmart, e[b].bCaseInsensitive);
            xb(a);
        } else f(b);
        a.bFiltered = !0;
        r(a, null, "search", [a]);
    }

    function xb(a) {
        for (var b = m.ext.search, c = a.aiDisplay, d, e, f = 0, g = b.length; f < g; f++) {
            for (var j = [], i = 0, n = c.length; i < n; i++) e = c[i], d = a.aoData[e], b[f](a, d._aFilterData, e, d._aData, i) && j.push(e);
            c.length = 0;
            h.merge(c, j);
        }
    }

    function wb(a, b, c, d, e, f) {
        if ("" !== b) {
            for (var g = [], j = a.aiDisplay, d = Oa(b, d, e, f), e = 0; e < j.length; e++) b = a.aoData[j[e]]._aFilterData[c], d.test(b) && g.push(j[e]);
            a.aiDisplay = g;
        }
    }

    function vb(a, b, c, d, e, f) {
        var d = Oa(b, d, e, f),
            f = a.oPreviousSearch.sSearch,
            g = a.aiDisplayMaster,
            j, e = [];
        0 !== m.ext.search.length && (c = !0);
        j = yb(a);
        if (0 >= b.length) a.aiDisplay = g.slice();
        else {
            if (j || c || f.length > b.length || 0 !== b.indexOf(f) || a.bSorted) a.aiDisplay = g.slice();
            b = a.aiDisplay;
            for (c = 0; c < b.length; c++) d.test(a.aoData[b[c]]._sFilterRow) && e.push(b[c]);
            a.aiDisplay = e;
        }
    }

    function Oa(a, b, c, d) {
        a = b ? a : Pa(a);
        c && (a = "^(?=.*?" + h.map(a.match(/"[^"]+"|[^ ]+/g) || [""], function(a) {
            if ('"' === a.charAt(0)) var b = a.match(/^"(.*)"$/),
                a = b ? b[1] : a;
            return a.replace('"', "");
        }).join(")(?=.*?") + ").*$");
        return RegExp(a, d ? "i" : "");
    }

    function yb(a) {
        var b = a.aoColumns,
            c, d, e, f, g, j, i, h, l = m.ext.type.search;
        c = !1;
        d = 0;
        for (f = a.aoData.length; d < f; d++)
            if (h = a.aoData[d], !h._aFilterData) {
                j = [];
                e = 0;
                for (g = b.length; e < g; e++) c = b[e], c.bSearchable ? (i = B(a, d, e, "filter"), l[c.sType] && (i = l[c.sType](i)), null === i && (i = ""), "string" !== typeof i && i.toString && (i = i.toString())) : i = "", i.indexOf && -1 !== i.indexOf("&") && (va.innerHTML = i, i = Wb ? va.textContent : va.innerText), i.replace && (i = i.replace(/[\r\n]/g, "")), j.push(i);
                h._aFilterData = j;
                h._sFilterRow = j.join("  ");
                c = !0;
            }
        return c;
    }

    function zb(a) {
        return {
            search: a.sSearch,
            smart: a.bSmart,
            regex: a.bRegex,
            caseInsensitive: a.bCaseInsensitive
        };
    }

    function Ab(a) {
        return {
            sSearch: a.search,
            bSmart: a.smart,
            bRegex: a.regex,
            bCaseInsensitive: a.caseInsensitive
        };
    }

    function rb(a) {
        var b = a.sTableId,
            c = a.aanFeatures.i,
            d = h("<div/>", {
                "class": a.oClasses.sInfo,
                id: !c ? b + "_info" : null
            });
        c || (a.aoDrawCallback.push({
            fn: Bb,
            sName: "information"
        }), d.attr("role", "status").attr("aria-live", "polite"), h(a.nTable).attr("aria-describedby", b + "_info"));
        return d[0];
    }

    function Bb(a) {
        var b = a.aanFeatures.i;
        if (0 !== b.length) {
            var c = a.oLanguage,
                d = a._iDisplayStart + 1,
                e = a.fnDisplayEnd(),
                f = a.fnRecordsTotal(),
                g = a.fnRecordsDisplay(),
                j = g ? c.sInfo : c.sInfoEmpty;
            g !== f && (j += " " + c.sInfoFiltered);
            j += c.sInfoPostFix;
            j = Cb(a, j);
            c = c.fnInfoCallback;
            null !== c && (j = c.call(a.oInstance, a, d, e, f, g, j));
            h(b).html(j);
        }
    }

    function Cb(a, b) {
        var c = a.fnFormatNumber,
            d = a._iDisplayStart + 1,
            e = a._iDisplayLength,
            f = a.fnRecordsDisplay(),
            g = -1 === e;
        return b.replace(/_START_/g, c.call(a, d)).replace(/_END_/g, c.call(a, a.fnDisplayEnd())).replace(/_MAX_/g, c.call(a, a.fnRecordsTotal())).replace(/_TOTAL_/g, c.call(a, f)).replace(/_PAGE_/g, c.call(a, g ? 1 : Math.ceil(d / e))).replace(/_PAGES_/g, c.call(a, g ? 1 : Math.ceil(f / e)));
    }

    function ga(a) {
        var b, c, d = a.iInitDisplayStart,
            e = a.aoColumns,
            f;
        c = a.oFeatures;
        var g = a.bDeferLoading;
        if (a.bInitialised) {
            mb(a);
            jb(a);
            ea(a, a.aoHeader);
            ea(a, a.aoFooter);
            C(a, !0);
            c.bAutoWidth && Ea(a);
            b = 0;
            for (c = e.length; b < c; b++) f = e[b], f.sWidth && (f.nTh.style.width = v(f.sWidth));
            r(a, null, "preInit", [a]);
            S(a);
            e = y(a);
            if ("ssp" != e || g) "ajax" == e ? sa(a, [], function(c) {
                var f = ta(a, c);
                for (b = 0; b < f.length; b++) M(a, f[b]);
                a.iInitDisplayStart = d;
                S(a);
                C(a, !1);
                ua(a, c);
            }, a) : (C(a, !1), ua(a));
        } else setTimeout(function() {
            ga(a);
        }, 200);
    }

    function ua(a, b) {
        a._bInitComplete = !0;
        (b || a.oInit.aaData) && Y(a);
        r(a, null, "plugin-init", [a, b]);
        r(a, "aoInitComplete", "init", [a, b]);
    }

    function Qa(a, b) {
        var c = parseInt(b, 10);
        a._iDisplayLength = c;
        Ra(a);
        r(a, null, "length", [a, c]);
    }

    function nb(a) {
        for (var b = a.oClasses, c = a.sTableId, d = a.aLengthMenu, e = h.isArray(d[0]), f = e ? d[0] : d, d = e ? d[1] : d, e = h("<select/>", {
                name: c + "_length",
                "aria-controls": c,
                "class": b.sLengthSelect
            }), g = 0, j = f.length; g < j; g++) e[0][g] = new Option("number" === typeof d[g] ? a.fnFormatNumber(d[g]) : d[g], f[g]);
        var i = h("<div><label/></div>").addClass(b.sLength);
        a.aanFeatures.l || (i[0].id = c + "_length");
        i.children().append(a.oLanguage.sLengthMenu.replace("_MENU_", e[0].outerHTML));
        h("select", i).val(a._iDisplayLength).on("change.DT", function() {
            Qa(a, h(this).val());
            N(a);
        });
        h(a.nTable).on("length.dt.DT", function(b, c, d) {
            a === c && h("select", i).val(d);
        });
        return i[0];
    }

    function sb(a) {
        var b = a.sPaginationType,
            c = m.ext.pager[b],
            d = "function" === typeof c,
            e = function(a) {
                N(a);
            },
            b = h("<div/>").addClass(a.oClasses.sPaging + b)[0],
            f = a.aanFeatures;
        d || c.fnInit(a, b, e);
        f.p || (b.id = a.sTableId + "_paginate", a.aoDrawCallback.push({
            fn: function(a) {
                if (d) {
                    var b = a._iDisplayStart,
                        i = a._iDisplayLength,
                        h = a.fnRecordsDisplay(),
                        l = -1 === i,
                        b = l ? 0 : Math.ceil(b / i),
                        i = l ? 1 : Math.ceil(h / i),
                        h = c(b, i),
                        k, l = 0;
                    for (k = f.p.length; l < k; l++) Ma(a, "pageButton")(a, f.p[l], l, h, b, i);
                } else c.fnUpdate(a, e);
            },
            sName: "pagination"
        }));
        return b;
    }

    function Sa(a, b, c) {
        var d = a._iDisplayStart,
            e = a._iDisplayLength,
            f = a.fnRecordsDisplay();
        0 === f || -1 === e ? d = 0 : "number" === typeof b ? (d = b * e, d > f && (d = 0)) : "first" == b ? d = 0 : "previous" == b ? (d = 0 <= e ? d - e : 0, 0 > d && (d = 0)) : "next" == b ? d + e < f && (d += e) : "last" == b ? d = Math.floor((f - 1) / e) * e : J(a, 0, "Unknown paging action: " + b, 5);
        b = a._iDisplayStart !== d;
        a._iDisplayStart = d;
        b && (r(a, null, "page", [a]), c && N(a));
        return b;
    }

    function pb(a) {
        return h("<div/>", {
            id: !a.aanFeatures.r ? a.sTableId + "_processing" : null,
            "class": a.oClasses.sProcessing
        }).html(a.oLanguage.sProcessing).insertBefore(a.nTable)[0];
    }

    function C(a, b) {
        a.oFeatures.bProcessing && h(a.aanFeatures.r).css("display", b ? "block" : "none");
        r(a, null, "processing", [a, b]);
    }

    function qb(a) {
        var b = h(a.nTable);
        b.attr("role", "grid");
        var c = a.oScroll;
        if ("" === c.sX && "" === c.sY) return a.nTable;
        var d = c.sX,
            e = c.sY,
            f = a.oClasses,
            g = b.children("caption"),
            j = g.length ? g[0]._captionSide : null,
            i = h(b[0].cloneNode(!1)),
            n = h(b[0].cloneNode(!1)),
            l = b.children("tfoot");
        l.length || (l = null);
        i = h("<div/>", {
            "class": f.sScrollWrapper
        }).append(h("<div/>", {
            "class": f.sScrollHead
        }).css({
            overflow: "hidden",
            position: "relative",
            border: 0,
            width: d ? !d ? null : v(d) : "100%"
        }).append(h("<div/>", {
            "class": f.sScrollHeadInner
        }).css({
            "box-sizing": "content-box",
            width: c.sXInner || "100%"
        }).append(i.removeAttr("id").css("margin-left", 0).append("top" === j ? g : null).append(b.children("thead"))))).append(h("<div/>", {
            "class": f.sScrollBody
        }).css({
            position: "relative",
            overflow: "auto",
            width: !d ? null : v(d)
        }).append(b));
        l && i.append(h("<div/>", {
            "class": f.sScrollFoot
        }).css({
            overflow: "hidden",
            border: 0,
            width: d ? !d ? null : v(d) : "100%"
        }).append(h("<div/>", {
            "class": f.sScrollFootInner
        }).append(n.removeAttr("id").css("margin-left", 0).append("bottom" === j ? g : null).append(b.children("tfoot")))));
        var b = i.children(),
            k = b[0],
            f = b[1],
            t = l ? b[2] : null;
        if (d) h(f).on("scroll.DT", function() {
            var a = this.scrollLeft;
            k.scrollLeft = a;
            l && (t.scrollLeft = a);
        });
        h(f).css(e && c.bCollapse ? "max-height" : "height", e);
        a.nScrollHead = k;
        a.nScrollBody = f;
        a.nScrollFoot = t;
        a.aoDrawCallback.push({
            fn: ka,
            sName: "scrolling"
        });
        return i[0];
    }

    function ka(a) {
        var b = a.oScroll,
            c = b.sX,
            d = b.sXInner,
            e = b.sY,
            b = b.iBarWidth,
            f = h(a.nScrollHead),
            g = f[0].style,
            j = f.children("div"),
            i = j[0].style,
            n = j.children("table"),
            j = a.nScrollBody,
            l = h(j),
            q = j.style,
            t = h(a.nScrollFoot).children("div"),
            m = t.children("table"),
            o = h(a.nTHead),
            p = h(a.nTable),
            s = p[0],
            r = s.style,
            u = a.nTFoot ? h(a.nTFoot) : null,
            x = a.oBrowser,
            T = x.bScrollOversize,
            Xb = D(a.aoColumns, "nTh"),
            O, K, P, w, Ta = [],
            y = [],
            z = [],
            A = [],
            B, C = function(a) {
                a = a.style;
                a.paddingTop = "0";
                a.paddingBottom = "0";
                a.borderTopWidth = "0";
                a.borderBottomWidth = "0";
                a.height = 0;
            };
        K = j.scrollHeight > j.clientHeight;
        if (a.scrollBarVis !== K && a.scrollBarVis !== k) a.scrollBarVis = K, Y(a);
        else {
            a.scrollBarVis = K;
            p.children("thead, tfoot").remove();
            u && (P = u.clone().prependTo(p), O = u.find("tr"), P = P.find("tr"));
            w = o.clone().prependTo(p);
            o = o.find("tr");
            K = w.find("tr");
            w.find("th, td").removeAttr("tabindex");
            c || (q.width = "100%", f[0].style.width = "100%");
            h.each(ra(a, w), function(b, c) {
                B = Z(a, b);
                c.style.width = a.aoColumns[B].sWidth;
            });
            u && H(function(a) {
                a.style.width = "";
            }, P);
            f = p.outerWidth();
            if ("" === c) {
                r.width = "100%";
                if (T && (p.find("tbody").height() > j.offsetHeight || "scroll" == l.css("overflow-y"))) r.width = v(p.outerWidth() - b);
                f = p.outerWidth();
            } else "" !== d && (r.width = v(d), f = p.outerWidth());
            H(C, K);
            H(function(a) {
                z.push(a.innerHTML);
                Ta.push(v(h(a).css("width")));
            }, K);
            H(function(a, b) {
                if (h.inArray(a, Xb) !== -1) a.style.width = Ta[b];
            }, o);
            h(K).height(0);
            u && (H(C, P), H(function(a) {
                A.push(a.innerHTML);
                y.push(v(h(a).css("width")));
            }, P), H(function(a, b) {
                a.style.width = y[b];
            }, O), h(P).height(0));
            H(function(a, b) {
                a.innerHTML = '<div class="dataTables_sizing" style="height:0;overflow:hidden;">' + z[b] + "</div>";
                a.style.width = Ta[b];
            }, K);
            u && H(function(a, b) {
                a.innerHTML = '<div class="dataTables_sizing" style="height:0;overflow:hidden;">' + A[b] + "</div>";
                a.style.width = y[b];
            }, P);
            if (p.outerWidth() < f) {
                O = j.scrollHeight > j.offsetHeight || "scroll" == l.css("overflow-y") ? f + b : f;
                if (T && (j.scrollHeight > j.offsetHeight || "scroll" == l.css("overflow-y"))) r.width = v(O - b);
                ("" === c || "" !== d) && J(a, 1, "Possible column misalignment", 6);
            } else O = "100%";
            q.width = v(O);
            g.width = v(O);
            u && (a.nScrollFoot.style.width = v(O));
            !e && T && (q.height = v(s.offsetHeight + b));
            c = p.outerWidth();
            n[0].style.width = v(c);
            i.width = v(c);
            d = p.height() > j.clientHeight || "scroll" == l.css("overflow-y");
            e = "padding" + (x.bScrollbarLeft ? "Left" : "Right");
            i[e] = d ? b + "px" : "0px";
            u && (m[0].style.width = v(c), t[0].style.width = v(c), t[0].style[e] = d ? b + "px" : "0px");
            p.children("colgroup").insertBefore(p.children("thead"));
            l.scroll();
            if ((a.bSorted || a.bFiltered) && !a._drawHold) j.scrollTop = 0;
        }
    }

    function H(a, b, c) {
        for (var d = 0, e = 0, f = b.length, g, j; e < f;) {
            g = b[e].firstChild;
            for (j = c ? c[e].firstChild : null; g;) 1 === g.nodeType && (c ? a(g, j, d) : a(g, d), d++), g = g.nextSibling, j = c ? j.nextSibling : null;
            e++;
        }
    }

    function Ea(a) {
        var b = a.nTable,
            c = a.aoColumns,
            d = a.oScroll,
            e = d.sY,
            f = d.sX,
            g = d.sXInner,
            j = c.length,
            i = la(a, "bVisible"),
            n = h("th", a.nTHead),
            l = b.getAttribute("width"),
            k = b.parentNode,
            t = !1,
            m, o, p = a.oBrowser,
            d = p.bScrollOversize;
        (m = b.style.width) && -1 !== m.indexOf("%") && (l = m);
        for (m = 0; m < i.length; m++) o = c[i[m]], null !== o.sWidth && (o.sWidth = Db(o.sWidthOrig, k), t = !0);
        if (d || !t && !f && !e && j == aa(a) && j == n.length)
            for (m = 0; m < j; m++) i = Z(a, m), null !== i && (c[i].sWidth = v(n.eq(m).width()));
        else {
            j = h(b).clone().css("visibility", "hidden").removeAttr("id");
            j.find("tbody tr").remove();
            var s = h("<tr/>").appendTo(j.find("tbody"));
            j.find("thead, tfoot").remove();
            j.append(h(a.nTHead).clone()).append(h(a.nTFoot).clone());
            j.find("tfoot th, tfoot td").css("width", "");
            n = ra(a, j.find("thead")[0]);
            for (m = 0; m < i.length; m++) o = c[i[m]], n[m].style.width = null !== o.sWidthOrig && "" !== o.sWidthOrig ? v(o.sWidthOrig) : "", o.sWidthOrig && f && h(n[m]).append(h("<div/>").css({
                width: o.sWidthOrig,
                margin: 0,
                padding: 0,
                border: 0,
                height: 1
            }));
            if (a.aoData.length)
                for (m = 0; m < i.length; m++) t = i[m], o = c[t], h(Eb(a, t)).clone(!1).append(o.sContentPadding).appendTo(s);
            h("[name]", j).removeAttr("name");
            o = h("<div/>").css(f || e ? {
                position: "absolute",
                top: 0,
                left: 0,
                height: 1,
                right: 0,
                overflow: "hidden"
            } : {}).append(j).appendTo(k);
            f && g ? j.width(g) : f ? (j.css("width", "auto"), j.removeAttr("width"), j.width() < k.clientWidth && l && j.width(k.clientWidth)) : e ? j.width(k.clientWidth) : l && j.width(l);
            for (m = e = 0; m < i.length; m++) k = h(n[m]), g = k.outerWidth() - k.width(), k = p.bBounding ? Math.ceil(n[m].getBoundingClientRect().width) : k.outerWidth(), e += k, c[i[m]].sWidth = v(k - g);
            b.style.width = v(e);
            o.remove();
        }
        l && (b.style.width = v(l));
        if ((l || f) && !a._reszEvt) b = function() {
            h(E).on("resize.DT-" + a.sInstance, Na(function() {
                Y(a);
            }));
        }, d ? setTimeout(b, 1E3) : b(), a._reszEvt = !0;
    }

    function Db(a, b) {
        if (!a) return 0;
        var c = h("<div/>").css("width", v(a)).appendTo(b || G.body),
            d = c[0].offsetWidth;
        c.remove();
        return d;
    }

    function Eb(a, b) {
        var c = Fb(a, b);
        if (0 > c) return null;
        var d = a.aoData[c];
        return !d.nTr ? h("<td/>").html(B(a, c, b, "display"))[0] : d.anCells[b];
    }

    function Fb(a, b) {
        for (var c, d = -1, e = -1, f = 0, g = a.aoData.length; f < g; f++) c = B(a, f, b, "display") + "", c = c.replace(Yb, ""), c = c.replace(/&nbsp;/g, " "), c.length > d && (d = c.length, e = f);
        return e;
    }

    function v(a) {
        return null === a ? "0px" : "number" == typeof a ? 0 > a ? "0px" : a + "px" : a.match(/\d$/) ? a + "px" : a;
    }

    function V(a) {
        var b, c, d = [],
            e = a.aoColumns,
            f, g, j, i;
        b = a.aaSortingFixed;
        c = h.isPlainObject(b);
        var n = [];
        f = function(a) {
            a.length && !h.isArray(a[0]) ? n.push(a) : h.merge(n, a);
        };
        h.isArray(b) && f(b);
        c && b.pre && f(b.pre);
        f(a.aaSorting);
        c && b.post && f(b.post);
        for (a = 0; a < n.length; a++) {
            i = n[a][0];
            f = e[i].aDataSort;
            b = 0;
            for (c = f.length; b < c; b++) g = f[b], j = e[g].sType || "string", n[a]._idx === k && (n[a]._idx = h.inArray(n[a][1], e[g].asSorting)), d.push({
                src: i,
                col: g,
                dir: n[a][1],
                index: n[a]._idx,
                type: j,
                formatter: m.ext.type.order[j + "-pre"]
            });
        }
        return d;
    }

    function lb(a) {
        var b, c, d = [],
            e = m.ext.type.order,
            f = a.aoData,
            g = 0,
            j, i = a.aiDisplayMaster,
            h;
        Fa(a);
        h = V(a);
        b = 0;
        for (c = h.length; b < c; b++) j = h[b], j.formatter && g++, Gb(a, j.col);
        if ("ssp" != y(a) && 0 !== h.length) {
            b = 0;
            for (c = i.length; b < c; b++) d[i[b]] = b;
            g === h.length ? i.sort(function(a, b) {
                var c, e, g, j, i = h.length,
                    k = f[a]._aSortData,
                    m = f[b]._aSortData;
                for (g = 0; g < i; g++)
                    if (j = h[g], c = k[j.col], e = m[j.col], c = c < e ? -1 : c > e ? 1 : 0, 0 !== c) return "asc" === j.dir ? c : -c;
                c = d[a];
                e = d[b];
                return c < e ? -1 : c > e ? 1 : 0;
            }) : i.sort(function(a, b) {
                var c, g, j, i, k = h.length,
                    m = f[a]._aSortData,
                    o = f[b]._aSortData;
                for (j = 0; j < k; j++)
                    if (i = h[j], c = m[i.col], g = o[i.col], i = e[i.type + "-" + i.dir] || e["string-" + i.dir], c = i(c, g), 0 !== c) return c;
                c = d[a];
                g = d[b];
                return c < g ? -1 : c > g ? 1 : 0;
            });
        }
        a.bSorted = !0;
    }

    function Hb(a) {
        for (var b, c, d = a.aoColumns, e = V(a), a = a.oLanguage.oAria, f = 0, g = d.length; f < g; f++) {
            c = d[f];
            var j = c.asSorting;
            b = c.sTitle.replace(/<.*?>/g, "");
            var i = c.nTh;
            i.removeAttribute("aria-sort");
            c.bSortable && (0 < e.length && e[0].col == f ? (i.setAttribute("aria-sort", "asc" == e[0].dir ? "ascending" : "descending"), c = j[e[0].index + 1] || j[0]) : c = j[0], b += "asc" === c ? a.sSortAscending : a.sSortDescending);
            i.setAttribute("aria-label", b);
        }
    }

    function Ua(a, b, c, d) {
        var e = a.aaSorting,
            f = a.aoColumns[b].asSorting,
            g = function(a, b) {
                var c = a._idx;
                c === k && (c = h.inArray(a[1], f));
                return c + 1 < f.length ? c + 1 : b ? null : 0;
            };
        "number" === typeof e[0] && (e = a.aaSorting = [e]);
        c && a.oFeatures.bSortMulti ? (c = h.inArray(b, D(e, "0")), -1 !== c ? (b = g(e[c], !0), null === b && 1 === e.length && (b = 0), null === b ? e.splice(c, 1) : (e[c][1] = f[b], e[c]._idx = b)) : (e.push([b, f[0], 0]), e[e.length - 1]._idx = 0)) : e.length && e[0][0] == b ? (b = g(e[0]), e.length = 1, e[0][1] = f[b], e[0]._idx = b) : (e.length = 0, e.push([b, f[0]]), e[0]._idx = 0);
        S(a);
        "function" == typeof d && d(a);
    }

    function La(a, b, c, d) {
        var e = a.aoColumns[c];
        Va(b, {}, function(b) {
            !1 !== e.bSortable && (a.oFeatures.bProcessing ? (C(a, !0), setTimeout(function() {
                Ua(a, c, b.shiftKey, d);
                "ssp" !== y(a) && C(a, !1);
            }, 0)) : Ua(a, c, b.shiftKey, d));
        });
    }

    function wa(a) {
        var b = a.aLastSort,
            c = a.oClasses.sSortColumn,
            d = V(a),
            e = a.oFeatures,
            f, g;
        if (e.bSort && e.bSortClasses) {
            e = 0;
            for (f = b.length; e < f; e++) g = b[e].src, h(D(a.aoData, "anCells", g)).removeClass(c + (2 > e ? e + 1 : 3));
            e = 0;
            for (f = d.length; e < f; e++) g = d[e].src, h(D(a.aoData, "anCells", g)).addClass(c + (2 > e ? e + 1 : 3));
        }
        a.aLastSort = d;
    }

    function Gb(a, b) {
        var c = a.aoColumns[b],
            d = m.ext.order[c.sSortDataType],
            e;
        d && (e = d.call(a.oInstance, a, b, $(a, b)));
        for (var f, g = m.ext.type.order[c.sType + "-pre"], j = 0, i = a.aoData.length; j < i; j++)
            if (c = a.aoData[j], c._aSortData || (c._aSortData = []), !c._aSortData[b] || d) f = d ? e[j] : B(a, j, b, "sort"), c._aSortData[b] = g ? g(f) : f;
    }

    function xa(a) {
        if (a.oFeatures.bStateSave && !a.bDestroying) {
            var b = {
                time: +new Date(),
                start: a._iDisplayStart,
                length: a._iDisplayLength,
                order: h.extend(!0, [], a.aaSorting),
                search: zb(a.oPreviousSearch),
                columns: h.map(a.aoColumns, function(b, d) {
                    return {
                        visible: b.bVisible,
                        search: zb(a.aoPreSearchCols[d])
                    };
                })
            };
            r(a, "aoStateSaveParams", "stateSaveParams", [a, b]);
            a.oSavedState = b;
            a.fnStateSaveCallback.call(a.oInstance, a, b);
        }
    }

    function Ib(a, b, c) {
        var d, e, f = a.aoColumns,
            b = function(b) {
                if (b && b.time) {
                    var g = r(a, "aoStateLoadParams", "stateLoadParams", [a, b]);
                    if (-1 === h.inArray(!1, g) && (g = a.iStateDuration, !(0 < g && b.time < +new Date() - 1E3 * g) && !(b.columns && f.length !== b.columns.length))) {
                        a.oLoadedState = h.extend(!0, {}, b);
                        b.start !== k && (a._iDisplayStart = b.start, a.iInitDisplayStart = b.start);
                        b.length !== k && (a._iDisplayLength = b.length);
                        b.order !== k && (a.aaSorting = [], h.each(b.order, function(b, c) {
                            a.aaSorting.push(c[0] >= f.length ? [0, c[1]] : c);
                        }));
                        b.search !== k && h.extend(a.oPreviousSearch, Ab(b.search));
                        if (b.columns) {
                            d = 0;
                            for (e = b.columns.length; d < e; d++) g = b.columns[d], g.visible !== k && (f[d].bVisible = g.visible), g.search !== k && h.extend(a.aoPreSearchCols[d], Ab(g.search));
                        }
                        r(a, "aoStateLoaded", "stateLoaded", [a, b]);
                    }
                }
                c();
            };
        if (a.oFeatures.bStateSave) {
            var g = a.fnStateLoadCallback.call(a.oInstance, a, b);
            g !== k && b(g);
        } else c();
    }

    function ya(a) {
        var b = m.settings,
            a = h.inArray(a, D(b, "nTable"));
        return -1 !== a ? b[a] : null;
    }

    function J(a, b, c, d) {
        c = "DataTables warning: " + (a ? "table id=" + a.sTableId + " - " : "") + c;
        d && (c += ". For more information about this error, please see http://datatables.net/tn/" + d);
        if (b) E.console && console.log && console.log(c);
        else if (b = m.ext, b = b.sErrMode || b.errMode, a && r(a, null, "error", [a, d, c]), "alert" == b) alert(c);
        else {
            if ("throw" == b) throw Error(c);
            "function" == typeof b && b(a, d, c);
        }
    }

    function F(a, b, c, d) {
        h.isArray(c) ? h.each(c, function(c, d) {
            h.isArray(d) ? F(a, b, d[0], d[1]) : F(a, b, d);
        }) : (d === k && (d = c), b[c] !== k && (a[d] = b[c]));
    }

    function Jb(a, b, c) {
        var d, e;
        for (e in b) b.hasOwnProperty(e) && (d = b[e], h.isPlainObject(d) ? (h.isPlainObject(a[e]) || (a[e] = {}), h.extend(!0, a[e], d)) : a[e] = c && "data" !== e && "aaData" !== e && h.isArray(d) ? d.slice() : d);
        return a;
    }

    function Va(a, b, c) {
        h(a).on("click.DT", b, function(b) {
            a.blur();
            c(b);
        }).on("keypress.DT", b, function(a) {
            13 === a.which && (a.preventDefault(), c(a));
        }).on("selectstart.DT", function() {
            return !1;
        });
    }

    function z(a, b, c, d) {
        c && a[b].push({
            fn: c,
            sName: d
        });
    }

    function r(a, b, c, d) {
        var e = [];
        b && (e = h.map(a[b].slice().reverse(), function(b) {
            return b.fn.apply(a.oInstance, d);
        }));
        null !== c && (b = h.Event(c + ".dt"), h(a.nTable).trigger(b, d), e.push(b.result));
        return e;
    }

    function Ra(a) {
        var b = a._iDisplayStart,
            c = a.fnDisplayEnd(),
            d = a._iDisplayLength;
        b >= c && (b = c - d);
        b -= b % d;
        if (-1 === d || 0 > b) b = 0;
        a._iDisplayStart = b;
    }

    function Ma(a, b) {
        var c = a.renderer,
            d = m.ext.renderer[b];
        return h.isPlainObject(c) && c[b] ? d[c[b]] || d._ : "string" === typeof c ? d[c] || d._ : d._;
    }

    function y(a) {
        return a.oFeatures.bServerSide ? "ssp" : a.ajax || a.sAjaxSource ? "ajax" : "dom";
    }

    function ha(a, b) {
        var c = [],
            c = Kb.numbers_length,
            d = Math.floor(c / 2);
        b <= c ? c = W(0, b) : a <= d ? (c = W(0, c - 2), c.push("ellipsis"), c.push(b - 1)) : (a >= b - 1 - d ? c = W(b - (c - 2), b) : (c = W(a - d + 2, a + d - 1), c.push("ellipsis"), c.push(b - 1)), c.splice(0, 0, "ellipsis"), c.splice(0, 0, 0));
        c.DT_el = "span";
        return c;
    }

    function cb(a) {
        h.each({
            num: function(b) {
                return za(b, a);
            },
            "num-fmt": function(b) {
                return za(b, a, Wa);
            },
            "html-num": function(b) {
                return za(b, a, Aa);
            },
            "html-num-fmt": function(b) {
                return za(b, a, Aa, Wa);
            }
        }, function(b, c) {
            x.type.order[b + a + "-pre"] = c;
            b.match(/^html\-/) && (x.type.search[b + a] = x.type.search.html);
        });
    }

    function Lb(a) {
        return function() {
            var b = [ya(this[m.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));
            return m.ext.internal[a].apply(this, b);
        };
    }
    var m = function(a) {
            this.$ = function(a, b) {
                return this.api(!0).$(a, b);
            };
            this._ = function(a, b) {
                return this.api(!0).rows(a, b).data();
            };
            this.api = function(a) {
                return a ? new s(ya(this[x.iApiIndex])) : new s(this);
            };
            this.fnAddData = function(a, b) {
                var c = this.api(!0),
                    d = h.isArray(a) && (h.isArray(a[0]) || h.isPlainObject(a[0])) ? c.rows.add(a) : c.row.add(a);
                (b === k || b) && c.draw();
                return d.flatten().toArray();
            };
            this.fnAdjustColumnSizing = function(a) {
                var b = this.api(!0).columns.adjust(),
                    c = b.settings()[0],
                    d = c.oScroll;
                a === k || a ? b.draw(!1) : ("" !== d.sX || "" !== d.sY) && ka(c);
            };
            this.fnClearTable = function(a) {
                var b = this.api(!0).clear();
                (a === k || a) && b.draw();
            };
            this.fnClose = function(a) {
                this.api(!0).row(a).child.hide();
            };
            this.fnDeleteRow = function(a, b, c) {
                var d = this.api(!0),
                    a = d.rows(a),
                    e = a.settings()[0],
                    h = e.aoData[a[0][0]];
                a.remove();
                b && b.call(this, e, h);
                (c === k || c) && d.draw();
                return h;
            };
            this.fnDestroy = function(a) {
                this.api(!0).destroy(a);
            };
            this.fnDraw = function(a) {
                this.api(!0).draw(a);
            };
            this.fnFilter = function(a, b, c, d, e, h) {
                e = this.api(!0);
                null === b || b === k ? e.search(a, c, d, h) : e.column(b).search(a, c, d, h);
                e.draw();
            };
            this.fnGetData = function(a, b) {
                var c = this.api(!0);
                if (a !== k) {
                    var d = a.nodeName ? a.nodeName.toLowerCase() : "";
                    return b !== k || "td" == d || "th" == d ? c.cell(a, b).data() : c.row(a).data() || null;
                }
                return c.data().toArray();
            };
            this.fnGetNodes = function(a) {
                var b = this.api(!0);
                return a !== k ? b.row(a).node() : b.rows().nodes().flatten().toArray();
            };
            this.fnGetPosition = function(a) {
                var b = this.api(!0),
                    c = a.nodeName.toUpperCase();
                return "TR" == c ? b.row(a).index() : "TD" == c || "TH" == c ? (a = b.cell(a).index(), [a.row, a.columnVisible, a.column]) : null;
            };
            this.fnIsOpen = function(a) {
                return this.api(!0).row(a).child.isShown();
            };
            this.fnOpen = function(a, b, c) {
                return this.api(!0).row(a).child(b, c).show().child()[0];
            };
            this.fnPageChange = function(a, b) {
                var c = this.api(!0).page(a);
                (b === k || b) && c.draw(!1);
            };
            this.fnSetColumnVis = function(a, b, c) {
                a = this.api(!0).column(a).visible(b);
                (c === k || c) && a.columns.adjust().draw();
            };
            this.fnSettings = function() {
                return ya(this[x.iApiIndex]);
            };
            this.fnSort = function(a) {
                this.api(!0).order(a).draw();
            };
            this.fnSortListener = function(a, b, c) {
                this.api(!0).order.listener(a, b, c);
            };
            this.fnUpdate = function(a, b, c, d, e) {
                var h = this.api(!0);
                c === k || null === c ? h.row(b).data(a) : h.cell(b, c).data(a);
                (e === k || e) && h.columns.adjust();
                (d === k || d) && h.draw();
                return 0;
            };
            this.fnVersionCheck = x.fnVersionCheck;
            var b = this,
                c = a === k,
                d = this.length;
            c && (a = {});
            this.oApi = this.internal = x.internal;
            for (var e in m.ext.internal) e && (this[e] = Lb(e));
            this.each(function() {
                var e = {},
                    g = 1 < d ? Jb(e, a, !0) : a,
                    j = 0,
                    i, e = this.getAttribute("id"),
                    n = !1,
                    l = m.defaults,
                    q = h(this);
                if ("table" != this.nodeName.toLowerCase()) J(null, 0, "Non-table node initialisation (" + this.nodeName + ")", 2);
                else {
                    db(l);
                    eb(l.column);
                    I(l, l, !0);
                    I(l.column, l.column, !0);
                    I(l, h.extend(g, q.data()));
                    var t = m.settings,
                        j = 0;
                    for (i = t.length; j < i; j++) {
                        var o = t[j];
                        if (o.nTable == this || o.nTHead.parentNode == this || o.nTFoot && o.nTFoot.parentNode == this) {
                            var s = g.bRetrieve !== k ? g.bRetrieve : l.bRetrieve;
                            if (c || s) return o.oInstance;
                            if (g.bDestroy !== k ? g.bDestroy : l.bDestroy) {
                                o.oInstance.fnDestroy();
                                break;
                            } else {
                                J(o, 0, "Cannot reinitialise DataTable", 3);
                                return;
                            }
                        }
                        if (o.sTableId == this.id) {
                            t.splice(j, 1);
                            break;
                        }
                    }
                    if (null === e || "" === e) this.id = e = "DataTables_Table_" + m.ext._unique++;
                    var p = h.extend(!0, {}, m.models.oSettings, {
                        sDestroyWidth: q[0].style.width,
                        sInstance: e,
                        sTableId: e
                    });
                    p.nTable = this;
                    p.oApi = b.internal;
                    p.oInit = g;
                    t.push(p);
                    p.oInstance = 1 === b.length ? b : q.dataTable();
                    db(g);
                    g.oLanguage && Ca(g.oLanguage);
                    g.aLengthMenu && !g.iDisplayLength && (g.iDisplayLength = h.isArray(g.aLengthMenu[0]) ? g.aLengthMenu[0][0] : g.aLengthMenu[0]);
                    g = Jb(h.extend(!0, {}, l), g);
                    F(p.oFeatures, g, "bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" "));
                    F(p, g, ["asStripeClasses", "ajax", "fnServerData", "fnFormatNumber", "sServerMethod", "aaSorting", "aaSortingFixed", "aLengthMenu", "sPaginationType", "sAjaxSource", "sAjaxDataProp", "iStateDuration", "sDom", "bSortCellsTop", "iTabIndex", "fnStateLoadCallback", "fnStateSaveCallback", "renderer", "searchDelay", "rowId", ["iCookieDuration", "iStateDuration"],
                        ["oSearch", "oPreviousSearch"],
                        ["aoSearchCols", "aoPreSearchCols"],
                        ["iDisplayLength", "_iDisplayLength"]
                    ]);
                    F(p.oScroll, g, [
                        ["sScrollX", "sX"],
                        ["sScrollXInner", "sXInner"],
                        ["sScrollY", "sY"],
                        ["bScrollCollapse", "bCollapse"]
                    ]);
                    F(p.oLanguage, g, "fnInfoCallback");
                    z(p, "aoDrawCallback", g.fnDrawCallback, "user");
                    z(p, "aoServerParams", g.fnServerParams, "user");
                    z(p, "aoStateSaveParams", g.fnStateSaveParams, "user");
                    z(p, "aoStateLoadParams", g.fnStateLoadParams, "user");
                    z(p, "aoStateLoaded", g.fnStateLoaded, "user");
                    z(p, "aoRowCallback", g.fnRowCallback, "user");
                    z(p, "aoRowCreatedCallback", g.fnCreatedRow, "user");
                    z(p, "aoHeaderCallback", g.fnHeaderCallback, "user");
                    z(p, "aoFooterCallback", g.fnFooterCallback, "user");
                    z(p, "aoInitComplete", g.fnInitComplete, "user");
                    z(p, "aoPreDrawCallback", g.fnPreDrawCallback, "user");
                    p.rowIdFn = Q(g.rowId);
                    fb(p);
                    var u = p.oClasses;
                    h.extend(u, m.ext.classes, g.oClasses);
                    q.addClass(u.sTable);
                    p.iInitDisplayStart === k && (p.iInitDisplayStart = g.iDisplayStart, p._iDisplayStart = g.iDisplayStart);
                    null !== g.iDeferLoading && (p.bDeferLoading = !0, e = h.isArray(g.iDeferLoading), p._iRecordsDisplay = e ? g.iDeferLoading[0] : g.iDeferLoading, p._iRecordsTotal = e ? g.iDeferLoading[1] : g.iDeferLoading);
                    var v = p.oLanguage;
                    h.extend(!0, v, g.oLanguage);
                    v.sUrl && (h.ajax({
                        dataType: "json",
                        url: v.sUrl,
                        success: function(a) {
                            Ca(a);
                            I(l.oLanguage, a);
                            h.extend(true, v, a);
                            ga(p);
                        },
                        error: function() {
                            ga(p);
                        }
                    }), n = !0);
                    null === g.asStripeClasses && (p.asStripeClasses = [u.sStripeOdd, u.sStripeEven]);
                    var e = p.asStripeClasses,
                        x = q.children("tbody").find("tr").eq(0); - 1 !== h.inArray(!0, h.map(e, function(a) {
                        return x.hasClass(a);
                    })) && (h("tbody tr", this).removeClass(e.join(" ")), p.asDestroyStripes = e.slice());
                    e = [];
                    t = this.getElementsByTagName("thead");
                    0 !== t.length && (da(p.aoHeader, t[0]), e = ra(p));
                    if (null === g.aoColumns) {
                        t = [];
                        j = 0;
                        for (i = e.length; j < i; j++) t.push(null);
                    } else t = g.aoColumns;
                    j = 0;
                    for (i = t.length; j < i; j++) Da(p, e ? e[j] : null);
                    hb(p, g.aoColumnDefs, t, function(a, b) {
                        ja(p, a, b);
                    });
                    if (x.length) {
                        var w = function(a, b) {
                            return a.getAttribute("data-" + b) !== null ? b : null;
                        };
                        h(x[0]).children("th, td").each(function(a, b) {
                            var c = p.aoColumns[a];
                            if (c.mData === a) {
                                var d = w(b, "sort") || w(b, "order"),
                                    e = w(b, "filter") || w(b, "search");
                                if (d !== null || e !== null) {
                                    c.mData = {
                                        _: a + ".display",
                                        sort: d !== null ? a + ".@data-" + d : k,
                                        type: d !== null ? a + ".@data-" + d : k,
                                        filter: e !== null ? a + ".@data-" + e : k
                                    };
                                    ja(p, a);
                                }
                            }
                        });
                    }
                    var T = p.oFeatures,
                        e = function() {
                            if (g.aaSorting === k) {
                                var a = p.aaSorting;
                                j = 0;
                                for (i = a.length; j < i; j++) a[j][1] = p.aoColumns[j].asSorting[0];
                            }
                            wa(p);
                            T.bSort && z(p, "aoDrawCallback", function() {
                                if (p.bSorted) {
                                    var a = V(p),
                                        b = {};
                                    h.each(a, function(a, c) {
                                        b[c.src] = c.dir;
                                    });
                                    r(p, null, "order", [p, a, b]);
                                    Hb(p);
                                }
                            });
                            z(p, "aoDrawCallback", function() {
                                (p.bSorted || y(p) === "ssp" || T.bDeferRender) && wa(p);
                            }, "sc");
                            var a = q.children("caption").each(function() {
                                    this._captionSide = h(this).css("caption-side");
                                }),
                                b = q.children("thead");
                            b.length === 0 && (b = h("<thead/>").appendTo(q));
                            p.nTHead = b[0];
                            b = q.children("tbody");
                            b.length === 0 && (b = h("<tbody/>").appendTo(q));
                            p.nTBody = b[0];
                            b = q.children("tfoot");
                            if (b.length === 0 && a.length > 0 && (p.oScroll.sX !== "" || p.oScroll.sY !== "")) b = h("<tfoot/>").appendTo(q);
                            if (b.length === 0 || b.children().length === 0) q.addClass(u.sNoFooter);
                            else if (b.length > 0) {
                                p.nTFoot = b[0];
                                da(p.aoFooter, p.nTFoot);
                            }
                            if (g.aaData)
                                for (j = 0; j < g.aaData.length; j++) M(p, g.aaData[j]);
                            else(p.bDeferLoading || y(p) == "dom") && ma(p, h(p.nTBody).children("tr"));
                            p.aiDisplay = p.aiDisplayMaster.slice();
                            p.bInitialised = true;
                            n === false && ga(p);
                        };
                    g.bStateSave ? (T.bStateSave = !0, z(p, "aoDrawCallback", xa, "state_save"), Ib(p, g, e)) : e();
                }
            });
            b = null;
            return this;
        },
        x, s, o, u, Xa = {},
        Mb = /[\r\n]/g,
        Aa = /<.*?>/g,
        Zb = /^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,
        $b = RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)", "g"),
        Wa = /[',$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,
        L = function(a) {
            return !a || !0 === a || "-" === a ? !0 : !1;
        },
        Nb = function(a) {
            var b = parseInt(a, 10);
            return !isNaN(b) && isFinite(a) ? b : null;
        },
        Ob = function(a, b) {
            Xa[b] || (Xa[b] = RegExp(Pa(b), "g"));
            return "string" === typeof a && "." !== b ? a.replace(/\./g, "").replace(Xa[b], ".") : a;
        },
        Ya = function(a, b, c) {
            var d = "string" === typeof a;
            if (L(a)) return !0;
            b && d && (a = Ob(a, b));
            c && d && (a = a.replace(Wa, ""));
            return !isNaN(parseFloat(a)) && isFinite(a);
        },
        Pb = function(a, b, c) {
            return L(a) ? !0 : !(L(a) || "string" === typeof a) ? null : Ya(a.replace(Aa, ""), b, c) ? !0 : null;
        },
        D = function(a, b, c) {
            var d = [],
                e = 0,
                f = a.length;
            if (c !== k)
                for (; e < f; e++) a[e] && a[e][b] && d.push(a[e][b][c]);
            else
                for (; e < f; e++) a[e] && d.push(a[e][b]);
            return d;
        },
        ia = function(a, b, c, d) {
            var e = [],
                f = 0,
                g = b.length;
            if (d !== k)
                for (; f < g; f++) a[b[f]][c] && e.push(a[b[f]][c][d]);
            else
                for (; f < g; f++) e.push(a[b[f]][c]);
            return e;
        },
        W = function(a, b) {
            var c = [],
                d;
            b === k ? (b = 0, d = a) : (d = b, b = a);
            for (var e = b; e < d; e++) c.push(e);
            return c;
        },
        Qb = function(a) {
            for (var b = [], c = 0, d = a.length; c < d; c++) a[c] && b.push(a[c]);
            return b;
        },
        qa = function(a) {
            var b;
            a: {
                if (!(2 > a.length)) {
                    b = a.slice().sort();
                    for (var c = b[0], d = 1, e = b.length; d < e; d++) {
                        if (b[d] === c) {
                            b = !1;
                            break a;
                        }
                        c = b[d];
                    }
                }
                b = !0;
            }
            if (b) return a.slice();
            b = [];
            var e = a.length,
                f, g = 0,
                d = 0;
            a: for (; d < e; d++) {
                c = a[d];
                for (f = 0; f < g; f++)
                    if (b[f] === c) continue a;
                b.push(c);
                g++;
            }
            return b;
        };
    m.util = {
        throttle: function(a, b) {
            var c = b !== k ? b : 200,
                d, e;
            return function() {
                var b = this,
                    g = +new Date(),
                    j = arguments;
                d && g < d + c ? (clearTimeout(e), e = setTimeout(function() {
                    d = k;
                    a.apply(b, j);
                }, c)) : (d = g, a.apply(b, j));
            };
        },
        escapeRegex: function(a) {
            return a.replace($b, "\\$1");
        }
    };
    var A = function(a, b, c) {
            a[b] !== k && (a[c] = a[b]);
        },
        ba = /\[.*?\]$/,
        U = /\(\)$/,
        Pa = m.util.escapeRegex,
        va = h("<div>")[0],
        Wb = va.textContent !== k,
        Yb = /<.*?>/g,
        Na = m.util.throttle,
        Rb = [],
        w = Array.prototype,
        ac = function(a) {
            var b, c, d = m.settings,
                e = h.map(d, function(a) {
                    return a.nTable;
                });
            if (a) {
                if (a.nTable && a.oApi) return [a];
                if (a.nodeName && "table" === a.nodeName.toLowerCase()) return b = h.inArray(a, e), -1 !== b ? [d[b]] : null;
                if (a && "function" === typeof a.settings) return a.settings().toArray();
                "string" === typeof a ? c = h(a) : a instanceof h && (c = a);
            } else return [];
            if (c) return c.map(function() {
                b = h.inArray(this, e);
                return -1 !== b ? d[b] : null;
            }).toArray();
        };
    s = function(a, b) {
        if (!(this instanceof s)) return new s(a, b);
        var c = [],
            d = function(a) {
                (a = ac(a)) && (c = c.concat(a));
            };
        if (h.isArray(a))
            for (var e = 0, f = a.length; e < f; e++) d(a[e]);
        else d(a);
        this.context = qa(c);
        b && h.merge(this, b);
        this.selector = {
            rows: null,
            cols: null,
            opts: null
        };
        s.extend(this, this, Rb);
    };
    m.Api = s;
    h.extend(s.prototype, {
        any: function() {
            return 0 !== this.count();
        },
        concat: w.concat,
        context: [],
        count: function() {
            return this.flatten().length;
        },
        each: function(a) {
            for (var b = 0, c = this.length; b < c; b++) a.call(this, this[b], b, this);
            return this;
        },
        eq: function(a) {
            var b = this.context;
            return b.length > a ? new s(b[a], this[a]) : null;
        },
        filter: function(a) {
            var b = [];
            if (w.filter) b = w.filter.call(this, a, this);
            else
                for (var c = 0, d = this.length; c < d; c++) a.call(this, this[c], c, this) && b.push(this[c]);
            return new s(this.context, b);
        },
        flatten: function() {
            var a = [];
            return new s(this.context, a.concat.apply(a, this.toArray()));
        },
        join: w.join,
        indexOf: w.indexOf || function(a, b) {
            for (var c = b || 0, d = this.length; c < d; c++)
                if (this[c] === a) return c;
            return -1;
        },
        iterator: function(a, b, c, d) {
            var e = [],
                f, g, j, h, n, l = this.context,
                m, o, u = this.selector;
            "string" === typeof a && (d = c, c = b, b = a, a = !1);
            g = 0;
            for (j = l.length; g < j; g++) {
                var r = new s(l[g]);
                if ("table" === b) f = c.call(r, l[g], g), f !== k && e.push(f);
                else if ("columns" === b || "rows" === b) f = c.call(r, l[g], this[g], g), f !== k && e.push(f);
                else if ("column" === b || "column-rows" === b || "row" === b || "cell" === b) {
                    o = this[g];
                    "column-rows" === b && (m = Ba(l[g], u.opts));
                    h = 0;
                    for (n = o.length; h < n; h++) f = o[h], f = "cell" === b ? c.call(r, l[g], f.row, f.column, g, h) : c.call(r, l[g], f, g, h, m), f !== k && e.push(f);
                }
            }
            return e.length || d ? (a = new s(l, a ? e.concat.apply([], e) : e), b = a.selector, b.rows = u.rows, b.cols = u.cols, b.opts = u.opts, a) : this;
        },
        lastIndexOf: w.lastIndexOf || function(a, b) {
            return this.indexOf.apply(this.toArray.reverse(), arguments);
        },
        length: 0,
        map: function(a) {
            var b = [];
            if (w.map) b = w.map.call(this, a, this);
            else
                for (var c = 0, d = this.length; c < d; c++) b.push(a.call(this, this[c], c));
            return new s(this.context, b);
        },
        pluck: function(a) {
            return this.map(function(b) {
                return b[a];
            });
        },
        pop: w.pop,
        push: w.push,
        reduce: w.reduce || function(a, b) {
            return gb(this, a, b, 0, this.length, 1);
        },
        reduceRight: w.reduceRight || function(a, b) {
            return gb(this, a, b, this.length - 1, -1, -1);
        },
        reverse: w.reverse,
        selector: null,
        shift: w.shift,
        slice: function() {
            return new s(this.context, this);
        },
        sort: w.sort,
        splice: w.splice,
        toArray: function() {
            return w.slice.call(this);
        },
        to$: function() {
            return h(this);
        },
        toJQuery: function() {
            return h(this);
        },
        unique: function() {
            return new s(this.context, qa(this));
        },
        unshift: w.unshift
    });
    s.extend = function(a, b, c) {
        if (c.length && b && (b instanceof s || b.__dt_wrapper)) {
            var d, e, f, g = function(a, b, c) {
                return function() {
                    var d = b.apply(a, arguments);
                    s.extend(d, d, c.methodExt);
                    return d;
                };
            };
            d = 0;
            for (e = c.length; d < e; d++) f = c[d], b[f.name] = "function" === typeof f.val ? g(a, f.val, f) : h.isPlainObject(f.val) ? {} : f.val, b[f.name].__dt_wrapper = !0, s.extend(a, b[f.name], f.propExt);
        }
    };
    s.register = o = function(a, b) {
        if (h.isArray(a))
            for (var c = 0, d = a.length; c < d; c++) s.register(a[c], b);
        else
            for (var e = a.split("."), f = Rb, g, j, c = 0, d = e.length; c < d; c++) {
                g = (j = -1 !== e[c].indexOf("()")) ? e[c].replace("()", "") : e[c];
                var i;
                a: {
                    i = 0;
                    for (var n = f.length; i < n; i++)
                        if (f[i].name === g) {
                            i = f[i];
                            break a;
                        }
                    i = null;
                }
                i || (i = {
                    name: g,
                    val: {},
                    methodExt: [],
                    propExt: []
                }, f.push(i));
                c === d - 1 ? i.val = b : f = j ? i.methodExt : i.propExt;
            }
    };
    s.registerPlural = u = function(a, b, c) {
        s.register(a, c);
        s.register(b, function() {
            var a = c.apply(this, arguments);
            return a === this ? this : a instanceof s ? a.length ? h.isArray(a[0]) ? new s(a.context, a[0]) : a[0] : k : a;
        });
    };
    o("tables()", function(a) {
        var b;
        if (a) {
            b = s;
            var c = this.context;
            if ("number" === typeof a) a = [c[a]];
            else var d = h.map(c, function(a) {
                    return a.nTable;
                }),
                a = h(d).filter(a).map(function() {
                    var a = h.inArray(this, d);
                    return c[a];
                }).toArray();
            b = new b(a);
        } else b = this;
        return b;
    });
    o("table()", function(a) {
        var a = this.tables(a),
            b = a.context;
        return b.length ? new s(b[0]) : a;
    });
    u("tables().nodes()", "table().node()", function() {
        return this.iterator("table", function(a) {
            return a.nTable;
        }, 1);
    });
    u("tables().body()", "table().body()", function() {
        return this.iterator("table", function(a) {
            return a.nTBody;
        }, 1);
    });
    u("tables().header()", "table().header()", function() {
        return this.iterator("table", function(a) {
            return a.nTHead;
        }, 1);
    });
    u("tables().footer()", "table().footer()", function() {
        return this.iterator("table", function(a) {
            return a.nTFoot;
        }, 1);
    });
    u("tables().containers()", "table().container()", function() {
        return this.iterator("table", function(a) {
            return a.nTableWrapper;
        }, 1);
    });
    o("draw()", function(a) {
        return this.iterator("table", function(b) {
            "page" === a ? N(b) : ("string" === typeof a && (a = "full-hold" === a ? !1 : !0), S(b, !1 === a));
        });
    });
    o("page()", function(a) {
        return a === k ? this.page.info().page : this.iterator("table", function(b) {
            Sa(b, a);
        });
    });
    o("page.info()", function() {
        if (0 === this.context.length) return k;
        var a = this.context[0],
            b = a._iDisplayStart,
            c = a.oFeatures.bPaginate ? a._iDisplayLength : -1,
            d = a.fnRecordsDisplay(),
            e = -1 === c;
        return {
            page: e ? 0 : Math.floor(b / c),
            pages: e ? 1 : Math.ceil(d / c),
            start: b,
            end: a.fnDisplayEnd(),
            length: c,
            recordsTotal: a.fnRecordsTotal(),
            recordsDisplay: d,
            serverSide: "ssp" === y(a)
        };
    });
    o("page.len()", function(a) {
        return a === k ? 0 !== this.context.length ? this.context[0]._iDisplayLength : k : this.iterator("table", function(b) {
            Qa(b, a);
        });
    });
    var Sb = function(a, b, c) {
        if (c) {
            var d = new s(a);
            d.one("draw", function() {
                c(d.ajax.json());
            });
        }
        if ("ssp" == y(a)) S(a, b);
        else {
            C(a, !0);
            var e = a.jqXHR;
            e && 4 !== e.readyState && e.abort();
            sa(a, [], function(c) {
                na(a);
                for (var c = ta(a, c), d = 0, e = c.length; d < e; d++) M(a, c[d]);
                S(a, b);
                C(a, !1);
            });
        }
    };
    o("ajax.json()", function() {
        var a = this.context;
        if (0 < a.length) return a[0].json;
    });
    o("ajax.params()", function() {
        var a = this.context;
        if (0 < a.length) return a[0].oAjaxData;
    });
    o("ajax.reload()", function(a, b) {
        return this.iterator("table", function(c) {
            Sb(c, !1 === b, a);
        });
    });
    o("ajax.url()", function(a) {
        var b = this.context;
        if (a === k) {
            if (0 === b.length) return k;
            b = b[0];
            return b.ajax ? h.isPlainObject(b.ajax) ? b.ajax.url : b.ajax : b.sAjaxSource;
        }
        return this.iterator("table", function(b) {
            h.isPlainObject(b.ajax) ? b.ajax.url = a : b.ajax = a;
        });
    });
    o("ajax.url().load()", function(a, b) {
        return this.iterator("table", function(c) {
            Sb(c, !1 === b, a);
        });
    });
    var Za = function(a, b, c, d, e) {
            var f = [],
                g, j, i, n, l, m;
            i = typeof b;
            if (!b || "string" === i || "function" === i || b.length === k) b = [b];
            i = 0;
            for (n = b.length; i < n; i++) {
                j = b[i] && b[i].split && !b[i].match(/[\[\(:]/) ? b[i].split(",") : [b[i]];
                l = 0;
                for (m = j.length; l < m; l++)(g = c("string" === typeof j[l] ? h.trim(j[l]) : j[l])) && g.length && (f = f.concat(g));
            }
            a = x.selector[a];
            if (a.length) {
                i = 0;
                for (n = a.length; i < n; i++) f = a[i](d, e, f);
            }
            return qa(f);
        },
        $a = function(a) {
            a || (a = {});
            a.filter && a.search === k && (a.search = a.filter);
            return h.extend({
                search: "none",
                order: "current",
                page: "all"
            }, a);
        },
        ab = function(a) {
            for (var b = 0, c = a.length; b < c; b++)
                if (0 < a[b].length) return a[0] = a[b], a[0].length = 1, a.length = 1, a.context = [a.context[b]], a;
            a.length = 0;
            return a;
        },
        Ba = function(a, b) {
            var c, d, e, f = [],
                g = a.aiDisplay;
            c = a.aiDisplayMaster;
            var j = b.search;
            d = b.order;
            e = b.page;
            if ("ssp" == y(a)) return "removed" === j ? [] : W(0, c.length);
            if ("current" == e) {
                c = a._iDisplayStart;
                for (d = a.fnDisplayEnd(); c < d; c++) f.push(g[c]);
            } else if ("current" == d || "applied" == d) f = "none" == j ? c.slice() : "applied" == j ? g.slice() : h.map(c, function(a) {
                return -1 === h.inArray(a, g) ? a : null;
            });
            else if ("index" == d || "original" == d) {
                c = 0;
                for (d = a.aoData.length; c < d; c++) "none" == j ? f.push(c) : (e = h.inArray(c, g), (-1 === e && "removed" == j || 0 <= e && "applied" == j) && f.push(c));
            }
            return f;
        };
    o("rows()", function(a, b) {
        a === k ? a = "" : h.isPlainObject(a) && (b = a, a = "");
        var b = $a(b),
            c = this.iterator("table", function(c) {
                var e = b,
                    f;
                return Za("row", a, function(a) {
                    var b = Nb(a);
                    if (b !== null && !e) return [b];
                    f || (f = Ba(c, e));
                    if (b !== null && h.inArray(b, f) !== -1) return [b];
                    if (a === null || a === k || a === "") return f;
                    if (typeof a === "function") return h.map(f, function(b) {
                        var e = c.aoData[b];
                        return a(b, e._aData, e.nTr) ? b : null;
                    });
                    b = Qb(ia(c.aoData, f, "nTr"));
                    if (a.nodeName) {
                        if (a._DT_RowIndex !== k) return [a._DT_RowIndex];
                        if (a._DT_CellIndex) return [a._DT_CellIndex.row];
                        b = h(a).closest("*[data-dt-row]");
                        return b.length ? [b.data("dt-row")] : [];
                    }
                    if (typeof a === "string" && a.charAt(0) === "#") {
                        var i = c.aIds[a.replace(/^#/, "")];
                        if (i !== k) return [i.idx];
                    }
                    return h(b).filter(a).map(function() {
                        return this._DT_RowIndex;
                    }).toArray();
                }, c, e);
            }, 1);
        c.selector.rows = a;
        c.selector.opts = b;
        return c;
    });
    o("rows().nodes()", function() {
        return this.iterator("row", function(a, b) {
            return a.aoData[b].nTr || k;
        }, 1);
    });
    o("rows().data()", function() {
        return this.iterator(!0, "rows", function(a, b) {
            return ia(a.aoData, b, "_aData");
        }, 1);
    });
    u("rows().cache()", "row().cache()", function(a) {
        return this.iterator("row", function(b, c) {
            var d = b.aoData[c];
            return "search" === a ? d._aFilterData : d._aSortData;
        }, 1);
    });
    u("rows().invalidate()", "row().invalidate()", function(a) {
        return this.iterator("row", function(b, c) {
            ca(b, c, a);
        });
    });
    u("rows().indexes()", "row().index()", function() {
        return this.iterator("row", function(a, b) {
            return b;
        }, 1);
    });
    u("rows().ids()", "row().id()", function(a) {
        for (var b = [], c = this.context, d = 0, e = c.length; d < e; d++)
            for (var f = 0, g = this[d].length; f < g; f++) {
                var h = c[d].rowIdFn(c[d].aoData[this[d][f]]._aData);
                b.push((!0 === a ? "#" : "") + h);
            }
        return new s(c, b);
    });
    u("rows().remove()", "row().remove()", function() {
        var a = this;
        this.iterator("row", function(b, c, d) {
            var e = b.aoData,
                f = e[c],
                g, h, i, n, l;
            e.splice(c, 1);
            g = 0;
            for (h = e.length; g < h; g++)
                if (i = e[g], l = i.anCells, null !== i.nTr && (i.nTr._DT_RowIndex = g), null !== l) {
                    i = 0;
                    for (n = l.length; i < n; i++) l[i]._DT_CellIndex.row = g;
                }
            oa(b.aiDisplayMaster, c);
            oa(b.aiDisplay, c);
            oa(a[d], c, !1);
            0 < b._iRecordsDisplay && b._iRecordsDisplay--;
            Ra(b);
            c = b.rowIdFn(f._aData);
            c !== k && delete b.aIds[c];
        });
        this.iterator("table", function(a) {
            for (var c = 0, d = a.aoData.length; c < d; c++) a.aoData[c].idx = c;
        });
        return this;
    });
    o("rows.add()", function(a) {
        var b = this.iterator("table", function(b) {
                var c, f, g, h = [];
                f = 0;
                for (g = a.length; f < g; f++) c = a[f], c.nodeName && "TR" === c.nodeName.toUpperCase() ? h.push(ma(b, c)[0]) : h.push(M(b, c));
                return h;
            }, 1),
            c = this.rows(-1);
        c.pop();
        h.merge(c, b);
        return c;
    });
    o("row()", function(a, b) {
        return ab(this.rows(a, b));
    });
    o("row().data()", function(a) {
        var b = this.context;
        if (a === k) return b.length && this.length ? b[0].aoData[this[0]]._aData : k;
        b[0].aoData[this[0]]._aData = a;
        ca(b[0], this[0], "data");
        return this;
    });
    o("row().node()", function() {
        var a = this.context;
        return a.length && this.length ? a[0].aoData[this[0]].nTr || null : null;
    });
    o("row.add()", function(a) {
        a instanceof h && a.length && (a = a[0]);
        var b = this.iterator("table", function(b) {
            return a.nodeName && "TR" === a.nodeName.toUpperCase() ? ma(b, a)[0] : M(b, a);
        });
        return this.row(b[0]);
    });
    var bb = function(a, b) {
            var c = a.context;
            if (c.length && (c = c[0].aoData[b !== k ? b : a[0]]) && c._details) c._details.remove(), c._detailsShow = k, c._details = k;
        },
        Tb = function(a, b) {
            var c = a.context;
            if (c.length && a.length) {
                var d = c[0].aoData[a[0]];
                if (d._details) {
                    (d._detailsShow = b) ? d._details.insertAfter(d.nTr): d._details.detach();
                    var e = c[0],
                        f = new s(e),
                        g = e.aoData;
                    f.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details");
                    0 < D(g, "_details").length && (f.on("draw.dt.DT_details", function(a, b) {
                        e === b && f.rows({
                            page: "current"
                        }).eq(0).each(function(a) {
                            a = g[a];
                            a._detailsShow && a._details.insertAfter(a.nTr);
                        });
                    }), f.on("column-visibility.dt.DT_details", function(a, b) {
                        if (e === b)
                            for (var c, d = aa(b), f = 0, h = g.length; f < h; f++) c = g[f], c._details && c._details.children("td[colspan]").attr("colspan", d);
                    }), f.on("destroy.dt.DT_details", function(a, b) {
                        if (e === b)
                            for (var c = 0, d = g.length; c < d; c++) g[c]._details && bb(f, c);
                    }));
                }
            }
        };
    o("row().child()", function(a, b) {
        var c = this.context;
        if (a === k) return c.length && this.length ? c[0].aoData[this[0]]._details : k;
        if (!0 === a) this.child.show();
        else if (!1 === a) bb(this);
        else if (c.length && this.length) {
            var d = c[0],
                c = c[0].aoData[this[0]],
                e = [],
                f = function(a, b) {
                    if (h.isArray(a) || a instanceof h)
                        for (var c = 0, k = a.length; c < k; c++) f(a[c], b);
                    else a.nodeName && "tr" === a.nodeName.toLowerCase() ? e.push(a) : (c = h("<tr><td/></tr>").addClass(b), h("td", c).addClass(b).html(a)[0].colSpan = aa(d), e.push(c[0]));
                };
            f(a, b);
            c._details && c._details.detach();
            c._details = h(e);
            c._detailsShow && c._details.insertAfter(c.nTr);
        }
        return this;
    });
    o(["row().child.show()", "row().child().show()"], function() {
        Tb(this, !0);
        return this;
    });
    o(["row().child.hide()", "row().child().hide()"], function() {
        Tb(this, !1);
        return this;
    });
    o(["row().child.remove()", "row().child().remove()"], function() {
        bb(this);
        return this;
    });
    o("row().child.isShown()", function() {
        var a = this.context;
        return a.length && this.length ? a[0].aoData[this[0]]._detailsShow || !1 : !1;
    });
    var bc = /^([^:]+):(name|visIdx|visible)$/,
        Ub = function(a, b, c, d, e) {
            for (var c = [], d = 0, f = e.length; d < f; d++) c.push(B(a, e[d], b));
            return c;
        };
    o("columns()", function(a, b) {
        a === k ? a = "" : h.isPlainObject(a) && (b = a, a = "");
        var b = $a(b),
            c = this.iterator("table", function(c) {
                var e = a,
                    f = b,
                    g = c.aoColumns,
                    j = D(g, "sName"),
                    i = D(g, "nTh");
                return Za("column", e, function(a) {
                    var b = Nb(a);
                    if (a === "") return W(g.length);
                    if (b !== null) return [b >= 0 ? b : g.length + b];
                    if (typeof a === "function") {
                        var e = Ba(c, f);
                        return h.map(g, function(b, f) {
                            return a(f, Ub(c, f, 0, 0, e), i[f]) ? f : null;
                        });
                    }
                    var k = typeof a === "string" ? a.match(bc) : "";
                    if (k) switch (k[2]) {
                        case "visIdx":
                        case "visible":
                            b = parseInt(k[1], 10);
                            if (b < 0) {
                                var m = h.map(g, function(a, b) {
                                    return a.bVisible ? b : null;
                                });
                                return [m[m.length + b]];
                            }
                            return [Z(c, b)];
                        case "name":
                            return h.map(j, function(a, b) {
                                return a === k[1] ? b : null;
                            });
                        default:
                            return [];
                    }
                    if (a.nodeName && a._DT_CellIndex) return [a._DT_CellIndex.column];
                    b = h(i).filter(a).map(function() {
                        return h.inArray(this, i);
                    }).toArray();
                    if (b.length || !a.nodeName) return b;
                    b = h(a).closest("*[data-dt-column]");
                    return b.length ? [b.data("dt-column")] : [];
                }, c, f);
            }, 1);
        c.selector.cols = a;
        c.selector.opts = b;
        return c;
    });
    u("columns().header()", "column().header()", function() {
        return this.iterator("column", function(a, b) {
            return a.aoColumns[b].nTh;
        }, 1);
    });
    u("columns().footer()", "column().footer()", function() {
        return this.iterator("column", function(a, b) {
            return a.aoColumns[b].nTf;
        }, 1);
    });
    u("columns().data()", "column().data()", function() {
        return this.iterator("column-rows", Ub, 1);
    });
    u("columns().dataSrc()", "column().dataSrc()", function() {
        return this.iterator("column", function(a, b) {
            return a.aoColumns[b].mData;
        }, 1);
    });
    u("columns().cache()", "column().cache()", function(a) {
        return this.iterator("column-rows", function(b, c, d, e, f) {
            return ia(b.aoData, f, "search" === a ? "_aFilterData" : "_aSortData", c);
        }, 1);
    });
    u("columns().nodes()", "column().nodes()", function() {
        return this.iterator("column-rows", function(a, b, c, d, e) {
            return ia(a.aoData, e, "anCells", b);
        }, 1);
    });
    u("columns().visible()", "column().visible()", function(a, b) {
        var c = this.iterator("column", function(b, c) {
            if (a === k) return b.aoColumns[c].bVisible;
            var f = b.aoColumns,
                g = f[c],
                j = b.aoData,
                i, n, l;
            if (a !== k && g.bVisible !== a) {
                if (a) {
                    var m = h.inArray(!0, D(f, "bVisible"), c + 1);
                    i = 0;
                    for (n = j.length; i < n; i++) l = j[i].nTr, f = j[i].anCells, l && l.insertBefore(f[c], f[m] || null);
                } else h(D(b.aoData, "anCells", c)).detach();
                g.bVisible = a;
                ea(b, b.aoHeader);
                ea(b, b.aoFooter);
                xa(b);
            }
        });
        a !== k && (this.iterator("column", function(c, e) {
            r(c, null, "column-visibility", [c, e, a, b]);
        }), (b === k || b) && this.columns.adjust());
        return c;
    });
    u("columns().indexes()", "column().index()", function(a) {
        return this.iterator("column", function(b, c) {
            return "visible" === a ? $(b, c) : c;
        }, 1);
    });
    o("columns.adjust()", function() {
        return this.iterator("table", function(a) {
            Y(a);
        }, 1);
    });
    o("column.index()", function(a, b) {
        if (0 !== this.context.length) {
            var c = this.context[0];
            if ("fromVisible" === a || "toData" === a) return Z(c, b);
            if ("fromData" === a || "toVisible" === a) return $(c, b);
        }
    });
    o("column()", function(a, b) {
        return ab(this.columns(a, b));
    });
    o("cells()", function(a, b, c) {
        h.isPlainObject(a) && (a.row === k ? (c = a, a = null) : (c = b, b = null));
        h.isPlainObject(b) && (c = b, b = null);
        if (null === b || b === k) return this.iterator("table", function(b) {
            var d = a,
                e = $a(c),
                f = b.aoData,
                g = Ba(b, e),
                j = Qb(ia(f, g, "anCells")),
                i = h([].concat.apply([], j)),
                l, n = b.aoColumns.length,
                m, o, u, s, r, v;
            return Za("cell", d, function(a) {
                var c = typeof a === "function";
                if (a === null || a === k || c) {
                    m = [];
                    o = 0;
                    for (u = g.length; o < u; o++) {
                        l = g[o];
                        for (s = 0; s < n; s++) {
                            r = {
                                row: l,
                                column: s
                            };
                            if (c) {
                                v = f[l];
                                a(r, B(b, l, s), v.anCells ? v.anCells[s] : null) && m.push(r);
                            } else m.push(r);
                        }
                    }
                    return m;
                }
                if (h.isPlainObject(a)) return [a];
                c = i.filter(a).map(function(a, b) {
                    return {
                        row: b._DT_CellIndex.row,
                        column: b._DT_CellIndex.column
                    };
                }).toArray();
                if (c.length || !a.nodeName) return c;
                v = h(a).closest("*[data-dt-row]");
                return v.length ? [{
                    row: v.data("dt-row"),
                    column: v.data("dt-column")
                }] : [];
            }, b, e);
        });
        var d = this.columns(b, c),
            e = this.rows(a, c),
            f, g, j, i, n, l = this.iterator("table", function(a, b) {
                f = [];
                g = 0;
                for (j = e[b].length; g < j; g++) {
                    i = 0;
                    for (n = d[b].length; i < n; i++) f.push({
                        row: e[b][g],
                        column: d[b][i]
                    });
                }
                return f;
            }, 1);
        h.extend(l.selector, {
            cols: b,
            rows: a,
            opts: c
        });
        return l;
    });
    u("cells().nodes()", "cell().node()", function() {
        return this.iterator("cell", function(a, b, c) {
            return (a = a.aoData[b]) && a.anCells ? a.anCells[c] : k;
        }, 1);
    });
    o("cells().data()", function() {
        return this.iterator("cell", function(a, b, c) {
            return B(a, b, c);
        }, 1);
    });
    u("cells().cache()", "cell().cache()", function(a) {
        a = "search" === a ? "_aFilterData" : "_aSortData";
        return this.iterator("cell", function(b, c, d) {
            return b.aoData[c][a][d];
        }, 1);
    });
    u("cells().render()", "cell().render()", function(a) {
        return this.iterator("cell", function(b, c, d) {
            return B(b, c, d, a);
        }, 1);
    });
    u("cells().indexes()", "cell().index()", function() {
        return this.iterator("cell", function(a, b, c) {
            return {
                row: b,
                column: c,
                columnVisible: $(a, c)
            };
        }, 1);
    });
    u("cells().invalidate()", "cell().invalidate()", function(a) {
        return this.iterator("cell", function(b, c, d) {
            ca(b, c, a, d);
        });
    });
    o("cell()", function(a, b, c) {
        return ab(this.cells(a, b, c));
    });
    o("cell().data()", function(a) {
        var b = this.context,
            c = this[0];
        if (a === k) return b.length && c.length ? B(b[0], c[0].row, c[0].column) : k;
        ib(b[0], c[0].row, c[0].column, a);
        ca(b[0], c[0].row, "data", c[0].column);
        return this;
    });
    o("order()", function(a, b) {
        var c = this.context;
        if (a === k) return 0 !== c.length ? c[0].aaSorting : k;
        "number" === typeof a ? a = [
            [a, b]
        ] : a.length && !h.isArray(a[0]) && (a = Array.prototype.slice.call(arguments));
        return this.iterator("table", function(b) {
            b.aaSorting = a.slice();
        });
    });
    o("order.listener()", function(a, b, c) {
        return this.iterator("table", function(d) {
            La(d, a, b, c);
        });
    });
    o("order.fixed()", function(a) {
        if (!a) {
            var b = this.context,
                b = b.length ? b[0].aaSortingFixed : k;
            return h.isArray(b) ? {
                pre: b
            } : b;
        }
        return this.iterator("table", function(b) {
            b.aaSortingFixed = h.extend(!0, {}, a);
        });
    });
    o(["columns().order()", "column().order()"], function(a) {
        var b = this;
        return this.iterator("table", function(c, d) {
            var e = [];
            h.each(b[d], function(b, c) {
                e.push([c, a]);
            });
            c.aaSorting = e;
        });
    });
    o("search()", function(a, b, c, d) {
        var e = this.context;
        return a === k ? 0 !== e.length ? e[0].oPreviousSearch.sSearch : k : this.iterator("table", function(e) {
            e.oFeatures.bFilter && fa(e, h.extend({}, e.oPreviousSearch, {
                sSearch: a + "",
                bRegex: null === b ? !1 : b,
                bSmart: null === c ? !0 : c,
                bCaseInsensitive: null === d ? !0 : d
            }), 1);
        });
    });
    u("columns().search()", "column().search()", function(a, b, c, d) {
        return this.iterator("column", function(e, f) {
            var g = e.aoPreSearchCols;
            if (a === k) return g[f].sSearch;
            e.oFeatures.bFilter && (h.extend(g[f], {
                sSearch: a + "",
                bRegex: null === b ? !1 : b,
                bSmart: null === c ? !0 : c,
                bCaseInsensitive: null === d ? !0 : d
            }), fa(e, e.oPreviousSearch, 1));
        });
    });
    o("state()", function() {
        return this.context.length ? this.context[0].oSavedState : null;
    });
    o("state.clear()", function() {
        return this.iterator("table", function(a) {
            a.fnStateSaveCallback.call(a.oInstance, a, {});
        });
    });
    o("state.loaded()", function() {
        return this.context.length ? this.context[0].oLoadedState : null;
    });
    o("state.save()", function() {
        return this.iterator("table", function(a) {
            xa(a);
        });
    });
    m.versionCheck = m.fnVersionCheck = function(a) {
        for (var b = m.version.split("."), a = a.split("."), c, d, e = 0, f = a.length; e < f; e++)
            if (c = parseInt(b[e], 10) || 0, d = parseInt(a[e], 10) || 0, c !== d) return c > d;
        return !0;
    };
    m.isDataTable = m.fnIsDataTable = function(a) {
        var b = h(a).get(0),
            c = !1;
        if (a instanceof m.Api) return !0;
        h.each(m.settings, function(a, e) {
            var f = e.nScrollHead ? h("table", e.nScrollHead)[0] : null,
                g = e.nScrollFoot ? h("table", e.nScrollFoot)[0] : null;
            if (e.nTable === b || f === b || g === b) c = !0;
        });
        return c;
    };
    m.tables = m.fnTables = function(a) {
        var b = !1;
        h.isPlainObject(a) && (b = a.api, a = a.visible);
        var c = h.map(m.settings, function(b) {
            if (!a || a && h(b.nTable).is(":visible")) return b.nTable;
        });
        return b ? new s(c) : c;
    };
    m.camelToHungarian = I;
    o("$()", function(a, b) {
        var c = this.rows(b).nodes(),
            c = h(c);
        return h([].concat(c.filter(a).toArray(), c.find(a).toArray()));
    });
    h.each(["on", "one", "off"], function(a, b) {
        o(b + "()", function() {
            var a = Array.prototype.slice.call(arguments);
            a[0] = h.map(a[0].split(/\s/), function(a) {
                return !a.match(/\.dt\b/) ? a + ".dt" : a;
            }).join(" ");
            var d = h(this.tables().nodes());
            d[b].apply(d, a);
            return this;
        });
    });
    o("clear()", function() {
        return this.iterator("table", function(a) {
            na(a);
        });
    });
    o("settings()", function() {
        return new s(this.context, this.context);
    });
    o("init()", function() {
        var a = this.context;
        return a.length ? a[0].oInit : null;
    });
    o("data()", function() {
        return this.iterator("table", function(a) {
            return D(a.aoData, "_aData");
        }).flatten();
    });
    o("destroy()", function(a) {
        a = a || !1;
        return this.iterator("table", function(b) {
            var c = b.nTableWrapper.parentNode,
                d = b.oClasses,
                e = b.nTable,
                f = b.nTBody,
                g = b.nTHead,
                j = b.nTFoot,
                i = h(e),
                f = h(f),
                k = h(b.nTableWrapper),
                l = h.map(b.aoData, function(a) {
                    return a.nTr;
                }),
                o;
            b.bDestroying = !0;
            r(b, "aoDestroyCallback", "destroy", [b]);
            a || new s(b).columns().visible(!0);
            k.off(".DT").find(":not(tbody *)").off(".DT");
            h(E).off(".DT-" + b.sInstance);
            e != g.parentNode && (i.children("thead").detach(), i.append(g));
            j && e != j.parentNode && (i.children("tfoot").detach(), i.append(j));
            b.aaSorting = [];
            b.aaSortingFixed = [];
            wa(b);
            h(l).removeClass(b.asStripeClasses.join(" "));
            h("th, td", g).removeClass(d.sSortable + " " + d.sSortableAsc + " " + d.sSortableDesc + " " + d.sSortableNone);
            f.children().detach();
            f.append(l);
            g = a ? "remove" : "detach";
            i[g]();
            k[g]();
            !a && c && (c.insertBefore(e, b.nTableReinsertBefore), i.css("width", b.sDestroyWidth).removeClass(d.sTable), (o = b.asDestroyStripes.length) && f.children().each(function(a) {
                h(this).addClass(b.asDestroyStripes[a % o]);
            }));
            c = h.inArray(b, m.settings); - 1 !== c && m.settings.splice(c, 1);
        });
    });
    h.each(["column", "row", "cell"], function(a, b) {
        o(b + "s().every()", function(a) {
            var d = this.selector.opts,
                e = this;
            return this.iterator(b, function(f, g, h, i, n) {
                a.call(e[b](g, "cell" === b ? h : d, "cell" === b ? d : k), g, h, i, n);
            });
        });
    });
    o("i18n()", function(a, b, c) {
        var d = this.context[0],
            a = Q(a)(d.oLanguage);
        a === k && (a = b);
        c !== k && h.isPlainObject(a) && (a = a[c] !== k ? a[c] : a._);
        return a.replace("%d", c);
    });
    m.version = "1.10.16";
    m.settings = [];
    m.models = {};
    m.models.oSearch = {
        bCaseInsensitive: !0,
        sSearch: "",
        bRegex: !1,
        bSmart: !0
    };
    m.models.oRow = {
        nTr: null,
        anCells: null,
        _aData: [],
        _aSortData: null,
        _aFilterData: null,
        _sFilterRow: null,
        _sRowStripe: "",
        src: null,
        idx: -1
    };
    m.models.oColumn = {
        idx: null,
        aDataSort: null,
        asSorting: null,
        bSearchable: null,
        bSortable: null,
        bVisible: null,
        _sManualType: null,
        _bAttrSrc: !1,
        fnCreatedCell: null,
        fnGetData: null,
        fnSetData: null,
        mData: null,
        mRender: null,
        nTh: null,
        nTf: null,
        sClass: null,
        sContentPadding: null,
        sDefaultContent: null,
        sName: null,
        sSortDataType: "std",
        sSortingClass: null,
        sSortingClassJUI: null,
        sTitle: null,
        sType: null,
        sWidth: null,
        sWidthOrig: null
    };
    m.defaults = {
        aaData: null,
        aaSorting: [
            [0, "asc"]
        ],
        aaSortingFixed: [],
        ajax: null,
        aLengthMenu: [10, 25, 50, 100],
        aoColumns: null,
        aoColumnDefs: null,
        aoSearchCols: [],
        asStripeClasses: null,
        bAutoWidth: !0,
        bDeferRender: !1,
        bDestroy: !1,
        bFilter: !0,
        bInfo: !0,
        bLengthChange: !0,
        bPaginate: !0,
        bProcessing: !1,
        bRetrieve: !1,
        bScrollCollapse: !1,
        bServerSide: !1,
        bSort: !0,
        bSortMulti: !0,
        bSortCellsTop: !1,
        bSortClasses: !0,
        bStateSave: !1,
        fnCreatedRow: null,
        fnDrawCallback: null,
        fnFooterCallback: null,
        fnFormatNumber: function(a) {
            return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g, this.oLanguage.sThousands);
        },
        fnHeaderCallback: null,
        fnInfoCallback: null,
        fnInitComplete: null,
        fnPreDrawCallback: null,
        fnRowCallback: null,
        fnServerData: null,
        fnServerParams: null,
        fnStateLoadCallback: function(a) {
            try {
                return JSON.parse((-1 === a.iStateDuration ? sessionStorage : localStorage).getItem("DataTables_" + a.sInstance + "_" + location.pathname));
            } catch (b) {}
        },
        fnStateLoadParams: null,
        fnStateLoaded: null,
        fnStateSaveCallback: function(a, b) {
            try {
                (-1 === a.iStateDuration ? sessionStorage : localStorage).setItem("DataTables_" + a.sInstance + "_" + location.pathname, JSON.stringify(b));
            } catch (c) {}
        },
        fnStateSaveParams: null,
        iStateDuration: 7200,
        iDeferLoading: null,
        iDisplayLength: 10,
        iDisplayStart: 0,
        iTabIndex: 0,
        oClasses: {},
        oLanguage: {
            oAria: {
                sSortAscending: ": activate to sort column ascending",
                sSortDescending: ": activate to sort column descending"
            },
            oPaginate: {
                sFirst: "First",
                sLast: "Last",
                sNext: "Next",
                sPrevious: "Previous"
            },
            sEmptyTable: "No data available in table",
            sInfo: "Showing _START_ to _END_ of _TOTAL_ entries",
            sInfoEmpty: "Showing 0 to 0 of 0 entries",
            sInfoFiltered: "(filtered from _MAX_ total entries)",
            sInfoPostFix: "",
            sDecimal: "",
            sThousands: ",",
            sLengthMenu: "Show _MENU_ entries",
            sLoadingRecords: "Loading...",
            sProcessing: "Processing...",
            sSearch: "Search:",
            sSearchPlaceholder: "",
            sUrl: "",
            sZeroRecords: "No matching records found"
        },
        oSearch: h.extend({}, m.models.oSearch),
        sAjaxDataProp: "data",
        sAjaxSource: null,
        sDom: "lfrtip",
        searchDelay: null,
        sPaginationType: "simple_numbers",
        sScrollX: "",
        sScrollXInner: "",
        sScrollY: "",
        sServerMethod: "GET",
        renderer: null,
        rowId: "DT_RowId"
    };
    X(m.defaults);
    m.defaults.column = {
        aDataSort: null,
        iDataSort: -1,
        asSorting: ["asc", "desc"],
        bSearchable: !0,
        bSortable: !0,
        bVisible: !0,
        fnCreatedCell: null,
        mData: null,
        mRender: null,
        sCellType: "td",
        sClass: "",
        sContentPadding: "",
        sDefaultContent: null,
        sName: "",
        sSortDataType: "std",
        sTitle: null,
        sType: null,
        sWidth: null
    };
    X(m.defaults.column);
    m.models.oSettings = {
        oFeatures: {
            bAutoWidth: null,
            bDeferRender: null,
            bFilter: null,
            bInfo: null,
            bLengthChange: null,
            bPaginate: null,
            bProcessing: null,
            bServerSide: null,
            bSort: null,
            bSortMulti: null,
            bSortClasses: null,
            bStateSave: null
        },
        oScroll: {
            bCollapse: null,
            iBarWidth: 0,
            sX: null,
            sXInner: null,
            sY: null
        },
        oLanguage: {
            fnInfoCallback: null
        },
        oBrowser: {
            bScrollOversize: !1,
            bScrollbarLeft: !1,
            bBounding: !1,
            barWidth: 0
        },
        ajax: null,
        aanFeatures: [],
        aoData: [],
        aiDisplay: [],
        aiDisplayMaster: [],
        aIds: {},
        aoColumns: [],
        aoHeader: [],
        aoFooter: [],
        oPreviousSearch: {},
        aoPreSearchCols: [],
        aaSorting: null,
        aaSortingFixed: [],
        asStripeClasses: null,
        asDestroyStripes: [],
        sDestroyWidth: 0,
        aoRowCallback: [],
        aoHeaderCallback: [],
        aoFooterCallback: [],
        aoDrawCallback: [],
        aoRowCreatedCallback: [],
        aoPreDrawCallback: [],
        aoInitComplete: [],
        aoStateSaveParams: [],
        aoStateLoadParams: [],
        aoStateLoaded: [],
        sTableId: "",
        nTable: null,
        nTHead: null,
        nTFoot: null,
        nTBody: null,
        nTableWrapper: null,
        bDeferLoading: !1,
        bInitialised: !1,
        aoOpenRows: [],
        sDom: null,
        searchDelay: null,
        sPaginationType: "two_button",
        iStateDuration: 0,
        aoStateSave: [],
        aoStateLoad: [],
        oSavedState: null,
        oLoadedState: null,
        sAjaxSource: null,
        sAjaxDataProp: null,
        bAjaxDataGet: !0,
        jqXHR: null,
        json: k,
        oAjaxData: k,
        fnServerData: null,
        aoServerParams: [],
        sServerMethod: null,
        fnFormatNumber: null,
        aLengthMenu: null,
        iDraw: 0,
        bDrawing: !1,
        iDrawError: -1,
        _iDisplayLength: 10,
        _iDisplayStart: 0,
        _iRecordsTotal: 0,
        _iRecordsDisplay: 0,
        oClasses: {},
        bFiltered: !1,
        bSorted: !1,
        bSortCellsTop: null,
        oInit: null,
        aoDestroyCallback: [],
        fnRecordsTotal: function() {
            return "ssp" == y(this) ? 1 * this._iRecordsTotal : this.aiDisplayMaster.length;
        },
        fnRecordsDisplay: function() {
            return "ssp" == y(this) ? 1 * this._iRecordsDisplay : this.aiDisplay.length;
        },
        fnDisplayEnd: function() {
            var a = this._iDisplayLength,
                b = this._iDisplayStart,
                c = b + a,
                d = this.aiDisplay.length,
                e = this.oFeatures,
                f = e.bPaginate;
            return e.bServerSide ? !1 === f || -1 === a ? b + d : Math.min(b + a, this._iRecordsDisplay) : !f || c > d || -1 === a ? d : c;
        },
        oInstance: null,
        sInstance: null,
        iTabIndex: 0,
        nScrollHead: null,
        nScrollFoot: null,
        aLastSort: [],
        oPlugins: {},
        rowIdFn: null,
        rowId: null
    };
    m.ext = x = {
        buttons: {},
        classes: {},
        build: "dt/dt-1.10.16",
        errMode: "alert",
        feature: [],
        search: [],
        selector: {
            cell: [],
            column: [],
            row: []
        },
        internal: {},
        legacy: {
            ajax: null
        },
        pager: {},
        renderer: {
            pageButton: {},
            header: {}
        },
        order: {},
        type: {
            detect: [],
            search: {},
            order: {}
        },
        _unique: 0,
        fnVersionCheck: m.fnVersionCheck,
        iApiIndex: 0,
        oJUIClasses: {},
        sVersion: m.version
    };
    h.extend(x, {
        afnFiltering: x.search,
        aTypes: x.type.detect,
        ofnSearch: x.type.search,
        oSort: x.type.order,
        afnSortData: x.order,
        aoFeatures: x.feature,
        oApi: x.internal,
        oStdClasses: x.classes,
        oPagination: x.pager
    });
    h.extend(m.ext.classes, {
        sTable: "dataTable",
        sNoFooter: "no-footer",
        sPageButton: "paginate_button",
        sPageButtonActive: "current",
        sPageButtonDisabled: "disabled",
        sStripeOdd: "odd",
        sStripeEven: "even",
        sRowEmpty: "dataTables_empty",
        sWrapper: "dataTables_wrapper",
        sFilter: "dataTables_filter",
        sInfo: "dataTables_info",
        sPaging: "dataTables_paginate paging_",
        sLength: "dataTables_length",
        sProcessing: "dataTables_processing",
        sSortAsc: "sorting_asc",
        sSortDesc: "sorting_desc",
        sSortable: "sorting",
        sSortableAsc: "sorting_asc_disabled",
        sSortableDesc: "sorting_desc_disabled",
        sSortableNone: "sorting_disabled",
        sSortColumn: "sorting_",
        sFilterInput: "",
        sLengthSelect: "",
        sScrollWrapper: "dataTables_scroll",
        sScrollHead: "dataTables_scrollHead",
        sScrollHeadInner: "dataTables_scrollHeadInner",
        sScrollBody: "dataTables_scrollBody",
        sScrollFoot: "dataTables_scrollFoot",
        sScrollFootInner: "dataTables_scrollFootInner",
        sHeaderTH: "",
        sFooterTH: "",
        sSortJUIAsc: "",
        sSortJUIDesc: "",
        sSortJUI: "",
        sSortJUIAscAllowed: "",
        sSortJUIDescAllowed: "",
        sSortJUIWrapper: "",
        sSortIcon: "",
        sJUIHeader: "",
        sJUIFooter: ""
    });
    var Kb = m.ext.pager;
    h.extend(Kb, {
        simple: function() {
            return ["previous", "next"];
        },
        full: function() {
            return ["first", "previous", "next", "last"];
        },
        numbers: function(a, b) {
            return [ha(a, b)];
        },
        simple_numbers: function(a, b) {
            return ["previous", ha(a, b), "next"];
        },
        full_numbers: function(a, b) {
            return ["first", "previous", ha(a, b), "next", "last"];
        },
        first_last_numbers: function(a, b) {
            return ["first", ha(a, b), "last"];
        },
        _numbers: ha,
        numbers_length: 7
    });
    h.extend(!0, m.ext.renderer, {
        pageButton: {
            _: function(a, b, c, d, e, f) {
                var g = a.oClasses,
                    j = a.oLanguage.oPaginate,
                    i = a.oLanguage.oAria.paginate || {},
                    n, l, m = 0,
                    o = function(b, d) {
                        var k, s, u, r, v = function(b) {
                            Sa(a, b.data.action, true);
                        };
                        k = 0;
                        for (s = d.length; k < s; k++) {
                            r = d[k];
                            if (h.isArray(r)) {
                                u = h("<" + (r.DT_el || "div") + "/>").appendTo(b);
                                o(u, r);
                            } else {
                                n = null;
                                l = "";
                                switch (r) {
                                    case "ellipsis":
                                        b.append('<span class="ellipsis">&#x2026;</span>');
                                        break;
                                    case "first":
                                        n = j.sFirst;
                                        l = r + (e > 0 ? "" : " " + g.sPageButtonDisabled);
                                        break;
                                    case "previous":
                                        n = j.sPrevious;
                                        l = r + (e > 0 ? "" : " " + g.sPageButtonDisabled);
                                        break;
                                    case "next":
                                        n = j.sNext;
                                        l = r + (e < f - 1 ? "" : " " + g.sPageButtonDisabled);
                                        break;
                                    case "last":
                                        n = j.sLast;
                                        l = r + (e < f - 1 ? "" : " " + g.sPageButtonDisabled);
                                        break;
                                    default:
                                        n = r + 1;
                                        l = e === r ? g.sPageButtonActive : "";
                                }
                                if (n !== null) {
                                    u = h("<a>", {
                                        "class": g.sPageButton + " " + l,
                                        "aria-controls": a.sTableId,
                                        "aria-label": i[r],
                                        "data-dt-idx": m,
                                        tabindex: a.iTabIndex,
                                        id: c === 0 && typeof r === "string" ? a.sTableId + "_" + r : null
                                    }).html(n).appendTo(b);
                                    Va(u, {
                                        action: r
                                    }, v);
                                    m++;
                                }
                            }
                        }
                    },
                    s;
                try {
                    s = h(b).find(G.activeElement).data("dt-idx");
                } catch (u) {}
                o(h(b).empty(), d);
                s !== k && h(b).find("[data-dt-idx=" + s + "]").focus();
            }
        }
    });
    h.extend(m.ext.type.detect, [function(a, b) {
        var c = b.oLanguage.sDecimal;
        return Ya(a, c) ? "num" + c : null;
    }, function(a) {
        if (a && !(a instanceof Date) && !Zb.test(a)) return null;
        var b = Date.parse(a);
        return null !== b && !isNaN(b) || L(a) ? "date" : null;
    }, function(a, b) {
        var c = b.oLanguage.sDecimal;
        return Ya(a, c, !0) ? "num-fmt" + c : null;
    }, function(a, b) {
        var c = b.oLanguage.sDecimal;
        return Pb(a, c) ? "html-num" + c : null;
    }, function(a, b) {
        var c = b.oLanguage.sDecimal;
        return Pb(a, c, !0) ? "html-num-fmt" + c : null;
    }, function(a) {
        return L(a) || "string" === typeof a && -1 !== a.indexOf("<") ? "html" : null;
    }]);
    h.extend(m.ext.type.search, {
        html: function(a) {
            return L(a) ? a : "string" === typeof a ? a.replace(Mb, " ").replace(Aa, "") : "";
        },
        string: function(a) {
            return L(a) ? a : "string" === typeof a ? a.replace(Mb, " ") : a;
        }
    });
    var za = function(a, b, c, d) {
        if (0 !== a && (!a || "-" === a)) return -Infinity;
        b && (a = Ob(a, b));
        a.replace && (c && (a = a.replace(c, "")), d && (a = a.replace(d, "")));
        return 1 * a;
    };
    h.extend(x.type.order, {
        "date-pre": function(a) {
            return Date.parse(a) || -Infinity;
        },
        "html-pre": function(a) {
            return L(a) ? "" : a.replace ? a.replace(/<.*?>/g, "").toLowerCase() : a + "";
        },
        "string-pre": function(a) {
            return L(a) ? "" : "string" === typeof a ? a.toLowerCase() : !a.toString ? "" : a.toString();
        },
        "string-asc": function(a, b) {
            return a < b ? -1 : a > b ? 1 : 0;
        },
        "string-desc": function(a, b) {
            return a < b ? 1 : a > b ? -1 : 0;
        }
    });
    cb("");
    h.extend(!0, m.ext.renderer, {
        header: {
            _: function(a, b, c, d) {
                h(a.nTable).on("order.dt.DT", function(e, f, g, h) {
                    if (a === f) {
                        e = c.idx;
                        b.removeClass(c.sSortingClass + " " + d.sSortAsc + " " + d.sSortDesc).addClass(h[e] == "asc" ? d.sSortAsc : h[e] == "desc" ? d.sSortDesc : c.sSortingClass);
                    }
                });
            },
            jqueryui: function(a, b, c, d) {
                h("<div/>").addClass(d.sSortJUIWrapper).append(b.contents()).append(h("<span/>").addClass(d.sSortIcon + " " + c.sSortingClassJUI)).appendTo(b);
                h(a.nTable).on("order.dt.DT", function(e, f, g, h) {
                    if (a === f) {
                        e = c.idx;
                        b.removeClass(d.sSortAsc + " " + d.sSortDesc).addClass(h[e] == "asc" ? d.sSortAsc : h[e] == "desc" ? d.sSortDesc : c.sSortingClass);
                        b.find("span." + d.sSortIcon).removeClass(d.sSortJUIAsc + " " + d.sSortJUIDesc + " " + d.sSortJUI + " " + d.sSortJUIAscAllowed + " " + d.sSortJUIDescAllowed).addClass(h[e] == "asc" ? d.sSortJUIAsc : h[e] == "desc" ? d.sSortJUIDesc : c.sSortingClassJUI);
                    }
                });
            }
        }
    });
    var Vb = function(a) {
        return "string" === typeof a ? a.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;") : a;
    };
    m.render = {
        number: function(a, b, c, d, e) {
            return {
                display: function(f) {
                    if ("number" !== typeof f && "string" !== typeof f) return f;
                    var g = 0 > f ? "-" : "",
                        h = parseFloat(f);
                    if (isNaN(h)) return Vb(f);
                    h = h.toFixed(c);
                    f = Math.abs(h);
                    h = parseInt(f, 10);
                    f = c ? b + (f - h).toFixed(c).substring(2) : "";
                    return g + (d || "") + h.toString().replace(/\B(?=(\d{3})+(?!\d))/g, a) + f + (e || "");
                }
            };
        },
        text: function() {
            return {
                display: Vb
            };
        }
    };
    h.extend(m.ext.internal, {
        _fnExternApiFunc: Lb,
        _fnBuildAjax: sa,
        _fnAjaxUpdate: kb,
        _fnAjaxParameters: tb,
        _fnAjaxUpdateDraw: ub,
        _fnAjaxDataSrc: ta,
        _fnAddColumn: Da,
        _fnColumnOptions: ja,
        _fnAdjustColumnSizing: Y,
        _fnVisibleToColumnIndex: Z,
        _fnColumnIndexToVisible: $,
        _fnVisbleColumns: aa,
        _fnGetColumns: la,
        _fnColumnTypes: Fa,
        _fnApplyColumnDefs: hb,
        _fnHungarianMap: X,
        _fnCamelToHungarian: I,
        _fnLanguageCompat: Ca,
        _fnBrowserDetect: fb,
        _fnAddData: M,
        _fnAddTr: ma,
        _fnNodeToDataIndex: function(a, b) {
            return b._DT_RowIndex !== k ? b._DT_RowIndex : null;
        },
        _fnNodeToColumnIndex: function(a, b, c) {
            return h.inArray(c, a.aoData[b].anCells);
        },
        _fnGetCellData: B,
        _fnSetCellData: ib,
        _fnSplitObjNotation: Ia,
        _fnGetObjectDataFn: Q,
        _fnSetObjectDataFn: R,
        _fnGetDataMaster: Ja,
        _fnClearTable: na,
        _fnDeleteIndex: oa,
        _fnInvalidate: ca,
        _fnGetRowElements: Ha,
        _fnCreateTr: Ga,
        _fnBuildHead: jb,
        _fnDrawHead: ea,
        _fnDraw: N,
        _fnReDraw: S,
        _fnAddOptionsHtml: mb,
        _fnDetectHeader: da,
        _fnGetUniqueThs: ra,
        _fnFeatureHtmlFilter: ob,
        _fnFilterComplete: fa,
        _fnFilterCustom: xb,
        _fnFilterColumn: wb,
        _fnFilter: vb,
        _fnFilterCreateSearch: Oa,
        _fnEscapeRegex: Pa,
        _fnFilterData: yb,
        _fnFeatureHtmlInfo: rb,
        _fnUpdateInfo: Bb,
        _fnInfoMacros: Cb,
        _fnInitialise: ga,
        _fnInitComplete: ua,
        _fnLengthChange: Qa,
        _fnFeatureHtmlLength: nb,
        _fnFeatureHtmlPaginate: sb,
        _fnPageChange: Sa,
        _fnFeatureHtmlProcessing: pb,
        _fnProcessingDisplay: C,
        _fnFeatureHtmlTable: qb,
        _fnScrollDraw: ka,
        _fnApplyToChildren: H,
        _fnCalculateColumnWidths: Ea,
        _fnThrottle: Na,
        _fnConvertToWidth: Db,
        _fnGetWidestNode: Eb,
        _fnGetMaxLenString: Fb,
        _fnStringToCss: v,
        _fnSortFlatten: V,
        _fnSort: lb,
        _fnSortAria: Hb,
        _fnSortListener: Ua,
        _fnSortAttachListener: La,
        _fnSortingClasses: wa,
        _fnSortData: Gb,
        _fnSaveState: xa,
        _fnLoadState: Ib,
        _fnSettingsFromNode: ya,
        _fnLog: J,
        _fnMap: F,
        _fnBindAction: Va,
        _fnCallbackReg: z,
        _fnCallbackFire: r,
        _fnLengthOverflow: Ra,
        _fnRenderer: Ma,
        _fnDataSource: y,
        _fnRowAttributes: Ka,
        _fnCalculateEnd: function() {}
    });
    h.fn.dataTable = m;
    m.$ = h;
    h.fn.dataTableSettings = m.settings;
    h.fn.dataTableExt = m.ext;
    h.fn.DataTable = function(a) {
        return h(this).dataTable(a).api();
    };
    h.each(m, function(a, b) {
        h.fn.DataTable[a] = b;
    });
    return h.fn.dataTable;
}); // Ion.RangeSlider | version 2.2.0 | https://github.com/IonDen/ion.rangeSlider
;
(function(f) {
    "function" === typeof define && define.amd ? define(["jquery"], function(n) {
        return f(n, document, window, navigator);
    }) : "object" === typeof exports ? f(require("jquery"), document, window, navigator) : f(jQuery, document, window, navigator);
})(function(f, n, k, r, p) {
    var t = 0,
        m = function() {
            var a = r.userAgent,
                b = /msie\s\d+/i;
            return 0 < a.search(b) && (a = b.exec(a).toString(), a = a.split(" ")[1], 9 > a) ? (f("html").addClass("lt-ie9"), !0) : !1;
        }();
    Function.prototype.bind || (Function.prototype.bind = function(a) {
        var b = this,
            d = [].slice;
        if ("function" != typeof b) throw new TypeError();
        var c = d.call(arguments, 1),
            e = function() {
                if (this instanceof e) {
                    var g = function() {};
                    g.prototype = b.prototype;
                    var g = new g(),
                        l = b.apply(g, c.concat(d.call(arguments)));
                    return Object(l) === l ? l : g;
                }
                return b.apply(a, c.concat(d.call(arguments)));
            };
        return e;
    });
    Array.prototype.indexOf || (Array.prototype.indexOf = function(a, b) {
        if (null == this) throw new TypeError('"this" is null or not defined');
        var d = Object(this),
            c = d.length >>> 0;
        if (0 === c) return -1;
        var e = +b || 0;
        Infinity === Math.abs(e) && (e = 0);
        if (e >= c) return -1;
        for (e = Math.max(0 <= e ? e : c - Math.abs(e), 0); e < c;) {
            if (e in d && d[e] === a) return e;
            e++;
        }
        return -1;
    });
    var q = function(a, b, d) {
        this.VERSION = "2.2.0";
        this.input = a;
        this.plugin_count = d;
        this.old_to = this.old_from = this.update_tm = this.calc_count = this.current_plugin = 0;
        this.raf_id = this.old_min_interval = null;
        this.no_diapason = this.force_redraw = this.dragging = !1;
        this.has_tab_index = !0;
        this.is_update = this.is_key = !1;
        this.is_start = !0;
        this.is_click = this.is_resize = this.is_active = this.is_finish = !1;
        b = b || {};
        this.$cache = {
            win: f(k),
            body: f(n.body),
            input: f(a),
            cont: null,
            rs: null,
            min: null,
            max: null,
            from: null,
            to: null,
            single: null,
            bar: null,
            line: null,
            s_single: null,
            s_from: null,
            s_to: null,
            shad_single: null,
            shad_from: null,
            shad_to: null,
            edge: null,
            grid: null,
            grid_labels: []
        };
        this.coords = {
            x_gap: 0,
            x_pointer: 0,
            w_rs: 0,
            w_rs_old: 0,
            w_handle: 0,
            p_gap: 0,
            p_gap_left: 0,
            p_gap_right: 0,
            p_step: 0,
            p_pointer: 0,
            p_handle: 0,
            p_single_fake: 0,
            p_single_real: 0,
            p_from_fake: 0,
            p_from_real: 0,
            p_to_fake: 0,
            p_to_real: 0,
            p_bar_x: 0,
            p_bar_w: 0,
            grid_gap: 0,
            big_num: 0,
            big: [],
            big_w: [],
            big_p: [],
            big_x: []
        };
        this.labels = {
            w_min: 0,
            w_max: 0,
            w_from: 0,
            w_to: 0,
            w_single: 0,
            p_min: 0,
            p_max: 0,
            p_from_fake: 0,
            p_from_left: 0,
            p_to_fake: 0,
            p_to_left: 0,
            p_single_fake: 0,
            p_single_left: 0
        };
        var c = this.$cache.input;
        a = c.prop("value");
        var e;
        d = {
            type: "single",
            min: 10,
            max: 100,
            from: null,
            to: null,
            step: 1,
            min_interval: 0,
            max_interval: 0,
            drag_interval: !1,
            values: [],
            p_values: [],
            from_fixed: !1,
            from_min: null,
            from_max: null,
            from_shadow: !1,
            to_fixed: !1,
            to_min: null,
            to_max: null,
            to_shadow: !1,
            prettify_enabled: !0,
            prettify_separator: " ",
            prettify: null,
            force_edges: !1,
            keyboard: !0,
            grid: !1,
            grid_margin: !0,
            grid_num: 4,
            grid_snap: !1,
            hide_min_max: !1,
            hide_from_to: !1,
            prefix: "",
            postfix: "",
            max_postfix: "",
            decorate_both: !0,
            values_separator: " \u2014 ",
            input_values_separator: ";",
            disable: !1,
            block: !1,
            extra_classes: "",
            scope: null,
            onStart: null,
            onChange: null,
            onFinish: null,
            onUpdate: null
        };
        "INPUT" !== c[0].nodeName && console && console.warn && console.warn("Base element should be <input>!", c[0]);
        c = {
            type: c.data("type"),
            min: c.data("min"),
            max: c.data("max"),
            from: c.data("from"),
            to: c.data("to"),
            step: c.data("step"),
            min_interval: c.data("minInterval"),
            max_interval: c.data("maxInterval"),
            drag_interval: c.data("dragInterval"),
            values: c.data("values"),
            from_fixed: c.data("fromFixed"),
            from_min: c.data("fromMin"),
            from_max: c.data("fromMax"),
            from_shadow: c.data("fromShadow"),
            to_fixed: c.data("toFixed"),
            to_min: c.data("toMin"),
            to_max: c.data("toMax"),
            to_shadow: c.data("toShadow"),
            prettify_enabled: c.data("prettifyEnabled"),
            prettify_separator: c.data("prettifySeparator"),
            force_edges: c.data("forceEdges"),
            keyboard: c.data("keyboard"),
            grid: c.data("grid"),
            grid_margin: c.data("gridMargin"),
            grid_num: c.data("gridNum"),
            grid_snap: c.data("gridSnap"),
            hide_min_max: c.data("hideMinMax"),
            hide_from_to: c.data("hideFromTo"),
            prefix: c.data("prefix"),
            postfix: c.data("postfix"),
            max_postfix: c.data("maxPostfix"),
            decorate_both: c.data("decorateBoth"),
            values_separator: c.data("valuesSeparator"),
            input_values_separator: c.data("inputValuesSeparator"),
            disable: c.data("disable"),
            block: c.data("block"),
            extra_classes: c.data("extraClasses")
        };
        c.values = c.values && c.values.split(",");
        for (e in c) c.hasOwnProperty(e) && (c[e] !== p && "" !== c[e] || delete c[e]);
        a !== p && "" !== a && (a = a.split(c.input_values_separator || b.input_values_separator || ";"), a[0] && a[0] == +a[0] && (a[0] = +a[0]), a[1] && a[1] == +a[1] && (a[1] = +a[1]), b && b.values && b.values.length ? (d.from = a[0] && b.values.indexOf(a[0]), d.to = a[1] && b.values.indexOf(a[1])) : (d.from = a[0] && +a[0], d.to = a[1] && +a[1]));
        f.extend(d, b);
        f.extend(d, c);
        this.options = d;
        this.update_check = {};
        this.validate();
        this.result = {
            input: this.$cache.input,
            slider: null,
            min: this.options.min,
            max: this.options.max,
            from: this.options.from,
            from_percent: 0,
            from_value: null,
            to: this.options.to,
            to_percent: 0,
            to_value: null
        };
        this.init();
    };
    q.prototype = {
        init: function(a) {
            this.no_diapason = !1;
            this.coords.p_step = this.convertToPercent(this.options.step, !0);
            this.target = "base";
            this.toggleInput();
            this.append();
            this.setMinMax();
            a ? (this.force_redraw = !0, this.calc(!0), this.callOnUpdate()) : (this.force_redraw = !0, this.calc(!0), this.callOnStart());
            this.updateScene();
        },
        append: function() {
            this.$cache.input.before('<span class="irs js-irs-' + this.plugin_count + " " + this.options.extra_classes + '"></span>');
            this.$cache.input.prop("readonly", !0);
            this.$cache.cont = this.$cache.input.prev();
            this.result.slider = this.$cache.cont;
            this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="0"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span><span class="irs-bar"></span>');
            this.$cache.rs = this.$cache.cont.find(".irs");
            this.$cache.min = this.$cache.cont.find(".irs-min");
            this.$cache.max = this.$cache.cont.find(".irs-max");
            this.$cache.from = this.$cache.cont.find(".irs-from");
            this.$cache.to = this.$cache.cont.find(".irs-to");
            this.$cache.single = this.$cache.cont.find(".irs-single");
            this.$cache.bar = this.$cache.cont.find(".irs-bar");
            this.$cache.line = this.$cache.cont.find(".irs-line");
            this.$cache.grid = this.$cache.cont.find(".irs-grid");
            "single" === this.options.type ? (this.$cache.cont.append('<span class="irs-bar-edge"></span><span class="irs-shadow shadow-single"></span><span class="irs-slider single"></span>'), this.$cache.edge = this.$cache.cont.find(".irs-bar-edge"), this.$cache.s_single = this.$cache.cont.find(".single"), this.$cache.from[0].style.visibility = "hidden", this.$cache.to[0].style.visibility = "hidden", this.$cache.shad_single = this.$cache.cont.find(".shadow-single")) : (this.$cache.cont.append('<span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>'), this.$cache.s_from = this.$cache.cont.find(".from"), this.$cache.s_to = this.$cache.cont.find(".to"), this.$cache.shad_from = this.$cache.cont.find(".shadow-from"), this.$cache.shad_to = this.$cache.cont.find(".shadow-to"), this.setTopHandler());
            this.options.hide_from_to && (this.$cache.from[0].style.display = "none", this.$cache.to[0].style.display = "none", this.$cache.single[0].style.display = "none");
            this.appendGrid();
            this.options.disable ? (this.appendDisableMask(), this.$cache.input[0].disabled = !0) : (this.$cache.input[0].disabled = !1, this.removeDisableMask(), this.bindEvents());
            this.options.disable || (this.options.block ? this.appendDisableMask() : this.removeDisableMask());
            this.options.drag_interval && (this.$cache.bar[0].style.cursor = "ew-resize");
        },
        setTopHandler: function() {
            var a = this.options.max,
                b = this.options.to;
            this.options.from > this.options.min && b === a ? this.$cache.s_from.addClass("type_last") : b < a && this.$cache.s_to.addClass("type_last");
        },
        changeLevel: function(a) {
            switch (a) {
                case "single":
                    this.coords.p_gap = this.toFixed(this.coords.p_pointer - this.coords.p_single_fake);
                    this.$cache.s_single.addClass("state_hover");
                    break;
                case "from":
                    this.coords.p_gap = this.toFixed(this.coords.p_pointer - this.coords.p_from_fake);
                    this.$cache.s_from.addClass("state_hover");
                    this.$cache.s_from.addClass("type_last");
                    this.$cache.s_to.removeClass("type_last");
                    break;
                case "to":
                    this.coords.p_gap = this.toFixed(this.coords.p_pointer - this.coords.p_to_fake);
                    this.$cache.s_to.addClass("state_hover");
                    this.$cache.s_to.addClass("type_last");
                    this.$cache.s_from.removeClass("type_last");
                    break;
                case "both":
                    this.coords.p_gap_left = this.toFixed(this.coords.p_pointer - this.coords.p_from_fake), this.coords.p_gap_right = this.toFixed(this.coords.p_to_fake - this.coords.p_pointer), this.$cache.s_to.removeClass("type_last"), this.$cache.s_from.removeClass("type_last");
            }
        },
        appendDisableMask: function() {
            this.$cache.cont.append('<span class="irs-disable-mask"></span>');
            this.$cache.cont.addClass("irs-disabled");
        },
        removeDisableMask: function() {
            this.$cache.cont.remove(".irs-disable-mask");
            this.$cache.cont.removeClass("irs-disabled");
        },
        remove: function() {
            this.$cache.cont.remove();
            this.$cache.cont = null;
            this.$cache.line.off("keydown.irs_" + this.plugin_count);
            this.$cache.body.off("touchmove.irs_" + this.plugin_count);
            this.$cache.body.off("mousemove.irs_" + this.plugin_count);
            this.$cache.win.off("touchend.irs_" + this.plugin_count);
            this.$cache.win.off("mouseup.irs_" + this.plugin_count);
            m && (this.$cache.body.off("mouseup.irs_" + this.plugin_count), this.$cache.body.off("mouseleave.irs_" + this.plugin_count));
            this.$cache.grid_labels = [];
            this.coords.big = [];
            this.coords.big_w = [];
            this.coords.big_p = [];
            this.coords.big_x = [];
            cancelAnimationFrame(this.raf_id);
        },
        bindEvents: function() {
            if (!this.no_diapason) {
                this.$cache.body.on("touchmove.irs_" + this.plugin_count, this.pointerMove.bind(this));
                this.$cache.body.on("mousemove.irs_" + this.plugin_count, this.pointerMove.bind(this));
                this.$cache.win.on("touchend.irs_" + this.plugin_count, this.pointerUp.bind(this));
                this.$cache.win.on("mouseup.irs_" + this.plugin_count, this.pointerUp.bind(this));
                this.$cache.line.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this, "click"));
                this.$cache.line.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click"));
                this.$cache.line.on("focus.irs_" + this.plugin_count, this.pointerFocus.bind(this));
                this.options.drag_interval && "double" === this.options.type ? (this.$cache.bar.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "both")), this.$cache.bar.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "both"))) : (this.$cache.bar.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.bar.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")));
                "single" === this.options.type ? (this.$cache.single.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "single")), this.$cache.s_single.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "single")), this.$cache.shad_single.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.single.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "single")), this.$cache.s_single.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "single")), this.$cache.edge.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.shad_single.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click"))) : (this.$cache.single.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, null)), this.$cache.single.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, null)), this.$cache.from.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "from")), this.$cache.s_from.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "from")), this.$cache.to.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "to")), this.$cache.s_to.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "to")), this.$cache.shad_from.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.shad_to.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.from.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "from")), this.$cache.s_from.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "from")), this.$cache.to.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "to")), this.$cache.s_to.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "to")), this.$cache.shad_from.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.shad_to.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")));
                if (this.options.keyboard) this.$cache.line.on("keydown.irs_" + this.plugin_count, this.key.bind(this, "keyboard"));
                m && (this.$cache.body.on("mouseup.irs_" + this.plugin_count, this.pointerUp.bind(this)), this.$cache.body.on("mouseleave.irs_" + this.plugin_count, this.pointerUp.bind(this)));
            }
        },
        pointerFocus: function(a) {
            if (!this.target) {
                var b = "single" === this.options.type ? this.$cache.single : this.$cache.from;
                a = b.offset().left;
                a += b.width() / 2 - 1;
                this.pointerClick("single", {
                    preventDefault: function() {},
                    pageX: a
                });
            }
        },
        pointerMove: function(a) {
            this.dragging && (this.coords.x_pointer = (a.pageX || a.originalEvent.touches && a.originalEvent.touches[0].pageX) - this.coords.x_gap, this.calc());
        },
        pointerUp: function(a) {
            this.current_plugin === this.plugin_count && this.is_active && (this.is_active = !1, this.$cache.cont.find(".state_hover").removeClass("state_hover"), this.force_redraw = !0, m && f("*").prop("unselectable", !1), this.updateScene(), this.restoreOriginalMinInterval(), (f.contains(this.$cache.cont[0], a.target) || this.dragging) && this.callOnFinish(), this.dragging = !1);
        },
        pointerDown: function(a, b) {
            b.preventDefault();
            var d = b.pageX || b.originalEvent.touches && b.originalEvent.touches[0].pageX;
            2 !== b.button && ("both" === a && this.setTempMinInterval(), a || (a = this.target || "from"), this.current_plugin = this.plugin_count, this.target = a, this.dragging = this.is_active = !0, this.coords.x_gap = this.$cache.rs.offset().left, this.coords.x_pointer = d - this.coords.x_gap, this.calcPointerPercent(), this.changeLevel(a), m && f("*").prop("unselectable", !0), this.$cache.line.trigger("focus"), this.updateScene());
        },
        pointerClick: function(a, b) {
            b.preventDefault();
            var d = b.pageX || b.originalEvent.touches && b.originalEvent.touches[0].pageX;
            2 !== b.button && (this.current_plugin = this.plugin_count, this.target = a, this.is_click = !0, this.coords.x_gap = this.$cache.rs.offset().left, this.coords.x_pointer = +(d - this.coords.x_gap).toFixed(), this.force_redraw = !0, this.calc(), this.$cache.line.trigger("focus"));
        },
        key: function(a, b) {
            if (!(this.current_plugin !== this.plugin_count || b.altKey || b.ctrlKey || b.shiftKey || b.metaKey)) {
                switch (b.which) {
                    case 83:
                    case 65:
                    case 40:
                    case 37:
                        b.preventDefault();
                        this.moveByKey(!1);
                        break;
                    case 87:
                    case 68:
                    case 38:
                    case 39:
                        b.preventDefault(), this.moveByKey(!0);
                }
                return !0;
            }
        },
        moveByKey: function(a) {
            var b = this.coords.p_pointer,
                d = (this.options.max - this.options.min) / 100,
                d = this.options.step / d;
            this.coords.x_pointer = this.toFixed(this.coords.w_rs / 100 * (a ? b + d : b - d));
            this.is_key = !0;
            this.calc();
        },
        setMinMax: function() {
            if (this.options)
                if (this.options.hide_min_max) this.$cache.min[0].style.display = "none", this.$cache.max[0].style.display = "none";
                else {
                    if (this.options.values.length) this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])), this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]));
                    else {
                        var a = this._prettify(this.options.min),
                            b = this._prettify(this.options.max);
                        this.result.min_pretty = a;
                        this.result.max_pretty = b;
                        this.$cache.min.html(this.decorate(a, this.options.min));
                        this.$cache.max.html(this.decorate(b, this.options.max));
                    }
                    this.labels.w_min = this.$cache.min.outerWidth(!1);
                    this.labels.w_max = this.$cache.max.outerWidth(!1);
                }
        },
        setTempMinInterval: function() {
            var a = this.result.to - this.result.from;
            null === this.old_min_interval && (this.old_min_interval = this.options.min_interval);
            this.options.min_interval = a;
        },
        restoreOriginalMinInterval: function() {
            null !== this.old_min_interval && (this.options.min_interval = this.old_min_interval, this.old_min_interval = null);
        },
        calc: function(a) {
            if (this.options) {
                this.calc_count++;
                if (10 === this.calc_count || a) this.calc_count = 0, this.coords.w_rs = this.$cache.rs.outerWidth(!1), this.calcHandlePercent();
                if (this.coords.w_rs) {
                    this.calcPointerPercent();
                    a = this.getHandleX();
                    "both" === this.target && (this.coords.p_gap = 0, a = this.getHandleX());
                    "click" === this.target && (this.coords.p_gap = this.coords.p_handle / 2, a = this.getHandleX(), this.target = this.options.drag_interval ? "both_one" : this.chooseHandle(a));
                    switch (this.target) {
                        case "base":
                            var b = (this.options.max - this.options.min) / 100;
                            a = (this.result.from - this.options.min) / b;
                            b = (this.result.to - this.options.min) / b;
                            this.coords.p_single_real = this.toFixed(a);
                            this.coords.p_from_real = this.toFixed(a);
                            this.coords.p_to_real = this.toFixed(b);
                            this.coords.p_single_real = this.checkDiapason(this.coords.p_single_real, this.options.from_min, this.options.from_max);
                            this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real, this.options.from_min, this.options.from_max);
                            this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min, this.options.to_max);
                            this.coords.p_single_fake = this.convertToFakePercent(this.coords.p_single_real);
                            this.coords.p_from_fake = this.convertToFakePercent(this.coords.p_from_real);
                            this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real);
                            this.target = null;
                            break;
                        case "single":
                            if (this.options.from_fixed) break;
                            this.coords.p_single_real = this.convertToRealPercent(a);
                            this.coords.p_single_real = this.calcWithStep(this.coords.p_single_real);
                            this.coords.p_single_real = this.checkDiapason(this.coords.p_single_real, this.options.from_min, this.options.from_max);
                            this.coords.p_single_fake = this.convertToFakePercent(this.coords.p_single_real);
                            break;
                        case "from":
                            if (this.options.from_fixed) break;
                            this.coords.p_from_real = this.convertToRealPercent(a);
                            this.coords.p_from_real = this.calcWithStep(this.coords.p_from_real);
                            this.coords.p_from_real > this.coords.p_to_real && (this.coords.p_from_real = this.coords.p_to_real);
                            this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real, this.options.from_min, this.options.from_max);
                            this.coords.p_from_real = this.checkMinInterval(this.coords.p_from_real, this.coords.p_to_real, "from");
                            this.coords.p_from_real = this.checkMaxInterval(this.coords.p_from_real, this.coords.p_to_real, "from");
                            this.coords.p_from_fake = this.convertToFakePercent(this.coords.p_from_real);
                            break;
                        case "to":
                            if (this.options.to_fixed) break;
                            this.coords.p_to_real = this.convertToRealPercent(a);
                            this.coords.p_to_real = this.calcWithStep(this.coords.p_to_real);
                            this.coords.p_to_real < this.coords.p_from_real && (this.coords.p_to_real = this.coords.p_from_real);
                            this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min, this.options.to_max);
                            this.coords.p_to_real = this.checkMinInterval(this.coords.p_to_real, this.coords.p_from_real, "to");
                            this.coords.p_to_real = this.checkMaxInterval(this.coords.p_to_real, this.coords.p_from_real, "to");
                            this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real);
                            break;
                        case "both":
                            if (this.options.from_fixed || this.options.to_fixed) break;
                            a = this.toFixed(a + .001 * this.coords.p_handle);
                            this.coords.p_from_real = this.convertToRealPercent(a) - this.coords.p_gap_left;
                            this.coords.p_from_real = this.calcWithStep(this.coords.p_from_real);
                            this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real, this.options.from_min, this.options.from_max);
                            this.coords.p_from_real = this.checkMinInterval(this.coords.p_from_real, this.coords.p_to_real, "from");
                            this.coords.p_from_fake = this.convertToFakePercent(this.coords.p_from_real);
                            this.coords.p_to_real = this.convertToRealPercent(a) + this.coords.p_gap_right;
                            this.coords.p_to_real = this.calcWithStep(this.coords.p_to_real);
                            this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min, this.options.to_max);
                            this.coords.p_to_real = this.checkMinInterval(this.coords.p_to_real, this.coords.p_from_real, "to");
                            this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real);
                            break;
                        case "both_one":
                            if (!this.options.from_fixed && !this.options.to_fixed) {
                                var d = this.convertToRealPercent(a);
                                a = this.result.to_percent - this.result.from_percent;
                                var c = a / 2,
                                    b = d - c,
                                    d = d + c;
                                0 > b && (b = 0, d = b + a);
                                100 < d && (d = 100, b = d - a);
                                this.coords.p_from_real = this.calcWithStep(b);
                                this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real, this.options.from_min, this.options.from_max);
                                this.coords.p_from_fake = this.convertToFakePercent(this.coords.p_from_real);
                                this.coords.p_to_real = this.calcWithStep(d);
                                this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min, this.options.to_max);
                                this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real);
                            }
                    }
                    "single" === this.options.type ? (this.coords.p_bar_x = this.coords.p_handle / 2, this.coords.p_bar_w = this.coords.p_single_fake, this.result.from_percent = this.coords.p_single_real, this.result.from = this.convertToValue(this.coords.p_single_real), this.result.from_pretty = this._prettify(this.result.from), this.options.values.length && (this.result.from_value = this.options.values[this.result.from])) : (this.coords.p_bar_x = this.toFixed(this.coords.p_from_fake + this.coords.p_handle / 2), this.coords.p_bar_w = this.toFixed(this.coords.p_to_fake - this.coords.p_from_fake), this.result.from_percent = this.coords.p_from_real, this.result.from = this.convertToValue(this.coords.p_from_real), this.result.from_pretty = this._prettify(this.result.from), this.result.to_percent = this.coords.p_to_real, this.result.to = this.convertToValue(this.coords.p_to_real), this.result.to_pretty = this._prettify(this.result.to), this.options.values.length && (this.result.from_value = this.options.values[this.result.from], this.result.to_value = this.options.values[this.result.to]));
                    this.calcMinMax();
                    this.calcLabels();
                }
            }
        },
        calcPointerPercent: function() {
            this.coords.w_rs ? (0 > this.coords.x_pointer || isNaN(this.coords.x_pointer) ? this.coords.x_pointer = 0 : this.coords.x_pointer > this.coords.w_rs && (this.coords.x_pointer = this.coords.w_rs), this.coords.p_pointer = this.toFixed(this.coords.x_pointer / this.coords.w_rs * 100)) : this.coords.p_pointer = 0;
        },
        convertToRealPercent: function(a) {
            return a / (100 - this.coords.p_handle) * 100;
        },
        convertToFakePercent: function(a) {
            return a / 100 * (100 - this.coords.p_handle);
        },
        getHandleX: function() {
            var a = 100 - this.coords.p_handle,
                b = this.toFixed(this.coords.p_pointer - this.coords.p_gap);
            0 > b ? b = 0 : b > a && (b = a);
            return b;
        },
        calcHandlePercent: function() {
            this.coords.w_handle = "single" === this.options.type ? this.$cache.s_single.outerWidth(!1) : this.$cache.s_from.outerWidth(!1);
            this.coords.p_handle = this.toFixed(this.coords.w_handle / this.coords.w_rs * 100);
        },
        chooseHandle: function(a) {
            return "single" === this.options.type ? "single" : a >= this.coords.p_from_real + (this.coords.p_to_real - this.coords.p_from_real) / 2 ? this.options.to_fixed ? "from" : "to" : this.options.from_fixed ? "to" : "from";
        },
        calcMinMax: function() {
            this.coords.w_rs && (this.labels.p_min = this.labels.w_min / this.coords.w_rs * 100, this.labels.p_max = this.labels.w_max / this.coords.w_rs * 100);
        },
        calcLabels: function() {
            this.coords.w_rs && !this.options.hide_from_to && ("single" === this.options.type ? (this.labels.w_single = this.$cache.single.outerWidth(!1), this.labels.p_single_fake = this.labels.w_single / this.coords.w_rs * 100, this.labels.p_single_left = this.coords.p_single_fake + this.coords.p_handle / 2 - this.labels.p_single_fake / 2) : (this.labels.w_from = this.$cache.from.outerWidth(!1), this.labels.p_from_fake = this.labels.w_from / this.coords.w_rs * 100, this.labels.p_from_left = this.coords.p_from_fake + this.coords.p_handle / 2 - this.labels.p_from_fake / 2, this.labels.p_from_left = this.toFixed(this.labels.p_from_left), this.labels.p_from_left = this.checkEdges(this.labels.p_from_left, this.labels.p_from_fake), this.labels.w_to = this.$cache.to.outerWidth(!1), this.labels.p_to_fake = this.labels.w_to / this.coords.w_rs * 100, this.labels.p_to_left = this.coords.p_to_fake + this.coords.p_handle / 2 - this.labels.p_to_fake / 2, this.labels.p_to_left = this.toFixed(this.labels.p_to_left), this.labels.p_to_left = this.checkEdges(this.labels.p_to_left, this.labels.p_to_fake), this.labels.w_single = this.$cache.single.outerWidth(!1), this.labels.p_single_fake = this.labels.w_single / this.coords.w_rs * 100, this.labels.p_single_left = (this.labels.p_from_left + this.labels.p_to_left + this.labels.p_to_fake) / 2 - this.labels.p_single_fake / 2, this.labels.p_single_left = this.toFixed(this.labels.p_single_left)), this.labels.p_single_left = this.checkEdges(this.labels.p_single_left, this.labels.p_single_fake));
        },
        updateScene: function() {
            this.raf_id && (cancelAnimationFrame(this.raf_id), this.raf_id = null);
            clearTimeout(this.update_tm);
            this.update_tm = null;
            this.options && (this.drawHandles(), this.is_active ? this.raf_id = requestAnimationFrame(this.updateScene.bind(this)) : this.update_tm = setTimeout(this.updateScene.bind(this), 300));
        },
        drawHandles: function() {
            this.coords.w_rs = this.$cache.rs.outerWidth(!1);
            if (this.coords.w_rs) {
                this.coords.w_rs !== this.coords.w_rs_old && (this.target = "base", this.is_resize = !0);
                if (this.coords.w_rs !== this.coords.w_rs_old || this.force_redraw) this.setMinMax(), this.calc(!0), this.drawLabels(), this.options.grid && (this.calcGridMargin(), this.calcGridLabels()), this.force_redraw = !0, this.coords.w_rs_old = this.coords.w_rs, this.drawShadow();
                if (this.coords.w_rs && (this.dragging || this.force_redraw || this.is_key)) {
                    if (this.old_from !== this.result.from || this.old_to !== this.result.to || this.force_redraw || this.is_key) {
                        this.drawLabels();
                        this.$cache.bar[0].style.left = this.coords.p_bar_x + "%";
                        this.$cache.bar[0].style.width = this.coords.p_bar_w + "%";
                        if ("single" === this.options.type) this.$cache.s_single[0].style.left = this.coords.p_single_fake + "%";
                        else {
                            this.$cache.s_from[0].style.left = this.coords.p_from_fake + "%";
                            this.$cache.s_to[0].style.left = this.coords.p_to_fake + "%";
                            if (this.old_from !== this.result.from || this.force_redraw) this.$cache.from[0].style.left = this.labels.p_from_left + "%";
                            if (this.old_to !== this.result.to || this.force_redraw) this.$cache.to[0].style.left = this.labels.p_to_left + "%";
                        }
                        this.$cache.single[0].style.left = this.labels.p_single_left + "%";
                        this.writeToInput();
                        this.old_from === this.result.from && this.old_to === this.result.to || this.is_start || (this.$cache.input.trigger("change"), this.$cache.input.trigger("input"));
                        this.old_from = this.result.from;
                        this.old_to = this.result.to;
                        this.is_resize || this.is_update || this.is_start || this.is_finish || this.callOnChange();
                        if (this.is_key || this.is_click) this.is_click = this.is_key = !1, this.callOnFinish();
                        this.is_finish = this.is_resize = this.is_update = !1;
                    }
                    this.force_redraw = this.is_click = this.is_key = this.is_start = !1;
                }
            }
        },
        drawLabels: function() {
            if (this.options) {
                var a = this.options.values.length,
                    b = this.options.p_values;
                if (!this.options.hide_from_to)
                    if ("single" === this.options.type) {
                        if (a) a = this.decorate(b[this.result.from]);
                        else {
                            var d = this._prettify(this.result.from);
                            a = this.decorate(d, this.result.from);
                        }
                        this.$cache.single.html(a);
                        this.calcLabels();
                        this.$cache.min[0].style.visibility = this.labels.p_single_left < this.labels.p_min + 1 ? "hidden" : "visible";
                        this.$cache.max[0].style.visibility = this.labels.p_single_left + this.labels.p_single_fake > 100 - this.labels.p_max - 1 ? "hidden" : "visible";
                    } else {
                        a ? (this.options.decorate_both ? (a = this.decorate(b[this.result.from]), a += this.options.values_separator, a += this.decorate(b[this.result.to])) : a = this.decorate(b[this.result.from] + this.options.values_separator + b[this.result.to]), d = this.decorate(b[this.result.from]), b = this.decorate(b[this.result.to])) : (d = this._prettify(this.result.from), b = this._prettify(this.result.to), this.options.decorate_both ? (a = this.decorate(d, this.result.from), a += this.options.values_separator, a += this.decorate(b, this.result.to)) : a = this.decorate(d + this.options.values_separator + b, this.result.to), d = this.decorate(d, this.result.from), b = this.decorate(b, this.result.to));
                        this.$cache.single.html(a);
                        this.$cache.from.html(d);
                        this.$cache.to.html(b);
                        this.calcLabels();
                        a = Math.min(this.labels.p_single_left, this.labels.p_from_left);
                        d = this.labels.p_single_left + this.labels.p_single_fake;
                        var b = this.labels.p_to_left + this.labels.p_to_fake,
                            c = Math.max(d, b);
                        this.labels.p_from_left + this.labels.p_from_fake >= this.labels.p_to_left ? (this.$cache.from[0].style.visibility = "hidden", this.$cache.to[0].style.visibility = "hidden", this.$cache.single[0].style.visibility = "visible", this.result.from === this.result.to ? ("from" === this.target ? this.$cache.from[0].style.visibility = "visible" : "to" === this.target ? this.$cache.to[0].style.visibility = "visible" : this.target || (this.$cache.from[0].style.visibility = "visible"), this.$cache.single[0].style.visibility = "hidden", c = b) : (this.$cache.from[0].style.visibility = "hidden", this.$cache.to[0].style.visibility = "hidden", this.$cache.single[0].style.visibility = "visible", c = Math.max(d, b))) : (this.$cache.from[0].style.visibility = "visible", this.$cache.to[0].style.visibility = "visible", this.$cache.single[0].style.visibility = "hidden");
                        this.$cache.min[0].style.visibility = a < this.labels.p_min + 1 ? "hidden" : "visible";
                        this.$cache.max[0].style.visibility = c > 100 - this.labels.p_max - 1 ? "hidden" : "visible";
                    }
            }
        },
        drawShadow: function() {
            var a = this.options,
                b = this.$cache,
                d = "number" === typeof a.from_min && !isNaN(a.from_min),
                c = "number" === typeof a.from_max && !isNaN(a.from_max),
                e = "number" === typeof a.to_min && !isNaN(a.to_min),
                g = "number" === typeof a.to_max && !isNaN(a.to_max);
            "single" === a.type ? a.from_shadow && (d || c) ? (d = this.convertToPercent(d ? a.from_min : a.min), c = this.convertToPercent(c ? a.from_max : a.max) - d, d = this.toFixed(d - this.coords.p_handle / 100 * d), c = this.toFixed(c - this.coords.p_handle / 100 * c), d += this.coords.p_handle / 2, b.shad_single[0].style.display = "block", b.shad_single[0].style.left = d + "%", b.shad_single[0].style.width = c + "%") : b.shad_single[0].style.display = "none" : (a.from_shadow && (d || c) ? (d = this.convertToPercent(d ? a.from_min : a.min), c = this.convertToPercent(c ? a.from_max : a.max) - d, d = this.toFixed(d - this.coords.p_handle / 100 * d), c = this.toFixed(c - this.coords.p_handle / 100 * c), d += this.coords.p_handle / 2, b.shad_from[0].style.display = "block", b.shad_from[0].style.left = d + "%", b.shad_from[0].style.width = c + "%") : b.shad_from[0].style.display = "none", a.to_shadow && (e || g) ? (e = this.convertToPercent(e ? a.to_min : a.min), a = this.convertToPercent(g ? a.to_max : a.max) - e, e = this.toFixed(e - this.coords.p_handle / 100 * e), a = this.toFixed(a - this.coords.p_handle / 100 * a), e += this.coords.p_handle / 2, b.shad_to[0].style.display = "block", b.shad_to[0].style.left = e + "%", b.shad_to[0].style.width = a + "%") : b.shad_to[0].style.display = "none");
        },
        writeToInput: function() {
            "single" === this.options.type ? (this.options.values.length ? this.$cache.input.prop("value", this.result.from_value) : this.$cache.input.prop("value", this.result.from), this.$cache.input.data("from", this.result.from)) : (this.options.values.length ? this.$cache.input.prop("value", this.result.from_value + this.options.input_values_separator + this.result.to_value) : this.$cache.input.prop("value", this.result.from + this.options.input_values_separator + this.result.to), this.$cache.input.data("from", this.result.from), this.$cache.input.data("to", this.result.to));
        },
        callOnStart: function() {
            this.writeToInput();
            if (this.options.onStart && "function" === typeof this.options.onStart)
                if (this.options.scope) this.options.onStart.call(this.options.scope, this.result);
                else this.options.onStart(this.result);
        },
        callOnChange: function() {
            this.writeToInput();
            if (this.options.onChange && "function" === typeof this.options.onChange)
                if (this.options.scope) this.options.onChange.call(this.options.scope, this.result);
                else this.options.onChange(this.result);
        },
        callOnFinish: function() {
            this.writeToInput();
            if (this.options.onFinish && "function" === typeof this.options.onFinish)
                if (this.options.scope) this.options.onFinish.call(this.options.scope, this.result);
                else this.options.onFinish(this.result);
        },
        callOnUpdate: function() {
            this.writeToInput();
            if (this.options.onUpdate && "function" === typeof this.options.onUpdate)
                if (this.options.scope) this.options.onUpdate.call(this.options.scope, this.result);
                else this.options.onUpdate(this.result);
        },
        toggleInput: function() {
            this.$cache.input.toggleClass("irs-hidden-input");
            this.has_tab_index ? this.$cache.input.prop("tabindex", -1) : this.$cache.input.removeProp("tabindex");
            this.has_tab_index = !this.has_tab_index;
        },
        convertToPercent: function(a, b) {
            var d = this.options.max - this.options.min;
            return d ? this.toFixed((b ? a : a - this.options.min) / (d / 100)) : (this.no_diapason = !0, 0);
        },
        convertToValue: function(a) {
            var b = this.options.min,
                d = this.options.max,
                c = b.toString().split(".")[1],
                e = d.toString().split(".")[1],
                g, l, f = 0,
                h = 0;
            if (0 === a) return this.options.min;
            if (100 === a) return this.options.max;
            c && (f = g = c.length);
            e && (f = l = e.length);
            g && l && (f = g >= l ? g : l);
            0 > b && (h = Math.abs(b), b = +(b + h).toFixed(f), d = +(d + h).toFixed(f));
            a = (d - b) / 100 * a + b;
            (b = this.options.step.toString().split(".")[1]) ? a = +a.toFixed(b.length): (a /= this.options.step, a *= this.options.step, a = +a.toFixed(0));
            h && (a -= h);
            h = b ? +a.toFixed(b.length) : this.toFixed(a);
            h < this.options.min ? h = this.options.min : h > this.options.max && (h = this.options.max);
            return h;
        },
        calcWithStep: function(a) {
            var b = Math.round(a / this.coords.p_step) * this.coords.p_step;
            100 < b && (b = 100);
            100 === a && (b = 100);
            return this.toFixed(b);
        },
        checkMinInterval: function(a, b, d) {
            var c = this.options;
            if (!c.min_interval) return a;
            a = this.convertToValue(a);
            b = this.convertToValue(b);
            "from" === d ? b - a < c.min_interval && (a = b - c.min_interval) : a - b < c.min_interval && (a = b + c.min_interval);
            return this.convertToPercent(a);
        },
        checkMaxInterval: function(a, b, d) {
            var c = this.options;
            if (!c.max_interval) return a;
            a = this.convertToValue(a);
            b = this.convertToValue(b);
            "from" === d ? b - a > c.max_interval && (a = b - c.max_interval) : a - b > c.max_interval && (a = b + c.max_interval);
            return this.convertToPercent(a);
        },
        checkDiapason: function(a, b, d) {
            a = this.convertToValue(a);
            var c = this.options;
            "number" !== typeof b && (b = c.min);
            "number" !== typeof d && (d = c.max);
            a < b && (a = b);
            a > d && (a = d);
            return this.convertToPercent(a);
        },
        toFixed: function(a) {
            a = a.toFixed(20);
            return +a;
        },
        _prettify: function(a) {
            return this.options.prettify_enabled ? this.options.prettify && "function" === typeof this.options.prettify ? this.options.prettify(a) : this.prettify(a) : a;
        },
        prettify: function(a) {
            return a.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g, "$1" + this.options.prettify_separator);
        },
        checkEdges: function(a, b) {
            if (!this.options.force_edges) return this.toFixed(a);
            0 > a ? a = 0 : a > 100 - b && (a = 100 - b);
            return this.toFixed(a);
        },
        validate: function() {
            var a = this.options,
                b = this.result,
                d = a.values,
                c = d.length,
                e;
            "string" === typeof a.min && (a.min = +a.min);
            "string" === typeof a.max && (a.max = +a.max);
            "string" === typeof a.from && (a.from = +a.from);
            "string" === typeof a.to && (a.to = +a.to);
            "string" === typeof a.step && (a.step = +a.step);
            "string" === typeof a.from_min && (a.from_min = +a.from_min);
            "string" === typeof a.from_max && (a.from_max = +a.from_max);
            "string" === typeof a.to_min && (a.to_min = +a.to_min);
            "string" === typeof a.to_max && (a.to_max = +a.to_max);
            "string" === typeof a.grid_num && (a.grid_num = +a.grid_num);
            a.max < a.min && (a.max = a.min);
            if (c)
                for (a.p_values = [], a.min = 0, a.max = c - 1, a.step = 1, a.grid_num = a.max, a.grid_snap = !0, e = 0; e < c; e++) {
                    var g = +d[e];
                    isNaN(g) ? g = d[e] : (d[e] = g, g = this._prettify(g));
                    a.p_values.push(g);
                }
            if ("number" !== typeof a.from || isNaN(a.from)) a.from = a.min;
            if ("number" !== typeof a.to || isNaN(a.to)) a.to = a.max;
            "single" === a.type ? (a.from < a.min && (a.from = a.min), a.from > a.max && (a.from = a.max)) : (a.from < a.min && (a.from = a.min), a.from > a.max && (a.from = a.max), a.to < a.min && (a.to = a.min), a.to > a.max && (a.to = a.max), this.update_check.from && (this.update_check.from !== a.from && a.from > a.to && (a.from = a.to), this.update_check.to !== a.to && a.to < a.from && (a.to = a.from)), a.from > a.to && (a.from = a.to), a.to < a.from && (a.to = a.from));
            if ("number" !== typeof a.step || isNaN(a.step) || !a.step || 0 > a.step) a.step = 1;
            "number" === typeof a.from_min && a.from < a.from_min && (a.from = a.from_min);
            "number" === typeof a.from_max && a.from > a.from_max && (a.from = a.from_max);
            "number" === typeof a.to_min && a.to < a.to_min && (a.to = a.to_min);
            "number" === typeof a.to_max && a.from > a.to_max && (a.to = a.to_max);
            if (b) {
                b.min !== a.min && (b.min = a.min);
                b.max !== a.max && (b.max = a.max);
                if (b.from < b.min || b.from > b.max) b.from = a.from;
                if (b.to < b.min || b.to > b.max) b.to = a.to;
            }
            if ("number" !== typeof a.min_interval || isNaN(a.min_interval) || !a.min_interval || 0 > a.min_interval) a.min_interval = 0;
            if ("number" !== typeof a.max_interval || isNaN(a.max_interval) || !a.max_interval || 0 > a.max_interval) a.max_interval = 0;
            a.min_interval && a.min_interval > a.max - a.min && (a.min_interval = a.max - a.min);
            a.max_interval && a.max_interval > a.max - a.min && (a.max_interval = a.max - a.min);
        },
        decorate: function(a, b) {
            var d = "",
                c = this.options;
            c.prefix && (d += c.prefix);
            d += a;
            c.max_postfix && (c.values.length && a === c.p_values[c.max] ? (d += c.max_postfix, c.postfix && (d += " ")) : b === c.max && (d += c.max_postfix, c.postfix && (d += " ")));
            c.postfix && (d += c.postfix);
            return d;
        },
        updateFrom: function() {
            this.result.from = this.options.from;
            this.result.from_percent = this.convertToPercent(this.result.from);
            this.result.from_pretty = this._prettify(this.result.from);
            this.options.values && (this.result.from_value = this.options.values[this.result.from]);
        },
        updateTo: function() {
            this.result.to = this.options.to;
            this.result.to_percent = this.convertToPercent(this.result.to);
            this.result.to_pretty = this._prettify(this.result.to);
            this.options.values && (this.result.to_value = this.options.values[this.result.to]);
        },
        updateResult: function() {
            this.result.min = this.options.min;
            this.result.max = this.options.max;
            this.updateFrom();
            this.updateTo();
        },
        appendGrid: function() {
            if (this.options.grid) {
                var a = this.options,
                    b;
                var d = a.max - a.min;
                var c = a.grid_num,
                    e = 4,
                    g = "";
                this.calcGridMargin();
                if (a.grid_snap) {
                    if (50 < d) {
                        c = 50 / a.step;
                        var f = this.toFixed(a.step / .5);
                    } else c = d / a.step, f = this.toFixed(a.step / (d / 100));
                } else f = this.toFixed(100 / c);
                4 < c && (e = 3);
                7 < c && (e = 2);
                14 < c && (e = 1);
                28 < c && (e = 0);
                for (d = 0; d < c + 1; d++) {
                    var k = e;
                    var h = this.toFixed(f * d);
                    100 < h && (h = 100);
                    this.coords.big[d] = h;
                    var m = (h - f * (d - 1)) / (k + 1);
                    for (b = 1; b <= k && 0 !== h; b++) {
                        var n = this.toFixed(h - m * b);
                        g += '<span class="irs-grid-pol small" style="left: ' + n + '%"></span>';
                    }
                    g += '<span class="irs-grid-pol" style="left: ' + h + '%"></span>';
                    b = this.convertToValue(h);
                    b = a.values.length ? a.p_values[b] : this._prettify(b);
                    g += '<span class="irs-grid-text js-grid-text-' + d + '" style="left: ' + h + '%">' + b + "</span>";
                }
                this.coords.big_num = Math.ceil(c + 1);
                this.$cache.cont.addClass("irs-with-grid");
                this.$cache.grid.html(g);
                this.cacheGridLabels();
            }
        },
        cacheGridLabels: function() {
            var a, b = this.coords.big_num;
            for (a = 0; a < b; a++) {
                var d = this.$cache.grid.find(".js-grid-text-" + a);
                this.$cache.grid_labels.push(d);
            }
            this.calcGridLabels();
        },
        calcGridLabels: function() {
            var a;
            var b = [];
            var d = [],
                c = this.coords.big_num;
            for (a = 0; a < c; a++) this.coords.big_w[a] = this.$cache.grid_labels[a].outerWidth(!1), this.coords.big_p[a] = this.toFixed(this.coords.big_w[a] / this.coords.w_rs * 100), this.coords.big_x[a] = this.toFixed(this.coords.big_p[a] / 2), b[a] = this.toFixed(this.coords.big[a] - this.coords.big_x[a]), d[a] = this.toFixed(b[a] + this.coords.big_p[a]);
            this.options.force_edges && (b[0] < -this.coords.grid_gap && (b[0] = -this.coords.grid_gap, d[0] = this.toFixed(b[0] + this.coords.big_p[0]), this.coords.big_x[0] = this.coords.grid_gap), d[c - 1] > 100 + this.coords.grid_gap && (d[c - 1] = 100 + this.coords.grid_gap, b[c - 1] = this.toFixed(d[c - 1] - this.coords.big_p[c - 1]), this.coords.big_x[c - 1] = this.toFixed(this.coords.big_p[c - 1] - this.coords.grid_gap)));
            this.calcGridCollision(2, b, d);
            this.calcGridCollision(4, b, d);
            for (a = 0; a < c; a++) b = this.$cache.grid_labels[a][0], this.coords.big_x[a] !== Number.POSITIVE_INFINITY && (b.style.marginLeft = -this.coords.big_x[a] + "%");
        },
        calcGridCollision: function(a, b, d) {
            var c, e = this.coords.big_num;
            for (c = 0; c < e; c += a) {
                var g = c + a / 2;
                if (g >= e) break;
                var f = this.$cache.grid_labels[g][0];
                f.style.visibility = d[c] <= b[g] ? "visible" : "hidden";
            }
        },
        calcGridMargin: function() {
            this.options.grid_margin && (this.coords.w_rs = this.$cache.rs.outerWidth(!1), this.coords.w_rs && (this.coords.w_handle = "single" === this.options.type ? this.$cache.s_single.outerWidth(!1) : this.$cache.s_from.outerWidth(!1), this.coords.p_handle = this.toFixed(this.coords.w_handle / this.coords.w_rs * 100), this.coords.grid_gap = this.toFixed(this.coords.p_handle / 2 - .1), this.$cache.grid[0].style.width = this.toFixed(100 - this.coords.p_handle) + "%", this.$cache.grid[0].style.left = this.coords.grid_gap + "%"));
        },
        update: function(a) {
            this.input && (this.is_update = !0, this.options.from = this.result.from, this.options.to = this.result.to, this.update_check.from = this.result.from, this.update_check.to = this.result.to, this.options = f.extend(this.options, a), this.validate(), this.updateResult(a), this.toggleInput(), this.remove(), this.init(!0));
        },
        reset: function() {
            this.input && (this.updateResult(), this.update());
        },
        destroy: function() {
            this.input && (this.toggleInput(), this.$cache.input.prop("readonly", !1), f.data(this.input, "ionRangeSlider", null), this.remove(), this.options = this.input = null);
        }
    };
    f.fn.ionRangeSlider = function(a) {
        return this.each(function() {
            f.data(this, "ionRangeSlider") || f.data(this, "ionRangeSlider", new q(this, a, t++));
        });
    };
    (function() {
        for (var a = 0, b = ["ms", "moz", "webkit", "o"], d = 0; d < b.length && !k.requestAnimationFrame; ++d) k.requestAnimationFrame = k[b[d] + "RequestAnimationFrame"], k.cancelAnimationFrame = k[b[d] + "CancelAnimationFrame"] || k[b[d] + "CancelRequestAnimationFrame"];
        k.requestAnimationFrame || (k.requestAnimationFrame = function(b, d) {
            var c = new Date().getTime(),
                e = Math.max(0, 16 - (c - a)),
                f = k.setTimeout(function() {
                    b(c + e);
                }, e);
            a = c + e;
            return f;
        });
        k.cancelAnimationFrame || (k.cancelAnimationFrame = function(a) {
            clearTimeout(a);
        });
    })();
});
$.fn.paginate = function(options) {
    options = jQuery.extend({
        size: 10
    }, options, $(this).data());
    $(this).each(function() {
        let $that = $(this);
        if ($that.data('paginate')) {
            return false;
        }
        $that.data('paginate', true);
        let req_num_row = options.size;
        let $div = jQuery('.body .row', $that);
        let total_num_row = $div.length;
        let num_pages = 0;
        if (total_num_row % req_num_row === 0) {
            num_pages = total_num_row / req_num_row;
        }
        if (total_num_row % req_num_row >= 1) {
            num_pages = total_num_row / req_num_row;
            num_pages++;
            num_pages = Math.floor(num_pages++);
        }
        if (num_pages > 1) {
            for (let i = 1; i <= Math.min(10, num_pages); i++) {
                $('.pagination', $that.parent()).append('<a href="#' + i + '" class="btn">' + i + '</a>');
            }
            /*if(num_pages>10) {
            				$('.pagination', $that.parent()).append('... <a href="#' + num_pages + '" class="btn">' + num_pages + '</a>');
            			}*/
            jQuery('.pagination a', $that.parent()).click(function(e) {
                jQuery('.pagination a', $that.parent()).removeClass('active');
                $(this).addClass('active');
                e.preventDefault();
                $div.hide();
                let page = jQuery(this).text();
                let temp = page - 1;
                let start = temp * req_num_row;
                for (let i = 0; i < req_num_row; i++) {
                    $div.eq(start + i).show();
                }
            }).eq(0).trigger('click');
        } else {
            $div.show();
        }
    });
};
/*! jquery.finger - v0.1.2 - 2014-10-01
 * https://github.com/ngryman/jquery.finger
 * Copyright (c) 2014 Nicolas Gryman; Licensed MIT */
(function(e, t) {
    function a(t) {
        t.preventDefault(), e.event.remove(T, "click", a);
    }

    function n(e, t) {
        return (p ? t.originalEvent.touches[0] : t)["page" + e.toUpperCase()];
    }

    function r(t, n, r) {
        var o = e.Event(n, b);
        e.event.trigger(o, {
            originalEvent: t
        }, t.target), o.isDefaultPrevented() && (~n.indexOf("tap") && !p ? e.event.add(T, "click", a) : t.preventDefault()), r && (e.event.remove(T, y + "." + D, i), e.event.remove(T, x + "." + D, d));
    }

    function o(t) {
        var o = t.timeStamp || +new Date();
        v != o && (v = o, k.x = b.x = n("x", t), k.y = b.y = n("y", t), k.time = o, k.target = t.target, b.orientation = null, b.end = !1, u = !1, l = !1, c = setTimeout(function() {
            l = !0, r(t, "press");
        }, e.Finger.pressDuration), e.event.add(T, y + "." + D, i), e.event.add(T, x + "." + D, d), w.preventDefault && (t.preventDefault(), e.event.add(T, "click", a)));
    }

    function i(t) {
        if (b.x = n("x", t), b.y = n("y", t), b.dx = b.x - k.x, b.dy = b.y - k.y, b.adx = Math.abs(b.dx), b.ady = Math.abs(b.dy), u = b.adx > w.motionThreshold || b.ady > w.motionThreshold) {
            for (clearTimeout(c), b.orientation || (b.adx > b.ady ? (b.orientation = "horizontal", b.direction = b.dx > 0 ? 1 : -1) : (b.orientation = "vertical", b.direction = b.dy > 0 ? 1 : -1)); t.target && t.target !== k.target;) t.target = t.target.parentNode;
            return t.target !== k.target ? (t.target = k.target, d.call(this, e.Event(x + "." + D, t)), void 0) : (r(t, "drag"), void 0);
        }
    }

    function d(e) {
        var t, a = e.timeStamp || +new Date(),
            n = a - k.time;
        if (clearTimeout(c), u || l || e.target !== k.target) e.target = k.target, w.flickDuration > n && r(e, "flick"), b.end = !0, t = "drag";
        else {
            var o = g === e.target && w.doubleTapInterval > a - s;
            t = o ? "doubletap" : "tap", g = o ? null : k.target, s = a;
        }
        r(e, t, !0);
    }
    var u, l, v, c, g, s, m = /chrome/i.exec(t),
        f = /android/i.exec(t),
        p = "ontouchstart" in window && !(m && !f),
        h = p ? "touchstart" : "mousedown",
        x = p ? "touchend touchcancel" : "mouseup mouseleave",
        y = p ? "touchmove" : "mousemove",
        D = "finger",
        T = e("html")[0],
        k = {},
        b = {},
        w = e.Finger = {
            pressDuration: 300,
            doubleTapInterval: 300,
            flickDuration: 150,
            motionThreshold: 5
        };
    e.event.add(T, h + "." + D, o);
})(jQuery, navigator.userAgent);
let locales = {};
locales['en'] = {};
locales['pl'] = {
    'Collect %d coins': 'Zbierz %d etonw',
    'Waiting for next game': 'Czekamy na kolejn gr',
    'Connecting': 'czenie',
    'Preparing game': 'Start za',
    'Crashed at': 'Krach na',
    'Crashed': 'Krach',
    'Place bet': 'Obstawiaj',
    'hide': 'ukryj',
    'show': 'poka',
    'Wrong amount': 'Niepoprawna kwota',
    'Rolling in': 'Losowanie za',
    'Drawing': 'Losowanie',
    'Winner': 'Wylosowany',
    'black': 'czarny',
    'red': 'czerwony',
    'green': 'zielony',
    'Minimum bet amount is %d': 'Minimalny zakad: %d',
    'Maximum bet amount is %d': 'Maksymalny zakad: %d',
    'Busted': 'Przegrana',
    'You won': 'Wygrae',
    'You lost': 'Przegrae',
    'Push!': '',
    'Congratulations! You won %s': 'Gratulacje! Wygrae %s',
    'You lost :(': 'Przegrae :(',
    'Yeah! You just earned %d': 'Yeah! Wanie zarobie %d',
    ' coins!': ' monet',
    'Drawing!': 'Losowanie!',
    'on': 'on',
    'off': 'off',
    'Game is not running!': 'Gra nie dziaa!',
    'Click at least on 1 field!': 'Wybierz przynajmniej jedno pole!',
    'Game is running!': 'Gra jest uruchomiona!',
    'Select number of bombs': 'Wybierz liczb bomb',
    'First start the game...': 'Najpierw rozpocznij gr...',
    'Round data is valid': 'Dane rundy s prawidowe',
    'Round data is not valid': 'Dane rundy s nieprawidowe',
    'Server connection terminated..': 'Poczenie z serwerem zostao przerwane',
    'Server connection terminated... Reconnecting in ': 'Poczenie zostao przerwane... Ponowne poczenie za ',
    'Cannot connect to server. Try again later!': 'Nie mona poczy z serwerem sprbuj ponownie pniej',
    'Level UP! New level: %d': 'Uzyskae kolejny level! Nowy level to: %d',
    ' seconds.': ' sekund.',
    'Sign in to bet': 'Zaloguj si, aby postawi zakad',
    'Minimum bet is 10': 'Minimalny zakad wynosi 10',
    'Bet placed.': 'Zakad zoony.',
    'Game not found. Probably closed already.': 'Gra nie zsotaa znaleziona. Prawdopodobnie jest ju zamknita'
};
locales['se'] = {
    'Collect %d coins': 'Hmta %d mynt',
    'Waiting for next game': 'Vntar p nsta runda',
    'Connecting': 'Ansluter',
    'Preparing game': 'Frbereder spel',
    'Crashed at': 'Kraschade p',
    'Crashed': 'Kraschade',
    'Place bet': 'Placera insats',
    'hide': 'Dlj',
    'show': 'Visa',
    'Wrong amount': 'Felaktigt belopp',
    'Rolling in': 'Rullar om',
    'Drawing': 'Dragning',
    'Winner': 'Vinnare',
    'black': 'Svart',
    'red': 'Rd',
    'green': 'Grn',
    'Minimum bet amount is %d': 'Minsta insatsen r %d',
    'Maximum bet amount is %d': 'Hgsta insatsen r %d',
    'Busted': 'Tjock',
    'You won': 'Du vann',
    'You lost': 'Du frlorade',
    'Push!': 'Oavgjort',
    'Congratulations! You won %s': 'Grattis! Du vann %s',
    'You lost :(': 'Du frlorade :(',
    'Yeah! You just earned %d': 'Yeah! Du tjnade precis %d',
    ' coins!': ' mynt',
    'Drawing!': 'Dragning!',
    'on': 'P',
    'off': 'Av',
    'Game is not running!': 'Spelet r inte igng!',
    'Click at least on 1 field!': 'Klicka p minst 1 flt!',
    'Game is running!': 'Spelet r igng!',
    'Select number of bombs': 'Vlj antal bomber',
    'First start the game...': 'Pbrja frst spelet...',
    'Round data is valid': 'Omgngens data r giltig',
    'Round data is not valid': 'Omgngens data r ogiltig',
    'Server connection terminated..': 'Serverns anslutning r avslutad',
    'Server connection terminated... Reconnecting in %d': 'Serverns anslutning r avslutad... teransluter om %d, Serverns anslutning r avslutad... teransluter om %d',
    'Cannot connect to server. Try again later!': 'Kan inte ansluta till servern. Frsk igen senare!',
    'Level UP! New level: %d': 'Ny niv! Nsta niv: %d',
    ' seconds.': ' Sekunder',
    'Sign in to bet': 'Logga in fr att spela',
    'Minimum bet is 10': 'Minsta insatsen r 10'
};
locales['ru'] = {
    'Collect %d coins': ' %d ',
    'Waiting for next game': '  ',
    'Connecting': '',
    'Preparing game': ' ',
    'Crashed at': ' ',
    'Crashed': '',
    'Place bet': ' ',
    'hide': '',
    'show': '',
    'Wrong amount': '  ',
    'Rolling in': ' ',
    'Drawing': '',
    'Winner': '',
    'black': '',
    'red': '',
    'green': '',
    'Minimum bet amount is %d': ' : %d',
    'Maximum bet amount is %d': ' : %d',
    'Busted': '',
    'You won': ' ',
    'You lost': ' ',
    'Push!': '',
    'Congratulations! You won %s': '!   %s',
    'You lost :(': '  :(',
    'Yeah! You just earned %d': 'Yeah!     %d',
    ' coins': ' ',
    'Drawing!': '!',
    'on': '.',
    'off': '',
    'Game is not running!': '  !',
    'Click at least on 1 field!': '   !',
    'Game is running!': ' !',
    'Select number of bombs': '  ',
    'First start the game...': '  ...',
    'Round data is valid': ' ',
    'Round data is not valid': '  ',
    'Server connection terminated..': '   ',
    'Server connection terminated... Reconnecting in %d': '   ...   %d',
    'Cannot connect to server. Try again later!': '    ,  !',
    'Level UP! New level: %d': ' !  : %d',
    ' seconds.': ' .',
    'Sign in to bet': ',    ',
    'Minimum bet is 10': '  10'
};
locales['tr'] = {
    'Collect %d coins': 'Topla %d Coins',
    'Waiting for next game': 'Diger oyun iin bekleniyor',
    'Connecting': 'Balanyor',
    'Preparing game': 'Oyun Hazrlanyor',
    'Crashed at': 'Burda kt',
    'Crashed': 'kt',
    'Place bet': 'Bahis Yatr',
    'hide': 'Gizle',
    'show': 'Gster',
    'Wrong amount': 'Yanl Miktar ',
    'Rolling in': 'Dnme',
    'Drawing': 'Karstrlyor',
    'Winner': 'Kazanan',
    'black': 'Siyah',
    'red': 'Krmz',
    'green': 'Yeil',
    'Minimum bet amount is %d': 'En az Bahis miktar : %d',
    'Maximum bet amount is %d': 'En yksek Bahis miktar: %d',
    'Busted': 'Baskn',
    'You won': 'Kazandn',
    'You lost': 'Kaybettin',
    'Push!': 'Bas',
    'Congratulations! You won %d': 'Tebrikler! Sen Kazandn %d',
    'You lost :(': 'Sen Kaybettin  :(',
    'Yeah! You just earned %d': 'Yeah! Yeni Kazanyorsun %d',
    ' coins': ' para',
    'Drawing!': '!',
    'on': 'Ak.',
    'off': 'Kapal',
    'Game is not running!': 'Oyun lerlemiyor!',
    'Click at least on 1 field!': 'En az Bir alana Tkla!',
    'Game is running!': 'Oyun lerliyor!',
    'Select number of bombs': 'Bombann saysn Se',
    'First start the game...': 'nce Oyuna basla...',
    'Round data is valid': 'Karslasma Veri Geerlidir ',
    'Round data is not valid': 'Karslasma veri Geerli degildir',
    'Server connection terminated..': 'Sunucu balants sonlandrld',
    'Server connection terminated... Reconnecting in %d': 'Sunucu balants sonlandrld... Tekrar baglanlyor %d',
    'Cannot connect to server. Try again later!': 'Sunucuya Baglanlamyor,Daha sonra tekrar deneyin!',
    'Level UP! New level: %d': 'Seviye Atladn! Yeni Seviyen: %d',
    ' seconds.': ' Saniye.',
    'Sign in to bet': 'Bahise giri yap',
    'Minimum bet is 10': 'En ufak bet 10'
};
locales['de'] = {
    'Collect %d coins': 'Sammle %d Spielmarke',
    'Waiting for next game': 'Warten auf naechstes Spiel',
    'Connecting': 'Verbinden',
    'Preparing game': 'Start in',
    'Crashed at': 'Abgestuerzt auf',
    'Crashed': 'Abgestuerzt',
    'Place bet': 'Wette',
    'hide': 'Verstecke',
    'show': 'Zeige',
    'Wrong amount': 'Nicht korrekter Betrag',
    'Rolling in': 'Verlosung in',
    'Drawing': 'Verlosung',
    'Winner': 'Gewinner',
    'black': 'Schwarz',
    'red': 'Rot',
    'green': 'Gruen',
    'Minimum bet amount is %d': 'Minimaler Wettebetrag: %d',
    'Maximum bet amount is %d': 'Maximaler Wettebetrag: %d',
    'Busted': 'Geschnappt',
    'You won': 'Gewonnen',
    'You lost': 'Verloren',
    'Push!': 'Push',
    'Congratulations! You won %s': 'Gratulation! Sie haben gewonnen %s',
    'You lost :(': 'Verloren :(',
    'Yeah! You just earned %d': 'Yeah! Gerade haben Sie verdient %d',
    ' coins!': ' Coins',
    'Drawing!': 'Verlosung!',
    'on': 'on',
    'off': 'off',
    'Game is not running!': 'Spiel wirkt nicht!',
    'Click at least on 1 field!': 'Waehle mindestens ein Feld!',
    'Game is running!': 'Spiel ist im Gang!',
    'Select number of bombs': 'Waehle Bombenzahl',
    'First start the game...': 'Zuerst starte Spiel...',
    'Round data is valid': 'Rundedaten sind richtig',
    'Round data is not valid': 'Rundedaten sind nicht richtig',
    'Server connection terminated..': 'Verbindung mit Server wurde unterbrochen',
    'Server connection terminated... Reconnecting in ': 'Verbindung wurde unterbrochen... neue Verbindung in ',
    'Cannot connect to server. Try again later!': 'Man kann nicht mit Server verbinden. Versuchen Sie wieder spaeter!',
    'Level UP! New level: %d': 'Sie haben naechstes Level gewonnenl! Neue Level ist: %d',
    ' seconds.': ' Sekunden.',
    'Sign in to bet': 'Logge ein, um Wette abzuschliessen',
    'Minimum bet is 10': 'Minimale Wette ist 10',
    'Bet placed.': 'Wette abgeschlossen.'
};
locales['es'] = {
    'Collect %d coins': 'Recoger %d monedas',
    'Waiting for next game': 'Esperando por el siguiente juego',
    'Connecting': 'Conectando',
    'Preparing game': 'Preparando juego',
    'Crashed at': 'Termin en',
    'Crashed': 'Termin',
    'Place bet': 'Realizar apuesta',
    'hide': 'ocultar',
    'show': 'mostrar',
    'Wrong amount': 'Cantidad errnea',
    'Rolling in': 'Comenzando en',
    'Drawing': 'Sorteando',
    'Winner': 'Ganador',
    'black': 'negro',
    'red': 'rojo',
    'green': 'verde',
    'Minimum bet amount is %d': 'La apuesta mnima es: %d',
    'Maximum bet amount is %d': 'La apuesta mxima es: %d',
    'Busted': 'Przegrana',
    'You won': 'Ganaste',
    'You lost': 'Perdiste',
    'Push!': 'Empate!',
    'Congratulations! You won %s': 'Felicitaciones! Has ganado %s',
    'You lost :(': 'Perdiste :(',
    'Yeah! You just earned %d': 'Bien hecho! Acabas de ganar %d',
    ' coins!': ' monedas',
    'Drawing!': 'Sorteando!',
    'on': 'encendido',
    'off': 'apagado',
    'Game is not running!': 'El juego no ha empezado!',
    'Click at least on 1 field!': 'Has clic en 1 campo por lo menos!',
    'Game is running!': 'El juego ya ha empezado!',
    'Select number of bombs': 'Seleccionar el nmero de bombas',
    'First start the game...': 'Primero inicia el juego...',
    'Round data is valid': 'Los datos de la ronda son vlidos',
    'Round data is not valid': 'Los datos de la ronda son invlidos',
    'Server connection terminated..': 'Se ha terminado la conexin con el servidor..',
    'Server connection terminated... Reconnecting in %d': 'Se ha terminado la conexin con el servidor... Reconectando en %d',
    'Cannot connect to server. Try again later!': 'No se puede conectar al servidor. Intente ms tarde!',
    'Level UP! New level: %d': 'Has subido de nivel! Nivel actual: %d',
    ' seconds.': ' segundos.',
    'Sign in to bet': 'Inicia sesin para apostar',
    'Minimum bet is 10': 'La apuesta mnima es 10',
    'Bet placed.': 'Apuesta realizada.'
};
'use strict';
const applicationServerPublicKey = 'BJTGRYqinc7H2RfKqVLWRm1sWSCDJpbaVFsv5aV7j5jFIePJCgqHq1xkVZPYTZ6mZPehD11TZeIpxw1skd0HS5Q';
let swRegistration = null;
let isNotifier = false; // Subscribe the user
function subscribeUser() {
    const applicationServerKey = urlB64ToUint8Array(applicationServerPublicKey);
    swRegistration.pushManager.subscribe({
        userVisibleOnly: true,
        applicationServerKey: applicationServerKey
    });
} // Checks subscription
function isSubscribed() {
    swRegistration.pushManager.getSubscription().then(function(subscription) {
        if (subscription !== null) {
            isNotifier = true;
        }
    });
    return isNotifier;
} // Transfer function
function urlB64ToUint8Array(base64String) {
    const padding = '='.repeat((4 - base64String.length % 4) % 4);
    const base64 = (base64String + padding).replace(/\-/g, '+').replace(/_/g, '/');
    const rawData = window.atob(base64);
    const outputArray = new Uint8Array(rawData.length);
    for (let i = 0; i < rawData.length; ++i) {
        outputArray[i] = rawData.charCodeAt(i);
    }
    return outputArray;
} // Push notification
function pushNotificationByTag(notificationTag) {
    switch (notificationTag) {
        case 'coins': // swRegistration.sync.register('atse_coins');
            break;
        case 'giveaway':
            swRegistration.sync.register('atse_giveaway');
            break;
        case 'winner':
            swRegistration.sync.register('atse_winner');
            break;
    }
}

function pushNotification(title, description, uri, icon, closeDelay = 30000) {
    let notification = new Notification(title, {
        body: description,
        icon: icon,
        badge: uri
    });
    notification.onclick = function() {
        this.close();
        window.location.href = uri;
    };
    notification.onshow = function() {
        setTimeout(notification.close, closeDelay);
    };
} // Rest
if ($('#notificationForm').length) {
    e.preventDefault();
    let that = this;
    $(that).submit(function(e) {
        let data = that.serializeArray();
        if (data[0].value !== "" && data[1].value !== "" && data[2].value !== "") {
            service['socket'].send({
                cmd: "push",
                title: data[0].value,
                description: data[1].value,
                uri: data[2].value
            });
        }
    });
}
let giveawayNotifications = $('.btn-notification-check');
let checkNotificationButtons = function() {
    if ('Notification' in window) {
        if (Notification.permission === "granted") {
            giveawayNotifications.removeClass('error').addClass('done');
        } else {
            giveawayNotifications.addClass('error').removeClass('done');
        }
    }
    $('.btn-check-conditions').each(function() {
        let $parent = $(this).parents('.condition-container');
        if ($parent.find('.btn-condition').length === $parent.find('.btn-condition.done').length) {
            $(this).removeClass('disabled');
        } else {
            $(this).addClass('disabled');
        }
    });
};
if ('Notification' in window) {
    let registerServiceWorker = function() {
        if ('serviceWorker' in navigator && 'PushManager' in window && Notification.permission === "granted") {
            navigator.serviceWorker.register('/assets/service-worker.js').then(function(swReg) {
                swRegistration = swReg;
                if (!isSubscribed()) {
                    subscribeUser();
                }
            }).catch(function(error) {
                console.error('Service Worker Error', error);
            });
        }
    };
    registerServiceWorker();
    giveawayNotifications.click(function() {
        if (Notification.permission === "denied") {
            return $.notify('<a href="/notifications" style="text-decoration: none; color: #fa9300;">Notifications blocked. If you dont know how to enable them, just click on this notify!.</a>', 'error');
        }
        Notification.requestPermission().then(function(permission) {
            if (permission === "granted") {
                giveawayNotifications.addClass('done');
                registerServiceWorker();
            } else {
                giveawayNotifications.removeClass('done');
            }
            checkNotificationButtons();
        });
    });
    $('.btn-check-conditions').click(function() {
        checkNotificationButtons();
    });
} else {
    giveawayNotifications.remove();
}
checkNotificationButtons();
let locale = {};
if (Cookies.get('language')) {
    locale = $.extend(locales['en'], locales[Cookies.get('language')]);
} else {
    locale = locales['en'];
}

function T(string, data) {
    if (locale[string]) {
        return vsprintf(locale[string], data);
    }
    return vsprintf(string, data);
}
if ($('#tos-tpl').length > 0) {
    let popup = $.popup('<div class="content">' + tmpl('tos-tpl', {}) + '</div>');
    $('#tos .scrollbar').scrollbar();
    $('#tos .btn-accept').click(function() {
        Cookies.set('tos', 1, {
            expires: 365,
            path: '/'
        });
        popup.close();
        return false;
    });
}
$('.format_button').each(function() {
    let value = parseInt($(this).data('value')).formatCurrency();
    $(this).html('+' + value);
});
$('.btn-toggle-theme').click(function() {
    let theme_color = Cookies.get('theme_color');
    if (theme_color === 'white') {
        theme_color = 'dark';
    } else {
        theme_color = 'white';
    }
    user.theme_color = theme_color;
    Cookies.set('theme_color', theme_color);
    let path = '"/assets/www/white.css"';
    $('body').removeClass('dark white').addClass(theme_color);
    if (theme_color === 'white') {
        $('head').append('<link rel="stylesheet" href=' + path + 'class="theme">');
    } else {
        $('head .theme').remove();
    }
    return false;
});
user.theme_color = Cookies.get('theme_color') ? Cookies.get('theme_color') : 'dark';
let formatCountry = (el, container) => {
    if (!el.id) {
        return el.text;
    }
    if ($(container).hasClass('select2-selection__rendered')) {
        return $('<span><img src="/assets/www/img/flag/' + el.text + '.png" class="img-flag" /></span>');
    }
    return $('<span><img src="/assets/www/img/flag/' + el.text + '.png" class="img-flag" /> <span class="name">' + T(el.text) + '</span></span>');
};
$('select[name="language"]').change(function() {
    $(this).parent('form').submit();
}).select2({
    minimumResultsForSearch: Infinity,
    templateResult: formatCountry,
    templateSelection: formatCountry,
    theme: "atse"
});
$('select[name="language-old"]').change(function() {
    $(this).parent('form').submit();
});
$('.navigation a').click(function() {
    $('.navigation a').removeClass('selected');
    $(this).addClass('selected');
});

function toggle(fast, _toggleButton, container, storage) {
    if (typeof fast !== 'boolean') fast = false;
    if (parseInt(container.css('paddingLeft')) == 0) {
        if (fast) {
            container.css({
                paddingLeft: 350
            });
        } else {
            container.animate({
                paddingLeft: 350
            });
        }
        _toggleButton.addClass('leftArrow');
        localStorage.setItem(storage, "show");
    } else {
        if (fast) {
            container.css({
                paddingLeft: 0
            });
        } else {
            container.animate({
                paddingLeft: 0
            });
        }
        _toggleButton.removeClass('leftArrow');
        localStorage.setItem(storage, "hide");
    }
}
$('.toggle-crash').click(function() {
    toggle(false, $('.toggle-crash'), $('.crash'), "crash");
});
if (localStorage.getItem("crash") === "hide") {
    toggle(true, $('.toggle-crash'), $('.crash'), "crash");
}
$('.toggle-dice').click(function() {
    toggle(false, $('.toggle-dice'), $('.dice'), "dice");
});
if (localStorage.getItem("dice") === "hide") {
    toggle(true, $('.toggle-dice'), $('.dice'), "dice");
}
$('#leader-countdown').countdownClock();
(function() {
    /**
     * Decimal adjustment of a number.
     *
     * @param {String}  type  The type of adjustment.
     * @param {Number}  value The number.
     * @param {Integer} exp   The exponent (the 10 logarithm of the adjustment base).
     * @returns {Number} The adjusted value.
     */
    function decimalAdjust(type, value, exp) { // If the exp is undefined or zero...
        if (typeof exp === 'undefined' || +exp === 0) {
            return Math[type](value);
        }
        value = +value;
        exp = +exp; // If the value is not a number or the exp is not an integer...
        if (value === null || isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {
            return NaN;
        } // If the value is negative...
        if (value < 0) {
            return -decimalAdjust(type, -value, exp);
        } // Shift
        value = value.toString().split('e');
        value = Math[type](+(value[0] + 'e' + (value[1] ? +value[1] - exp : -exp))); // Shift back
        value = value.toString().split('e');
        return +(value[0] + 'e' + (value[1] ? +value[1] + exp : exp));
    } // Decimal round
    if (!Math.round10) {
        Math.round10 = function(value, exp) {
            return decimalAdjust('round', value, exp);
        };
    }
    $('.tooltipster').tooltipster();
})();
"use strict";
let service = {};
$('body').on('click', 'a[rel=external]', function() {
    $(this).attr('target', '_blank');
});
let sounds = {
    tap: new buzz.sound('/assets/www/sound/tap.mp3', {
        preload: true
    }),
    button: new buzz.sound('/assets/www/sound/button2.mp3', {
        preload: true
    }),
    card: new buzz.sound('/assets/www/sound/card_deal.mp3', {
        preload: true
    }),
    shuffle: new buzz.sound('/assets/www/sound/shuffle.mp3', {
        preload: true
    }),
    roulette: new buzz.sound('/assets/www/sound/roulette.mp3', {
        preload: true
    }),
    rouletteend: new buzz.sound('/assets/www/sound/rouletteend.mp3', {
        preload: true
    }),
    dice: new buzz.sound('/assets/www/sound/dice.mp3', {
        preload: true
    }),
    grenade: new buzz.sound('/assets/www/sound/grenade.mp3', {
        preload: true
    }),
    win: new buzz.sound('/assets/www/sound/win.mp3', {
        preload: true
    }),
    coin: new buzz.sound('/assets/www/sound/coin.mp3', {
        preload: true
    }),
    coinend: new buzz.sound('/assets/www/sound/coinend.mp3', {
        preload: true
    }),
    gunempty: new buzz.sound('/assets/www/sound/gun-empty.mp3', {
        preload: true
    }),
    gunshot: new buzz.sound('/assets/www/sound/gun-shot.mp3', {
        preload: true
    }),
    gunspin: new buzz.sound('/assets/www/sound/gun-spin.mp3', {
        preload: true
    })
};
$('.btn-info-box').click(function() {
    if ($(this).hasClass('disabled')) {
        return false;
    }
    let box = $(this).data('box');
    $('#sidebar .info-box').not(box).removeClass('active');
    $(box).toggleClass('active');
    return false;
});
$('body').on('click', function() {
    $('#sidebar .info-box').removeClass('active');
});
$('.btn-toggle-sound').click(function() {
    for (let i in sounds) {
        sounds[i].toggleMute();
    }
    localStorage.setItem('sound', sounds.tap.isMuted());
    if (sounds.tap.isMuted()) {
        $('.btn-toggle-sound span').text(T('off'));
    } else {
        $('.btn-toggle-sound span').text(T('on'));
    }
    return false;
});
if (localStorage.getItem('sound') === 'true') {
    for (let i in sounds) {
        sounds[i].mute();
    }
    $('.btn-toggle-sound span').text(T('off'));
} else {
    $('.btn-toggle-sound span').text(T('on'));
}
let nicescroll = {
    autohidemode: 'leave',
    cursorborderradius: 0,
    cursorcolor: '#4f4546',
    cursorborder: 0,
    background: '#0c090a',
    horizrailenabled: false
};
let bet_range = [0, 0];
let Steam = {
    profile(steam_id) {
        return 'https://steamcommunity.com/profiles/' + steam_id;
    },
    tradelink(offer_id) {
        if (offer_id) {
            return {
                browser: 'https://steamcommunity.com/tradeoffer/' + offer_id,
                steam: 'steam://url/ShowTradeOffer/' + offer_id
            };
        }
        return {
            browser: 'https://steamcommunity.com/id/me/tradeoffers/',
            steam: 'steam://url/ShowTradeOffers/'
        };
    }
};
$.notify.defaults({
    className: "success",
    globalPosition: 'bottom',
    autoHideDelay: 6000,
    elementPosition: 'left'
});
$('section.scrollbar').scrollbar();

function updateInputBalance() {
    if ($('.betting').length > 0) {
        let $input = $('input[name="amount"]', '.betting');
        $('.betting .options button').click(function() {
            if ($input.attr('disabled')) {
                return false;
            }
            sounds.tap.play();
            let data = $(this).data();
            let value = parseFloat($input.val());
            if (isNaN(value)) {
                value = 0;
            }
            if (data.action == 'clear') {
                $input.val('');
            } else if (data.action == 'min') {
                $input.val(bet_range[0]);
            } else if (data.action == 'max') {
                $input.val(Math.min(bet_range[1], user.balance));
            } else if (data.action == 'add') {
                let changer = data.value;
                if (user.currency == 'usd') {
                    changer = parseFloat(data.value / 1000);
                }
                $input.val((value + changer).toFixed(2));
            } else if (data.action == 'multiply') {
                let new_value = parseFloat((value * data.value).toFixed(4));
                if (user.currency == 'coins') {
                    new_value = parseInt(new_value);
                }
                $input.val(new_value);
            }
            $input.trigger('change');
            calculateNewBalance();
            return false;
        });
        let calculateNewBalance = function() {
            let value = parseFloat($input.val());
            if (user.currency === 'usd') {
                value = value * 1000;
            }
            let new_balance = user.balance - value;
            if (isNaN(new_balance) || value === 0) {
                new_balance = '';
            } else {
                new_balance = new_balance.formatCurrency();
            }
            $('.betting .new_balance').html(new_balance);
        };
        $('.betting input[name="amount"]').change(function() {
            if ($input.attr('disabled')) {
                return false;
            }
            let value = parseFloat($input.val());
            let balance = user.balance;
            if (user.currency === 'usd') {
                balance = parseFloat((balance / 1000).toFixed(4));
            }
            if (value > Math.min(bet_range[1], balance)) {
                value = Math.min(bet_range[1], balance);
            } else if (value < bet_range[0]) {
                value = bet_range[0];
            }
            if (isNaN(value)) {
                value = '';
            }
            $input.val(value);
            calculateNewBalance();
        }).keyup(function() {
            let value = parseFloat($input.val());
            let balance = user.balance;
            if (user.currency === 'usd') {
                balance = parseFloat((balance / 1000).toFixed(4));
            }
            if (value > balance) {
                $input.val(balance);
            }
            calculateNewBalance();
        });
        calculateNewBalance();
    }
}

function updateInputFakeBalance() {
    if ($('.betting').length > 0) {
        let $input = $('input[name="fakeamount"]', '.betting');
        $('.betting .options button').click(function() {
            if ($input.attr('disabled')) {
                return false;
            }
            sounds.tap.play();
            let data = $(this).data();
            let value = parseFloat($input.val());
            if (isNaN(value)) {
                value = 0;
            }
            if (data.action == 'clear') {
                $input.val('');
            } else if (data.action == 'min') {
                $input.val(bet_range[0]);
            } else if (data.action == 'max') {
                $input.val(Math.min(bet_range[1], user.fakebalance));
            } else if (data.action == 'add') {
                let changer = data.value;
                if (user.currency == 'usd') {
                    changer = parseFloat(data.value / 1000);
                }
                $input.val((value + changer).toFixed(2));
            } else if (data.action == 'multiply') {
                let new_value = parseFloat((value * data.value).toFixed(4));
                if (user.currency == 'coins') {
                    new_value = parseInt(new_value);
                }
                $input.val(new_value);
            }
            $input.trigger('change');
            calculateNewBalance();
            return false;
        });
        let calculateNewBalance = function() {
            let value = parseFloat($input.val());
            if (user.currency === 'usd') {
                value = value * 1000;
            }
            let new_balance = user.fakebalance - value;
            if (isNaN(new_balance) || value === 0) {
                new_balance = '';
            } else {
                new_balance = new_balance.formatCurrency();
            }
            $('.betting .new_balance').html(new_balance);
        };
        $('.betting input[name="fakeamount"]').change(function() {
            if ($input.attr('disabled')) {
                return false;
            }
            let value = parseFloat($input.val());
            let fakebalance = user.fakebalance;
            if (user.currency === 'usd') {
                fakebalance = parseFloat((fakebalance / 1000).toFixed(4));
            }
            if (value > Math.min(bet_range[1], fakebalance)) {
                value = Math.min(bet_range[1], fakebalance);
            } else if (value < bet_range[0]) {
                value = bet_range[0];
            }
            if (isNaN(value)) {
                value = '';
            }
            $input.val(value);
            calculateNewBalance();
        }).keyup(function() {
            let value = parseFloat($input.val());
            let fakebalance = user.fakebalance;
            if (user.currency === 'usd') {
                fakebalance = parseFloat((fakebalance / 1000).toFixed(4));
            }
            if (value > fakebalance) {
                $input.val(fakebalance);
            }
            calculateNewBalance();
        });
        calculateNewBalance();
    }
}
updateInputFakeBalance();
updateInputBalance();
let setBetRange = function(config) {
    bet_range[0] = config.betMin;
    bet_range[1] = config.betMax;
    if (user.currency === 'usd') {
        bet_range[0] = parseFloat((bet_range[0] / 1000).toFixed(4));
        bet_range[1] = parseFloat((bet_range[1] / 1000).toFixed(4));
    }
};
let currencyStepSign = function(now, tween) {
    let sign = '';
    if (now > 0) {
        sign = '+';
    }
    $(tween.elem).html(sign + now.formatCurrency()).prop('number', now);
};
let currencyStep = function(now, tween) {
    $(tween.elem).html(now.formatCurrency()).prop('number', now);
};
let numberStep = function(now, tween) {
    $(tween.elem).html(parseInt(now)).prop('number', now);
};

function setUserBalance() {
    $('.balance').html(user.balance.formatCurrency());
}

function setUserFakeBalance() {
    $('.fakebalance').html(user.fakebalance.formatCurrency());
}
if (user) {
    setUserBalance();
    setUserFakeBalance();
}
$('.tabs').each(function() {
    let $this = this;
    $('.tabs-buttons button', $this).click(function() { //sounds.tap.play();
        $('.tabs-buttons button', $this).removeClass('active');
        $(this).addClass('active');
        let index = $('.tabs-buttons button', $this).index(this);
        $('.tab', $this).hide().eq(index).show();
        return false;
    }).eq(0).trigger('click');
});
$('.currency').each(function() {
    $(this).html(parseInt($(this).data('value')).formatCurrency(true));
});
$('#profile-tradetoken form').submit(function() {
    if (this.tradelink.value == '') {
        return false;
    }
    $.ajax({
        type: 'POST',
        dataType: 'json',
        url: $(this).attr('action'),
        data: $(this).serialize(),
        success: function(json) {
            if (json.error) {
                $.notify(json.error, 'error');
            } else {
                $.notify(json.success);
            }
        }
    });
    return false;
});
$('input').eq(0).focus();
$('#transactions .scrollbar').scrollbar();
if (user.role_id === 1) {
    $('input[name="amount"]').addClass('disabled').attr('disabled', true).attr('placeholder', T('Sign in to bet'));
}(function(i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments);
    }, i[r].l = 1 * new Date();
    a = s.createElement(o), m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m);
})(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
ga('create', 'UA-76213163-1', 'auto');
ga('send', 'pageview');
console.log("%cWARNING!", "font-size: 26px; color: red;");
console.log("%cCSGOatse.com Admin/Mods/Staff will NEVER ask you to paste text/code in this console.", "font-size: 20px;");
console.log(" ");
console.log("%cDo NOT paste anything in this console or use ANY third party extensions/applications, it WILL steal your coins and/or hack your account!", "font-size: 20px;");
console.log(" ");
let blur_timer;
$(window).blur(function() {
    blur_timer = Date.now();
});
$(window).focus(function() {
    /*if(Date.now() - blur_timer > 180000) {
    		document.location.reload();
    	}*/
});
$('.btn-menu').click(function() {
    $(this).toggleClass('active');
    $('#menu-wrapper').toggleClass('opened');
    $('.navigation').toggleClass('opened');
    $('body').toggleClass('menu-opened');
});
$('.btn-close').click(function() {
    $('.pop').removeClass('opened');
    if ($('body').hasClass('show-list')) {
        $('#show-list').text('SHOW-LIST');
    }
    $('body').removeClass('show-players show-history show-bets show-list');
});
$('.btn-games').click(function() {
    $('#games').toggleClass('opened');
    $('body').toggleClass('game-opened');
});
$('.game-close').click(function() {
    $('#games').removeClass('opened');
    $('body').removeClass('game-opened');
});
$('.show-players').click(function() {
    $('body').toggleClass('show-players');
});
$('.show-history').click(function() {
    $('body').toggleClass('show-history');
});
if (!$('#sidebar').hasClass('no-banner')) {
    $('#banner video').each(function() {
        this.autoplay = true;
    });
    $('#banner .btn-x').click(function() {
        $('#sidebar').addClass('no-banner');
        $('#banner a').hide().eq(0).show();
        $('#banner video').each(function() {
            this.autoplay = false;
        });
        Cookies.set('banner3', 1);
        return false;
    });
    let $banners = $('#banner a');
    let banners_counter = $banners.length;
    let banners_index = 0;
    if (banners_counter > 1) {
        let switchBanner = function() {
            if ($('#sidebar').hasClass('no-banner')) {
                return false;
            }
            $banners.fadeOut().eq(banners_index).fadeIn();
            banners_index++;
            if (banners_index >= banners_counter) {
                banners_index = 0;
            }
            setTimeout(switchBanner, 5000);
        };
        switchBanner();
    }
}
$('.paginate-container').simplePaginate({
    size: 15
});
$('.tooltip').tooltipster();
$('button', '.tabs').click(function() {
    if (!$(this).hasClass('active')) {
        $('button').removeClass('active');
        $(this).addClass('active');
    }
    if ($(this).hasClass('last')) {
        $('.box', '#settings').addClass('hide');
        $('#transactions', '#settings').removeClass('hide');
    } else {
        $('#transactions', '#settings').addClass('hide');
        $('.box', '#settings').removeClass('hide');
    }
});

function levelUp(lvl) {
    let popup = $.popup('<div id="levelup" class="content"><span class="level">' + lvl + '</span><video src="/assets/www/video/level.mp4" autoplay="autoplay"></video></div>');
    $('#levelup .level').delay(300).transition({
        'scale': 1
    }, 200);
    setTimeout(function() {
        popup.close();
    }, 5000);
}
location.hash_array = {};
if (location.hash) {
    $.each((location.hash ? location.hash : "#").replace('#!', '#').split("#")[1].split("&"), function() {
        y = this.split("=");
        location.hash_array[y[0]] = y[1];
    });
}
if (location.hash_array.ref) {
    localStorage.setItem('ref', location.hash_array.ref);
}
$('#games').click(function(e) {
    if (e.target == this) {
        $('.game-close').trigger('click');
    }
});
$('#menu-wrapper').click(function(e) {
    if (e.target == this) {
        $('.btn-menu').trigger('click');
    }
});
let popupChecker = $('.btn-all-in-checker');
popupChecker.text('true' === Cookies.get('allIn') ? 'Enable all in popup' : 'Disable all in popup');
popupChecker.click(function() {
    if (Cookies.get('allIn') === "true") {
        Cookies.set('allIn', false, {
            expires: 365
        });
        popupChecker.text('Disable all in popup');
        $.notify('You have successfully enabled all in popup!', 'success');
    } else {
        Cookies.set('allIn', true, {
            expires: 365
        });
        popupChecker.text('Enable all in popup');
        $.notify('You have successfully disabled all in popup!', 'success');
    }
});
"use strict";
service['chat'] = {
    state: 'CONNECTING',
    _textarea: $('#chat-form textarea'),
    timeout: 5000,
    index: -1,
    messages: [],
    emots: {
        ":D": "smile.png",
        ":smile:": "smile.png",
        "SMILE": "smile.png",
        ":'D": "laugh.png",
        ":lol:": "laugh.png",
        ":)": "smile2.png",
        "(:": "reversesmile.png",
        ";)": "wink.png",
        ":P": "tonge.png",
        "$)": "dollar.png",
        "$D": "dollar.png",
        ":$:": "dollar.png",
        ":glasses:": "glasses.png",
        ":H:": "glasses.png",
        ":(": "sad.png",
        ":sad:": "sad.png",
        ":angry:": "angry.png",
        "-_-": "pokerface.png",
        ":OO": "wowface.png",
        ":wow:": "wowface.png",
        ";(": "tearing.png",
        ";'(": "crying.png",
        ":'(": "crying.png",
        ":crying:": "crying.png",
        ":thinking:": "thinking.png",
        ":poop:": "poop.png",
        ":devil:": "devil.png",
        ":up:": "thumbsup.png",
        ":down:": "thumbsdown.png",
        ":ok:": "ok.png",
        ":shh:": "shh.png",
        "kappa": "kappa.png",
        "squid1": "squid1.png",
        "squid2": "squid2.png",
        "squid3": "squid3.png",
        "squid4": "squid4.png",
        ":S": "-D-.png",
        "rigged": "heart.png",
        "r1gged": "heart.png",
        "scam": "heart.png"
    },
    open: function() {
        if (this.state !== 'CONNECTING') {
            this.timeout = 5000;
            return false;
        }
        service['socket'].send({
            service: 'chat',
            cmd: 'join'
        });
        setTimeout(this.open.bind(this), this.timeout);
        this.timeout *= 2;
    },
    delete: function(data) {
        $('#chat .message[data-id="' + data.id + '"]').close();
    },
    deleteAll: function(data) {
        $('#chat .message[data-steam_id="' + data.steam_id + '"]').close();
    },
    close: function() {
        if (this.state == 'CONNECTING') {
            return false;
        }
        this.state = 'CONNECTING';
        this.open();
        $('button,textarea', '#chat').attr('disabled', 'disabled');
    },
    update(index_switch) {
        this.index += index_switch;
        if (this.index === -1) {
            this._textarea.val('');
            this.index--;
        }
        if (this.messages[this.index]) {
            this._textarea.val(this.messages[this.index]);
        } else {
            this.index -= index_switch;
        }
    },
    init: function() {
        let that = this;
        let emots_cache = [];
        let emots = [];
        for (let i in this.emots) {
            if (emots_cache.indexOf(this.emots[i]) === -1) {
                emots_cache.push(this.emots[i]);
                emots.push(i);
            }
        }
        $('#emots .scrollbar').html(this.generateText(emots.join(' '))).scrollbar();
        $('.icon.smile').click(function() {
            $('#emots').fadeToggle();
            return false;
        });
        $('#emots .emot').click(function() {
            that._textarea.val(that._textarea.val() + ' ' + $('img', this).attr('title') + ' ').focus();
            return false;
        });

        function timer() {
            $('#chat .message').each(function() {
                $('.timer span', this).text(moment($(this).data('date')).fromNow());
            });
        }
        setInterval(timer, 10000);
        $('#chat .messages').scrollbar({
            onScroll: function(y, x) {
                that.autoscroll = false;
                if (y.scroll >= y.maxScroll - 100) {
                    that.autoscroll = true;
                }
            }
        });
        $('#btn-join-chat').click(function() {
            $('#chat .rules').fadeOut(function() {
                $(this).show().addClass('hidden');
            });
            service['socket'].send({
                service: 'chat',
                cmd: 'join',
                update: true
            });
            return false;
        });
        $('#chat-form').submit(function() {
            let $textarea = $('textarea', this);
            let $btn = $('button', this);
            let value = $textarea.val().replace(/(\r\n|\n|\r)/gm, "").trim();
            if (value !== '') {
                if (value === 'xmas') {
                    return false;
                }
                if (value === '/emots') {
                    that.notify(that.emots.join(' '));
                } else {
                    service['socket'].send({
                        service: 'chat',
                        cmd: 'message',
                        value: value
                    });
                    that.index = -1;
                    if (that.messages[0] != value) {
                        that.messages.unshift(value);
                    }
                }
                $textarea.val('');
                $btn.attr('disabled', true);
                $('#chat .cooldown').css({
                    width: '100%'
                }).animate({
                    width: 0
                }, {
                    duration: that.cooldown,
                    easing: 'linear',
                    complete: function(e) {
                        $btn.attr('disabled', false);
                        $textarea.focus();
                    }
                });
            }
            return false;
        });
        this._textarea.keydown(function(e) {
            if (e.which === 13) {
                $('#chat form button').trigger('click');
                return false;
            } else if (e.which === 38) {
                that.update(1);
                return false;
            } else if (e.which === 40) {
                that.update(-1);
                return false;
            }
        });
        let $body = $('body');
        $('.btn-toggle-chat').click(function() {
            $body.toggleClass('chat-closed');
            $('#sidebar .info-box').removeClass('active');
            Cookies.set('chat', $body.hasClass('chat-closed'), {
                expires: 7,
                path: ''
            });
            if (typeof blackjack !== 'undefined') {
                setTimeout(blackjack.updateDisplay.bind(blackjack), 300);
            }
            return false;
        });
        $('.chat-close').click(function() {
            $body.addClass('chat-closed');
        }); // $('.game-close').click(function () {
        // 	console.log('click');
        // 	$body.removeClass('.menu-opened');
        // 	$('#games').removeClass('opened')
        // });
        $body.click(function() {
            $('#chat_menu').hide();
        });
        this.message_data = {};
        $('#chat').on('contextmenu', '.message', function(e) {
            openContextMenu(this);
            return false;
        });
        $('#chat').on('press', '.message', function(e) {
            $.Finger = {
                pressDuration: 700,
                preventDefault: true
            };
            openContextMenu(this);
            return false;
        });

        function openContextMenu(el) {
            let offset = $(el).offset();
            offset.top -= 20;
            that.message_data = $(el).data();
            offset.left -= $('#chat_menu').width() + 10;
            offset.bottom = 'auto';
            if ($(window).width() < 1024) {
                offset.left = 10;
            }
            $('#chat_menu .btn-hider').show();
            if (that.message_data.role_id > 4) {
                $('#chat_menu .btn-hider').hide();
            }
            $('#chat_menu').css(offset).show();
            if ($('#chat_menu').is(':partoffscreen')) {
                $('#chat_menu').css({
                    top: 'auto',
                    bottom: 5
                });
            }
            if (that.message_data.steam_id === 0) {
                $('#chat_menu').hide();
            }
        }
        $('#chat_menu .btn-profile').click(function() {
            window.open(Steam.profile(that.message_data.steam_id));
            $('#chat_menu').hide();
            return false;
        });
        $('#chat_menu .btn-prepare').click(function() {
            that._textarea.val(that.prepareCommand($(this).data())).focus();
            $('#chat_menu').hide();
            return false;
        });
        $('#chat_menu .btn-action').click(function() {
            service['socket'].send({
                service: 'chat',
                cmd: 'message',
                value: that.prepareCommand($(this).data())
            });
            $('#chat_menu').hide();
            return false;
        });
        let clipboard = new Clipboard('.btn-copy', {
            text: function(trigger) {
                return that.message_data['steam_id'];
            }
        });
        clipboard.on('success', function(e) {
            that._textarea.val(that._textarea.val() + ' ' + that.message_data['steam_id']).focus();
        });
        if ($(window).width() < 1024) {
            $('body').addClass('chat-closed');
        }
    },
    prepareCommand(data) {
        let value = data.action + ' ' + this.message_data[data.value] + ' ';
        if (data.extra) {
            value += data.extra;
        }
        return value;
    },
    generateText: function(message, data) {
        for (let i in this.emots) {
            let emot = this.emots[i];
            let regex = new RegExp(escapeRegExp(i), "g");
            message = message.replace(regex, '<div class="emot"><img src="/assets/www/img/chat/' + emot + '" alt="' + i + '" title="' + i + '" /></div>');
        }
        if (data) {
            if (data.currency) {
                message = message.replace(/{currency}/, data.currency.formatCurrency(true));
            }
        }
        return message;
    },
    notify(message) {
        this.message({
            avatar: '/assets/www/img/logo-small.png',
            username: 'CSGOatse',
            role_id: 128,
            value: message
        });
    },
    message: function(data) {
        if (data.role_id > 3) {
            data.value = data.value.linkify();
        } else {
            data.value = data.value.unlinkify();
        }
        if ($('#chat .message').length > 100) {
            $('#chat .message').eq(0).remove();
        }
        data.value = this.generateText(data.value, data.data);
        if (data.date > Date.now()) {
            data.date = Date.now();
        }
        $('#chat .messages .scroll-content').append(tmpl('chat-message-tpl', data));
        if (this.autoscroll === true) {
            setTimeout(function() {
                $('#chat .messages .scroll-content').scrollTop(10000);
            }, 50);
        }
    },
    history: function(data) {
        this.state = 'RUNNING';
        this.cooldown = data.cooldown;
        for (let i in data.value) {
            this.message(data.value[i]);
        }
        $('#chat .messages .scroll-content').scrollTop(1000000);
        $('button,textarea', '#chat').attr('disabled', false);
    }
};
service['chat'].init();
"use strict";
service['bot'] = {
    sum: 0,
    limit: 10,
    container: '#items',
    selected_container: '#selected-items',
    action: $('#bot').data('action'),
    checkTradetoken: function() {
        if (!user.tradetoken) {
            let popup = $.popup(tmpl('popup-tradetoken-tpl', {}), {
                permament: false
            });
            $('#tradetoken form').submit(function() {
                if (this.tradelink.value === '') {
                    return false;
                }
                $.ajax({
                    type: 'POST',
                    dataType: 'json',
                    url: $(this).attr('action'),
                    data: $(this).serialize(),
                    success: function(json) {
                        if (json.error) {
                            $.notify(json.error, 'error');
                        } else {
                            $.notify(json.success);
                            user.tradetoken = json.tradetoken;
                            $(popup).close();
                        }
                    }
                });
                return false;
            });
            return false;
        }
        return true;
    },
    items: function(data) {
        let html = '';
        if (!data.items || data.items.length === 0) {
            if (!data.error) {
                if (this.action === 'deposit') {
                    data.error = 'You don\'t have any skin we accept, sorry! Remember we only accept skins worth over $2';
                } else {
                    data.error = 'Steam servers are busy. Wait couple seconds and try again.';
                }
            }
            html = '<h1 class="error">' + data.error + '</h1>';
        } else {
            data.items.forEach(function(item) {
                html += tmpl('item-tpl', item);
            });
        }
        $('#items .scroll-content').html(html);
        $('#items').loader({
            hide: true
        }); //$('#items .tooltipster').tooltipster();
        $('#items .float-pointer').each((i, item) => {
            let position = ($(item).data('position') * $(item).width()).toFixed(1);
            $(item).css({
                'left': position + '%'
            });
        });
        $('.filter select').trigger('change');
    },
    init: function() {
        let $container = $('.scrollbar', this.container);
        $container.scrollbar();
        $('.scrollbar', this.selected_container).scrollbar();
        $('#info .scrollbar').scrollbar();
        let that = this;
        $('.btn-reload').click(function() {
            $(this).cooldown(30000);
            $('#items').loader();
            let data = {
                service: 'bot',
                cmd: 'items',
                type: that.action
            };
            service['socket'].send(data);
        });
        $('#items').on('click', '.item a', function() {
            window.location = $(this).attr('href');
            return false;
        });
        $('#items').on('click', '.item', function() {
            that.sortItems($('.scroll-content', that.selected_container), this);
            return false;
        });
        $('#selected-items').on('click', '.item', function() {
            that.sortItems($('.scroll-content', that.container), this);
            return false;
        });
        $('#bot .btn-bot').click(function() {
            let $btn = $(this);
            if ($btn.hasClass('disabled') || $btn.attr('disabled') === 'disabled') {
                return false;
            }
            let $items = $('.item', that.selected_container);
            if ($items.length === 0) {
                return $.notify('Select at least 1 item', 'error');
            }
            if (service['bot'].checkTradetoken() === false) {
                return false;
            }
            let data = {
                service: 'bot',
                cmd: that.action,
                items: {}
            };
            data.items = [];
            $items.each(function() {
                data.items.push(this.dataset.asset_id);
            });
            service['socket'].send(data);
            $btn.cooldown(90000);
            $('#selected-items,#items').loader({
                timeout: 90000
            });
            return false;
        });
        $('.search input').keyup(function() {
            let value = $(this).val().toLowerCase();
            if (value === '') {
                $('.item').show();
            } else {
                $('.item').hide().filter('[data-name*="' + value + '"]').show();
            }
        });
        $('.search input').val(document.location.hash.replace(/#/, '')).trigger('keyup');
        $('.filter select').change(function() {
            that.sort_field = $('option:selected', this).data('name');
            that.sort_order = $('option:selected', this).data('order');
            that.sort_type = $('option:selected', this).data('type');
            that.sortItems($('.scroll-content', that.container));
            that.sortItems($('.scroll-content', that.selected_container));
            return false;
        }).trigger('change');
        $('#show-list').click(function() {
            let text = $(this).text();
            $(this).text(text === 'SHOW LIST' ? 'BACK' : 'SHOW LIST');
            $('body').toggleClass('show-list');
        });
        $('#info').on('click', '#btn-retry', function() {
            let $btn = $(this);
            if ($btn.hasClass('disabled') || $btn.attr('disabled') === 'disabled') {
                return false;
            }
            service['socket'].send({
                service: 'bot',
                cmd: 'resend'
            });
            $btn.cooldown(300000);
            $('#selected-items,#items').loader({
                timeout: 300000
            });
            return false;
        });
    },
    sortItems: function($container, $item) {
        if ($.type($container) === 'string') {
            $container = $($container);
        }
        let $items = $('.item', $container);
        let that = this;
        if ($item) {
            $items = $items.add($item);
        }
        $items = $items.sort(function(a, b) {
            let left, right;
            if (that.sort_order === 'asc') {
                left = -1;
                right = 1;
            } else {
                left = 1;
                right = -1;
            }
            if (that.sort_type === 'int') {
                return parseFloat(a.dataset[that.sort_field]) < parseFloat(b.dataset[that.sort_field]) ? left : right;
            }
            return a.dataset[that.sort_field] < b.dataset[that.sort_field] ? left : right;
        });
        $container.append($items);
        let $items_available = $('.item', this.selected_container);
        let amount = $items_available.toArray().reduce(function(sum, element) {
            return sum + Number(element.dataset.price);
        }, 0);
        if (this.action === 'withdraw') {
            if (amount > user.balance || amount > user.wager) {
                $('#bot .btn-bot').addClass('disabled');
            } else {
                $('#bot .btn-bot').removeClass('disabled');
            }
        } //@TODO: fix
        /*
        		let group = {};
        		$items_available.each(function() {
        			if($('.overstock', this).length > 0) {
        				let name = $(this).data('name');
        				let overstock = $(this).data('overstock');

        				if(!group[name]) {
        					group[name] = 0;
        				}
        				if(group[name]>=1) {
        					$('.item[data-name="'+name+'"] .overstock .value', '#items').text(group[name]+overstock);
        				}
        				group[name]++;
        			}
        		});
        		*/
        $('.summary .count .value').html($items_available.length);
        $('.summary .amount .value').html(amount.formatCurrency());
        $('.admin-options button').click(function() {
            let value = parseInt($('input', '.admin-options').val()) * 1000;
            $('#items .item').each(function() {
                if (parseInt($(this).data('price')) <= value) {
                    $(this).trigger('click');
                }
            });
            return false;
        });
    },
    cancel: function(data) {
        let $items;
        if (data.bot_id) {
            $items = $('.item[data-bot_id="' + data.bot_id + '"]', this.selected_container);
        } else {
            $items = $('.item', this.selected_container);
        }
        if (data.state === 3) {
            $items.remove();
        } else {
            this.sortItems($('.scroll-content', this.container), $items);
        }
        if ($('.item', this.selected_container).length === 0) {
            $('.loader').close();
            $('.btn-big').cooldown('reload');
        }
        if (data.offer_id) {
            if ($('.offer').length === 1) {
                $('#info').hide();
            }
            $('.offer[data-id="' + data.offer_id + '"]').close();
        }
        if (data.reason) {
            $.notify(data.reason, 'error');
        }
    },
    open: function() {
        service['socket'].send({
            service: 'bot',
            cmd: 'join'
        });
        $('.btn-reload').trigger('click');
    },
    close: function() {},
    finish: function(data) {
        if (data.state === 3) {
            $.notify('Offer #' + data.offer_id + ' has been accepted!');
        } else {
            $.notify('Offer #' + data.offer_id + ' has been declined!', 'error');
        }
        this.cancel(data);
    },
    offer: function(data) {
        if (!data.url) {
            data.url = 'http://steamcommunity.com/id/me/tradeoffers/';
        }
        $('#info .scroll-content').append(tmpl('offer-tpl', data));
        $('#info').fadeIn();
    },
    withdraw: function(data) {
        $('#info .scroll-content').append(tmpl('batch-tpl', data.data));
        $('#info').fadeIn();
    }
};
service['bot'].init();
"use strict";
if (user.role_id > 1) {
    service['core'] = {
        state: 'CONNECTING',
        timeout: 5000,
        time: null,
        amount: 0,
        open: function() {
            if (this.state !== 'CONNECTING') {
                this.timeout = 5000;
                return false;
            }
            service['socket'].send({
                service: 'core',
                cmd: 'join',
                free: true
            });
            setTimeout(this.open.bind(this), this.timeout);
            this.timeout *= 2;
        },
        close: function() {
            if (this.state === 'CONNECTING') {
                return false;
            }
            this.state = 'CONNECTING';
            this.open();
        },
        captcha: function(data) {
            $('#free-coins .captcha').attr('src', data.image);
        },
        init: function() {
            let that = this;
            setInterval(this.countdown.bind(this), 1000);
            $('#btn-affiliate-refresh').click(function() {
                service['socket'].send({
                    service: 'core',
                    cmd: 'affiliateSend'
                });
                $(this).cooldown(30000);
                return false;
            });
            $('.free-coins-switcher').click(function() {
                if ($(this).hasClass('disabled')) {
                    $('#free-coins-info-link').trigger('click');
                    return false;
                }
                if ($('#free-coins').hasClass('active')) {
                    service['socket'].send({
                        service: 'core',
                        cmd: 'getCaptcha'
                    });
                }
            });
            $('#affiliate .scrollbar').scrollbar();
            $('#free-coins .padding').click(function() {
                $('input', this).focus();
                return false;
            });
            $('#free-coins button').click(function() {
                let $btn = $(this).parent();
                if ($btn.hasClass('disabled') || 'Notification' in window && Notification.permission !== "granted") {
                    return false;
                }
                $btn.cooldown(3000);
                service['socket'].send({
                    service: 'core',
                    cmd: 'free',
                    captcha: $('input[name="captcha"]', '#free-coins').val()
                });
                $('#free-coins input[name="captcha"]').val('');
                return false;
            });
            $('.btn-coins-toggle').click(function() {
                $('#sidebar .info-box.active').not('#free-coins-info').removeClass('active');
                $('#free-coins-info').toggleClass('active');
            });
            $('#affiliate-use').submit(function() {
                let code = $('input', this).val();
                if (code !== '') {
                    service['socket'].send({
                        service: 'core',
                        cmd: 'affiliateUse',
                        code: code
                    });
                }
                return false;
            });
            $('#affiliate-create').submit(function() {
                let code = $('input', this).val();
                if (code !== '') {
                    service['socket'].send({
                        service: 'core',
                        cmd: 'affiliateCreate',
                        code: code
                    });
                }
                return false;
            });
            $('#btn-affiliate-collect').click(function() {
                service['socket'].send({
                    service: 'core',
                    cmd: 'affiliateCollect'
                });
                $(this).hide();
                return false;
            });
            let ref_code = location.hash_array.ref ? location.hash_array.ref : localStorage.getItem('ref');
            if (ref_code) {
                if ($('#affiliate-use')) {
                    $('#affiliate-use input').val(ref_code);
                    $('#btn-tab-affiliates').trigger('click');
                    setTimeout(function() {
                        $('#affiliate-use button').notify('Click here to use code', {
                            position: "bottom",
                            autoHide: false
                        });
                    }, 300);
                }
            }
        },
        affiliate: function(data) {
            $('#affiliate .percent .value').html(data.percent.toFixed(2) + '%');
            if (data.collected) {
                $('#affiliate .collected .value').html(data.collected.formatCurrency());
            }
            $('#affiliate .available .value').html(data.available.formatCurrency());
            $('#affiliate-data').slideDown();
            if (data.available > 0) {
                $('#btn-affiliate-collect').show();
            }
        },
        affiliateUse: function(data) {
            $.notify(T('Yeah! You just earned %d', data.amount) + T(' coins'));
            $('#affiliate-use').slideUp();
        },
        countdown: function() {
            if (this.time) {
                let $el = $('.free-coins-switcher');
                let seconds = this.time.diff(moment(), 'seconds');
                if (seconds < 0) {
                    $('#free-coins-info .value').html(this.amount);
                    $el.html(T('Collect %d coins', this.amount));
                } else {
                    $el.html(moment.utc(seconds * 1000).format('HH:mm:ss'));
                }
            }
        },
        free: function(data) {
            this.amount = data.amount;
            this.time = moment().add(data.timer, 'ms');
            this.state = 'OPEN';
            $('#free-coins').removeClass('active');
        }
    };
    service['core'].init();
}
"use strict";
service['giveaway'] = {
    state: 'CONNECTING',
    timeout: 5000,
    timer: 0,
    join: false,
    open: function() {
        if (this.state !== 'CONNECTING') {
            this.timeout = 5000;
            return false;
        }
        setTimeout(this.open.bind(this), this.timeout);
        this.timeout *= 2;
    },
    close: function() {
        if (this.state === 'CONNECTING') {
            return false;
        }
        this.join = false;
        this.state = 'CONNECTING';
        this.open();
    },
    countdown() {
        if (this.time) {
            let seconds = this.time.diff(moment(), 'seconds');
            if (seconds > 0) {
                let timer = {};
                timer.h = Math.floor(seconds / 3600);
                timer.m = Math.floor(seconds % 3600 / 60);
                timer.s = seconds % 60;
                $('#giveaway-countdown .value').eq(0).text(timer.h.zeroFill(2));
                $('#giveaway-countdown .value').eq(1).text(timer.m.zeroFill(2));
                $('#giveaway-countdown .value').eq(2).text(timer.s.zeroFill(2));
            } else {
                $('#giveaway-button').addClass('disabled');
                $('#giveaway-countdown').slideUp();
            }
        }
    },
    joined: function() {
        $('#giveaway-form').removeClass('active');
        $('#giveaway-join').slideUp();
    },
    info: function(data) {
        this.state = 'OPEN';
        let numberStepDollar = function(now, tween) {
            $(tween.elem).text('$' + now.formatMoney(2)).prop('number', now);
        };
        if (data.last) {
            $('#giveaway-last').html(tmpl('giveaway-last-tpl', data.last)).hide().slideDown();
            $('#giveaway-last-value').animateNumber({
                number: user.currency === 'coins' ? data.last.amount : data.last.amount / 1000,
                numberStep: user.currency === 'coins' ? currencyStep : numberStepDollar
            }, 2000);
        }
        if (data.upcoming) {
            this.time = moment().add('second', data.upcoming.timer);
            if (data.upcoming.joined === true || data.upcoming.timer < 0) {
                $('#giveaway-join').hide();
            } else {
                $('#giveaway-join').show();
            }
            $('#giveaway-info').html(tmpl('giveaway-info-tpl', data.upcoming));
            $('#giveaway-upcoming').hide().slideDown();
            $('#giveaway-value').animateNumber({
                number: user.currency === 'coins' ? data.upcoming.amount : data.upcoming.amount / 1000,
                numberStep: user.currency === 'coins' ? currencyStep : numberStepDollar
            }, 2000);
        }
    },
    captcha: function(data) {
        $('#giveaway-form .captcha').attr('src', data.image);
    },
    win: function(data) {
        let tpl = tmpl('giveaway-winner-tpl', data);
        $('#user-list').html(tpl).delay(300).css({
            marginLeft: '-=' + data.users.length * 100 + '%'
        }).animate({
            marginLeft: 0
        }, 5000, 'easeOutCubic', function() {
            $('#user-list').addClass('winner');
        });
    },
    init: function() {
        $('#btn-tab-giveaway').click(function() {
            if (service.socket.instance.readyState !== 1 || service['giveaway'].join === true) {
                return false;
            }
            service['giveaway'].join = true;
            service['socket'].send({
                service: 'giveaway',
                cmd: 'join'
            }); // service['socket'].send({cmd: 'push', title: "Giveaway is waiting for You!", description: "Go and claim your winnings!", uri: "https://csgoatse.com/", icon: "/assets/www/img/icon.png"});
        });
        if ($('#btn-tab-giveaway').hasClass('active')) {
            $('#btn-tab-giveaway').trigger('click');
        }
        setInterval(this.countdown.bind(this), 1000);
        $('#giveaway .scrollbar').scrollbar();
        $('#giveaway-button').click(function() {
            if ($('#giveaway-form').hasClass('active') && (!Notification || Notification.permission === "granted")) {
                service['socket'].send({
                    service: 'giveaway',
                    cmd: 'getCaptcha'
                });
            }
        });
        $('#giveaway-form button').click(function() {
            let $btn = $(this).parent();
            if ($btn.hasClass('disabled')) {
                return false;
            }
            $btn.cooldown(3000);
            service['socket'].send({
                service: 'giveaway',
                cmd: 'addUser',
                captcha: $('input[name="captcha"]', '#giveaway-form').val()
            });
            $('#giveaway-form input[name="captcha"]').val('');
            return false;
        });
        $('#giveaway-form').click(function() {
            $('input', this).focus();
            return false;
        });
    }
};
service['giveaway'].init();
"use strict";
service['socket'] = {
    timer: 2000,
    tries: 0,
    instance: null,
    ping_timer: null,
    send: function(data) {
        if (this.instance.readyState === 1) {
            this.instance.send(JSON.stringify(data));
        } else {
            console.log('cannot send', this.instance.readyState, data);
        }
    },
    ping: function() {
        this.ping_timer = Date.now();
        this.send({
            cmd: 'ping'
        });
        setTimeout(this.ping.bind(this), 1000);
    },
    pong: function() {
        let ping = Date.now() - this.ping_timer;
        $('#ping').text(ping + 'ms');
    },
    stats: function(data) {
        $('.online').html(data.online);
    },
    notify: function(data) {
        if (data.options && data.options.element) {
            $(data.options.element).notify(T(data.value), data.options);
        } else {
            $.notify(T(data.value), data.options);
        }
    },
    connect: function() {
        this.tries++;
        this.instance = new WebSocket(config.websocket + '/' + user.token);
        this.instance.onerror = this.error.bind(this);
        this.instance.onopen = this.open.bind(this);
        this.instance.onmessage = this.message.bind(this);
        this.instance.onclose = this.close.bind(this);
        this.balance();
        this.fakebalance();
    },
    fakebalance: function(data) {
        let $input = $('input[name="fakeamount"]');
        if (data) {
            data.amount = parseInt(data.amount);
            if (!isNaN(data.amount)) {
                user.fakebalance = data.amount;
                $('.fakebalance').html(data.amount.formatCurrency()); //@TODO: check value
                $('.fakebalance-value .value').html(data.amount.formatCurrency());
            }
        }
        if (user.fakebalance < 10) {
            $input.addClass('disabled').attr('disabled', true).attr('placeholder', T('Minimum bet is 10')).val('');
        } else {
            $input.removeClass('disabled').attr('disabled', false).attr('placeholder', T('Place bet'));
        }
        $input.trigger('change');
    },
    balance: function(data) {
        let $input = $('input[name="amount"]');
        if (data) {
            data.amount = parseInt(data.amount);
            if (!isNaN(data.amount)) {
                user.balance = data.amount;
                $('.balance').html(data.amount.formatCurrency()); //@TODO: check value
                $('.balance-value .value').html(data.amount.formatCurrency());
            }
        }
        if (user.balance < 10) {
            $input.addClass('disabled').attr('disabled', true).attr('placeholder', T('Minimum bet is 10')).val('');
        } else {
            $input.removeClass('disabled').attr('disabled', false).attr('placeholder', T('Place bet'));
        }
        $input.trigger('change');
    },
    bets: function(data) {
        data.amount = parseInt(data.amount);
        if (!isNaN(data.amount)) {
            user.bets = data.amount;
            this.wager();
        }
    },
    withdraws: function(data) {
        data.amount = parseInt(data.amount);
        if (!isNaN(data.amount)) {
            user.withdraws = data.amount;
            this.wager();
        }
    },
    wager: function() {
        user.wager = user.bets - user.withdraws;
        $('.wager .value').html('$' + (user.wager / 1000).formatCurrency());
    },
    level: function(data) {
        $.notify(T('Level UP! New level: %d', data.level));
    },
    open: function() {
        this.tries = 1; //this.ping();
        for (let i in service) {
            if (i !== 'socket') {
                service[i].open();
            }
        }
    },
    push: function(data) {
        pushNotification(data.title, data.description, data.uri, data.icon);
    },
    pushByTag: function(data) {
        pushNotificationByTag(data);
    },
    message: function(evt) {
        let data;
        try {
            data = JSON.parse(evt.data);
        } catch (e) {
            console.log(e);
            return false;
        }
        if (!data.service) {
            data.service = 'socket';
        }
        /*if(data.cmd!='online') {
        		 console.log(data);
        		 }*/
        if (!service[data.service]) {
            console.log('service not found', data.service);
        } else if (!service[data.service][data.cmd]) {
            console.log('cmd not found', data);
        } else {
            service[data.service][data.cmd](data);
            if (user.role_id === 9) { //console.log(data);
            }
        }
    },
    close: function(evt, err) { //$('.popup').close();
        //$.popup('<h1>Server is not available :(</h1>', {permament: true});
        if (evt.code == 999) {
            console.log(evt.reason);
            $.notify(T('Server connection terminated..'), evt.reason);
        } else {
            if (this.tries < 5) {
                $.notify(T('Server connection terminated... Reconnecting in ') + this.timer * this.tries / 1000 + T(' seconds.'), 'warn');
                setTimeout(this.connect.bind(this), this.timer * this.tries);
            } else {
                $.notify(T('Cannot connect to server. Try again later!'), 'error');
            }
        }
        for (let i in service) {
            if (i !== 'socket') {
                service[i].close();
            }
        }
    },
    error: function(evt) {
        console.log('Websocket error', evt);
    }
};
service['socket'].connect();
"use strict";
if ($('#dice').length > 0) {
    service['dice'] = {
        _dice: $('#box'),
        container: $('#dice'),
        _toggleButton: $('.toggle-dice'),
        _hidden: false,
        input: $('input[name="amount"]', this.container),
        state: 'CONNECTING',
        open: function() {
            if (this.state !== 'CONNECTING') {
                return false;
            }
            service['socket'].send({
                service: 'dice',
                cmd: 'join'
            });
            setTimeout(this.open.bind(this), 2000);
        },
        close: function() {
            this.container.removeClass('dice round');
            if (this.state === 'CONNECTING') {
                return false;
            }
            this.state = 'CONNECTING';
            this.open();
        },
        init: function() {
            let input = this.input;
            let that = this;
            $('.btn-bet', this.container).click(function() {
                sounds.button.play();
                if (that.state !== 'OPEN') {
                    return false;
                }
                let option = $(this).data('option');
                let amount = parseFloat(input.val());
                if (isNaN(amount)) {
                    return $.notify(T('Wrong amount'), 'error');
                }
                if (amount < bet_range[0]) {
                    return $.notify(T('Minimum bet amount is %d', bet_range[0]), 'error');
                }
                if (amount > Math.min(user.balance, bet_range[1])) {
                    return $.notify(T('Maximum bet amount is %d', Math.min(user.balance, bet_range[1])), 'error');
                }
                if (user.currency === 'usd') {
                    amount *= 1000;
                }
                amount = parseInt(amount);
                if (user.balance === amount && Cookies.get('allIn') === 'false') {
                    $.popup('<div id="allIn" class="content"><h1>Are you sure you want to bet all your balance?</h1><br /><input type="submit" class="btn btn-accept accept" value="Yes" /><input type="submit" class="btn btn-decline decline" value="No" /></div>');
                    $('.btn-accept').click(function() {
                        service['socket'].send({
                            service: 'dice',
                            cmd: 'deposit',
                            option: option,
                            amount: amount
                        });
                        input.trigger('change');
                        $('.popup').close();
                        return true;
                    });
                    $('.btn-decline').click(function() {
                        $('.popup').close();
                        return false;
                    });
                    return false;
                } else {
                    service['socket'].send({
                        service: 'dice',
                        cmd: 'deposit',
                        option: option,
                        amount: amount
                    });
                    input.trigger('change');
                    return false;
                }
            });
        },
        diceRoll: function(bet, again) {
            let rotateXnow = this._dice.data('rotatex');
            let rotateYnow = this._dice.data('rotatey');
            again = again || 4;
            if (again > 1) {
                rotateXnow = rotateXnow + 270;
                rotateYnow = rotateYnow + 270;
                this._dice.css("transform", "rotateX(" + rotateXnow + "deg) rotateY(" + rotateYnow + "deg)").data('rotatex', rotateXnow).data('rotatey', rotateYnow);
                setTimeout(this.diceRoll.bind(this), 500, bet, again - 1);
            } else {
                let rotate = {
                    1: {
                        x: 270,
                        y: 0,
                        n: 6
                    },
                    2: {
                        x: 0,
                        y: 0,
                        n: 4
                    },
                    3: {
                        x: 0,
                        y: 270,
                        n: 5
                    },
                    4: {
                        x: 0,
                        y: 180,
                        n: 2
                    },
                    5: {
                        x: 0,
                        y: 90,
                        n: 3
                    },
                    6: {
                        x: 90,
                        y: 180,
                        n: 1
                    }
                };
                let rotateX = Math.ceil(rotateXnow / 360) * 360 + parseInt(rotate[bet.value].x);
                let rotateY = Math.ceil(rotateYnow / 360) * 360 + parseInt(rotate[bet.value].y);
                this._dice.css("transform", "rotateX(" + rotateX + "deg) rotateY(" + rotateY + "deg)").data('rotatex', rotateX).data('rotatey', rotateY);
                let that = this;
                setTimeout(function() {
                    that.state = 'OPEN';
                }, 1500);
            }
        },
        result: function(bet) {
            this.state = 'ROLLING';
            $('.hash').text(bet.hash);
            this.diceRoll(bet);
            sounds.dice.play();
            setTimeout(function() {
                if (bet.profit > 0) {
                    $.notify(T('Congratulations! You won %s', bet.profit.formatCurrency()), {
                        className: 'big'
                    });
                } else {
                    $.notify(T('You lost :('), 'error');
                }
            }, 2000);
        },
        history: function(bet) {
            $('#bets-list tr').slice(14, 15).remove();
            $(tmpl('history-tpl', bet)).css({
                opacity: 0
            }).prependTo('#bets-list').animate({
                opacity: 1
            }, 200);
        },
        info: function(data) {
            this.state = 'OPEN';
            if (data.config) {
                this.config = data.config;
                setBetRange(data.config);
            }
            for (let i in data.history) {
                this.history(data.history[i]);
            }
        }
    };
    service['dice'].init();
}
"use strict";
if ($('#mine').length > 0) {
    service['mine'] = {
        container: $('#mine'),
        input: $('input[name="amount"]', this.container),
        state: 'CONNECTING',
        open: function() {
            if (this.state !== 'CONNECTING') {
                return false;
            }
            service['socket'].send({
                service: 'mine',
                cmd: 'join'
            });
            setTimeout(this.open.bind(this), 2000);
        },
        close: function() {
            this.container.removeClass('mine round');
            if (this.state === 'CONNECTING') {
                return false;
            }
            this.state = 'CONNECTING';
            this.open();
        },
        init: function() {
            let input = this.input;
            let that = this;
            $('.btn-cashout', this.container).click(function() {
                if (that.state !== 'RUNNING') {
                    return $.notify(T('Game is not running!'), 'error');
                }
                if ($('.fields .field.clicked').length === 0) {
                    return $.notify(T('Click at least on 1 field!'), 'error');
                }
                service['socket'].send({
                    service: 'mine',
                    cmd: 'cashout'
                });
                return false;
            });
            $('.btn-bet', this.container).click(function() {
                if ($(this).hasClass('disabled')) {
                    return false;
                }
                $(this).parent().cooldown(1500);
                sounds.button.play();
                if (that.state !== 'OPEN') {
                    return $.notify(T('Game is running!'), 'error');
                }
                let bombs = parseInt($('.bomb.active').data('value'));
                let amount = parseFloat(input.val());
                if (isNaN(bombs)) {
                    return $.notify(T('Select number of bombs'), 'error');
                }
                if (isNaN(amount)) {
                    return $.notify(T('Wrong amount'), 'error');
                }
                if (amount < bet_range[0]) {
                    return $.notify(T('Minimum bet amount is %d', bet_range[0]), 'error');
                }
                if (amount > Math.min(user.balance, bet_range[1])) {
                    return $.notify(T('Maximum bet amount is %d', Math.min(user.balance, bet_range[1])), 'error');
                }
                if (user.currency === 'usd') {
                    amount *= 1000;
                }
                amount = parseInt(amount);
                if (user.balance === amount && Cookies.get('allIn') === 'false') {
                    $.popup('<div id="allIn" class="content"><h1>Are you sure you want to bet all your balance?</h1><br /><input type="submit" class="btn btn-accept accept" value="Yes" /><input type="submit" class="btn btn-decline decline" value="No" /></div>');
                    $('.btn-accept').click(function() {
                        service['socket'].send({
                            service: 'mine',
                            cmd: 'deposit',
                            bombs: bombs,
                            amount: amount
                        });
                        input.trigger('change');
                        $('.popup').close();
                        return true;
                    });
                    $('.btn-decline').click(function() {
                        $('.popup').close();
                        return false;
                    });
                    return false;
                } else {
                    service['socket'].send({
                        service: 'mine',
                        cmd: 'deposit',
                        bombs: bombs,
                        amount: amount
                    });
                    input.trigger('change');
                    return false;
                }
            });
            if (Cookies.get('bombs')) {
                $('.bombs .bomb[data-value="' + Cookies.get('bombs') + '"]').addClass('active');
            }
            $('.bombs .bomb').click(function() {
                sounds.tap.play();
                Cookies.set('bombs', $(this).data('value'), {
                    expires: 7
                });
                $('.bombs .bomb').removeClass('active');
                $(this).addClass('active');
                return false;
            });
            $('.field').click(function() {
                if (that.state !== 'RUNNING') {
                    return $.notify(T('First start the game...'), 'error');
                }
                if ($(this).hasClass('clicked')) {
                    return $.notify(T('Field already checked'), 'error');
                }
                sounds.tap.play();
                service['socket'].send({
                    service: 'mine',
                    cmd: 'click',
                    index: $(this).data('index')
                });
            });
        },
        info: function(data) {
            if (typeof data.index !== 'undefined') {
                let $btn = $('.fields .field').eq(data.index);
                $btn.addClass('clicked');
                if (data.state === 'RUNNING' || data.state === 'WIN') {
                    $btn.addClass('profit').find('span').html('+' + data.reward.formatCurrency()).css({
                        transform: 'rotate(45deg) scale(1)'
                    });
                }
            }
            if (data.config) {
                this.config = data.config;
                setBetRange(data.config);
            }
            if (this.state === 'OPEN' && data.state === 'RUNNING') {
                $('#mine').removeClass('finish win lose').addClass('running');
                $('.fields .field').removeClass('clicked profit bomb').find('span').text('');
            }
            this.state = data.state;
            if (data.state === 'WIN' || data.state === 'LOSE') {
                this.finish(data);
            }
            if (data.state === 'WIN') {
                $('#mine').addClass('win');
                $.notify(T('You won!'));
            } else if (data.state === 'LOSE') {
                sounds.grenade.play();
                $('#mine').addClass('lose');
                $.notify(T('You lost :('), 'error');
            }
            if (data.next) {
                $('.next .value', this.container).html(data.next.formatCurrency());
            }
            if (data.amount) {
                $('.total .value', this.container).html(data.amount.formatCurrency());
            }
        },
        finish: function(data) {
            for (let i in data.bombs) {
                $('.fields .field').eq(data.bombs[i]).addClass('bomb');
            }
            this.field = null;
            this.state = 'OPEN';
            $('#mine').removeClass('running').addClass('finish');
        },
        join: function(data) {
            this.state = 'OPEN';
            this.info(data);
            if (data.state === 'RUNNING') {
                for (let i in data.clicked) {
                    $('.fields .field').eq(i).addClass('profit clicked').find('span').html('+' + data.clicked[i].formatCurrency()).css({
                        transform: 'rotate(45deg) scale(1)'
                    });
                }
            }
            /*for (let i in data.history) {
            				this.history(data.history[i]);
            			}*/
        }
    };
    service['mine'].init();
}
if ($('#blackjack').length > 0) {
    service['blackjack'] = {
        state: 'CONNECTING',
        container: $('#blackjack'),
        open: function() {
            if (this.state !== 'CONNECTING') {
                return false;
            }
            service['socket'].send({
                service: 'blackjack',
                cmd: 'join'
            });
            setTimeout(this.open.bind(this), 2000);
        },
        close: function() {
            this.container.removeClass('blackjack round');
            if (this.state === 'CONNECTING') {
                return false;
            }
            this.state = 'CONNECTING';
            this.open();
        },
        join: function(data) {
            this.state = 'OPEN';
            this.config = data.config;
            setBetRange(data.config);
        },
        init: function() {},
        recovery(data) {
            if (!data.running) return;
            blackjack.switchStage('play');
            blackjack._dealerCards = data.dealerCards;
            blackjack._playerCards = data.playerCards;
            blackjack.updateDisplay(true);
            blackjack._gameHash.text(data.hash);
            blackjack._gameHash.parent().fadeIn(500);
            blackjack._dealValue.text(data.deal.formatCurrency());
        },
        deal(data) {
            blackjack.switchStage('deal');
            blackjack._waitForDealer = false;
            blackjack._gameHash.text(data.hash);
            blackjack._gameHash.parent().fadeIn(500);
        },
        start(data) {
            blackjack._dealerCards = [data.cards[0]];
            blackjack._playerCards = data.cards[1];
            blackjack.updateDisplay(true);
        },
        end(data) {
            blackjack._dealerCards = data.dealerCards;
            blackjack._playerCards = data.userCards;
            blackjack.updateDisplay(true, true, data.result);
        },
        userCard(data) {
            blackjack._waitForDealer = false;
            blackjack._playerCards.push(data.card);
            blackjack.updateDisplay(true);
        },
        dealerCard(data) {
            blackjack._dealerCards.push(data.card);
            blackjack.updateDisplay(true);
        },
        doubleDown(data) { //blackjack._deal = 2 * blackjack._deal;
            blackjack._playerCards.push(data.card);
            blackjack.updateDisplay(true);
        },
        stop() {
            blackjack._waitForDealer = true;
        },
        unlock() {
            blackjack._waitForDealer = false;
        },
        addHistory(game) {
            let tpl = $(tmpl('history-tpl', game));
            $('#history-list').prepend(tpl);
            $('#history-list tr:eq(15)').remove();
        },
        history(data) {
            let that = this;
            data.history.forEach(function(game) {
                that.addHistory(game);
            });
        }
    };
    window.blackjack = {
        _dealValue: $('input[name="amount"]'),
        _playerCardsArea: $('.user-area .cards'),
        _playerChipsArea: $('.user-area .chips'),
        _userArea: $('.user-area'),
        _dealerCardsArea: $('.dealer-area .cards'),
        _dealButtons: $('.deal-buttons'),
        _playButtons: $('.play-buttons'),
        _pointsDisplay: $('.points'),
        _playerPointsDisplay: $('.player-points'),
        _dealerPointsDisplay: $('.dealer-points'),
        _toggleButton: $('.toggle-blackjack'),
        _lastGames: $('.last-games'),
        _playerBalance: $('.balance'),
        _gameHash: $('.hash'),
        _resultDisplay: $('.round-result'),
        _stage: 'deal',
        _playerPoints: 0,
        _playerPointsAlternative: 0,
        _dealerPoints: 0,
        _playerCards: [],
        _dealerCards: [],
        _hidden: false,
        _waitForDealer: false,
        _playerCardIndex: -1,
        _dealerCardIndex: -1,
        set chips(x) {
            if (this._stage !== 'deal') return;
            this._deal = x;
            this.updateDisplay();
        },
        get chips() {
            return this._deal;
        },
        addChips: function(x) {
            if (this._dealValue.attr('disabled')) {
                return false;
            }
            if (this._stage !== 'deal') return;
            let max = Math.min(user.balance, bet_range[1]);
            let min = bet_range[0];
            let _deal = parseFloat(this._dealValue.val());
            if (isNaN(_deal)) {
                _deal = 0;
            }
            if (x === 'clear') {
                _deal = '';
            } else if (x === 'min') {
                _deal = bet_range[0];
            } else if (x === 'max') {
                _deal = max;
            } else if (x === 'multiply') {
                _deal = _deal * 2;
            } else if (x === 'divide') {
                _deal = parseFloat(_deal / 2);
            } else {
                _deal += parseFloat(x);
            }
            if (_deal !== '' && _deal < min) _deal = min;
            if (_deal > max) _deal = max;
            if (_deal != '') {
                if (user.currency == 'usd') {
                    _deal = _deal.toFixed(4);
                } else {
                    _deal = parseInt(_deal);
                }
            }
            this._dealValue.val(_deal).trigger('change');
            this.updateDisplay();
        },
        _cardToPoints: function(value) {
            if (value === 'Ace') return 0;
            switch (value) {
                case '02':
                case '03':
                case '04':
                case '05':
                case '06':
                case '07':
                case '08':
                case '09':
                case '10':
                    return parseInt(value);
                case 'Jack':
                case 'Queen':
                case 'King':
                    return 10;
            }
        },
        updatePoints: function(side) {
            var self = this;
            var ace = 0;
            if (side === 'user') side = 'player';
            this['_' + side + 'Points'] = 0;
            this['_' + side + 'Cards'].forEach(function(card) {
                if (card.value === 'Ace') return ace++;
                self['_' + side + 'Points'] += self._cardToPoints(card.value);
            });
            self['_' + side + 'PointsAlternative'] = self['_' + side + 'Points'] + ace;
            if (ace > 0) {
                if (self['_' + side + 'Points'] <= 11 - ace) {
                    self['_' + side + 'Points'] += 11 + (ace - 1);
                } else {
                    self['_' + side + 'Points'] += ace;
                }
            }
        },
        animateRotate: function($elem, angle, duration, start, classe, ele) {
            $({
                deg: start
            }).animate({
                deg: angle
            }, {
                duration: duration,
                step: function(now) {
                    $elem.css({
                        transform: 'rotate(' + now + 'deg)' + (classe == 'cover' || ele == 'dealer' ? ' rotateY(180deg)' : '')
                    });
                }
            });
        },
        addCard: function(ele, classe, fast, num, delayDrop) {
            if (typeof num === 'undefined') return;
            var blackjack_right = $(".blackjack-right");
            var rotate;
            var left;
            var elem = $("#" + ele + "Card" + num.index);
            if (num.all % 2 == 0) {
                if (num.index + 1 > num.all / 2) {
                    left = (num.index - num.all / 2) * 130 - 10;
                    rotate = 7;
                } else {
                    left = (num.all / 2 - num.index) * -130 + 10;
                    rotate = -7;
                }
            } else {
                if (num.all - Math.floor(num.all / 2) == num.index + 1) {
                    left = -60;
                    rotate = 0;
                } else if (num.index + 1 > num.all / 2) {
                    left = (num.index - Math.ceil(num.all / 2)) * 124 + 57;
                    rotate = 7;
                } else {
                    left = (num.all / 2 - num.index) * -124 + 8;
                    rotate = -7;
                }
            }
            left = blackjack_right.width() / 2 + left + 'px';
            if (elem.length && elem.attr('class') == 'card card-cover' && classe != 'cover') {
                $(".card-cover").transition({
                    left: left,
                    duration: 500,
                    top: rotate == 0 ? '-42px' : '-30px',
                    rotate: rotate + 'deg'
                });
                setTimeout(function() {
                    $(".card-cover").removeClass('card-cover').addClass('card-' + classe);
                }, 125);
                return;
            }
            if (elem.length) {
                this.animateRotate(elem, rotate, 600, parseInt(elem.attr('rotate')), classe, ele);
                elem.removeClass("middle").animate({
                    left: left
                }, 300).attr('rotate', rotate);
                if (ele == 'dealer') {
                    elem.animate({
                        top: rotate == 0 ? '-42px' : '-30px'
                    }, 200);
                } else {
                    elem.animate({
                        bottom: rotate == 0 ? '-15px' : '-30px'
                    }, 200);
                }
            } else {
                elem = $("<div id='" + ele + "Card" + num.index + "' class='card card-" + classe + "'></div>").appendTo(ele === 'player' ? this._playerCardsArea : this._dealerCardsArea).css({
                    left: left,
                    transform: 'rotate(' + rotate + 'deg)' + (classe == 'cover' || ele == 'dealer' ? ' rotateY(180deg)' : '')
                }).attr('rotate', rotate);
            }
            if (fast) {
                if (ele === 'player') {
                    elem.css({
                        bottom: blackjack_right.height() / 2,
                        left: blackjack_right.width() + 400
                    }).delay(delayDrop).animate({
                        bottom: rotate == 0 ? '-15px' : '-30px',
                        left: left
                    }, 300);
                } else {
                    elem.css({
                        top: blackjack_right.height() / -2,
                        left: blackjack_right.width() + 400
                    }).delay(delayDrop).animate({
                        top: rotate == 0 ? '-42px' : '-30px',
                        left: left
                    }, 300);
                }
            }
            if (rotate == 0) elem.addClass('middle');
        },
        updateDisplay: function(sound, end, result, force) {
            var self = this;
            if (this._stage === 'play' || force) {
                var pointsToDisplay;
                this.updatePoints('user');
                var delayDrop = 0,
                    dealerCover = false;
                for (var i = 0; i < Math.max(this._playerCards.length, this._dealerCards.length); i++) {
                    var fast = false,
                        card;
                    if (typeof this._playerCards[i] !== 'undefined') {
                        card = this._playerCards[i];
                        if (i > this._playerCardIndex) {
                            fast = true;
                            this._playerCardIndex = i;
                        }
                        this.addCard('player', card.value + ' ' + card.symbol, fast, {
                            all: this._playerCards.length,
                            index: i
                        }, delayDrop);
                        if (fast) delayDrop += 400;
                    }
                    if (typeof this._dealerCards[i] !== 'undefined') {
                        fast = false;
                        card = this._dealerCards[i];
                        if (i > this._dealerCardIndex) {
                            fast = true;
                            this._dealerCardIndex = i;
                        }
                        this.addCard('dealer', card.value + ' ' + card.symbol, fast, {
                            all: Math.max(this._dealerCards.length, 2),
                            index: i
                        }, delayDrop);
                        if (fast) delayDrop += 400;
                    } else if (!dealerCover && this._dealerCards.length === 1) {
                        fast = false;
                        if (i > this._dealerCardIndex) {
                            fast = true;
                            this._dealerCardIndex = i;
                        }
                        this.addCard('dealer', 'cover', fast, {
                            all: 2,
                            index: i
                        }, delayDrop);
                        if (fast) delayDrop += 700;
                        dealerCover = true;
                    }
                }
                if (self._playerPoints >= 21) self._waitForDealer = true;
                let pointsToDisplayText;
                if (self._playerPoints > 21) {
                    pointsToDisplayText = T('Busted') + '!';
                } else if (self._playerPointsAlternative !== self._playerPoints && self._playerPoints !== 21) {
                    pointsToDisplayText = self._playerPointsAlternative + ' / ' + self._playerPoints;
                } else {
                    pointsToDisplayText = self._playerPoints;
                }
                self._playerPointsDisplay.text(pointsToDisplayText);
                self.updatePoints('dealer');
                pointsToDisplay = self._dealerPoints;
                if (pointsToDisplay > 21) pointsToDisplay = T('Busted') + '!';
                self._dealerPointsDisplay.text(pointsToDisplay);
                if (end) {
                    if (result === 'win') {
                        if (self._playerCards.length === 2 && self._dealerCards.length === 2 && self._playerPoints === 21) {
                            setTimeout(function() {
                                $('.game').addClass('blackjack');
                                sounds.win.play();
                            }, 200);
                        }
                        self._resultDisplay.addClass('win').text(T('You won') + '!').fadeIn(500);
                    } else if (result === 'lose') {
                        self._resultDisplay.addClass('lose').text(T('You lost') + '!').fadeIn(500);
                    } else {
                        self._resultDisplay.text(T('Push!')).fadeIn(500);
                    }
                    setTimeout(function() {
                        self.gameRestart();
                    }, 3000);
                }
            }
            if (sound) {
                sounds.card.play();
            }
        },
        gameRestart: function() {
            this._playerCardsArea.empty(0);
            this._dealerCardsArea.empty(0);
            this._playerCardIndex = this._dealerCardIndex = -1;
            sounds.shuffle.play();
            $('.game').removeClass('blackjack');
            this._resultDisplay.hide().removeClass('win lose');
            this._gameHash.text('');
            this._gameHash.parent().hide();
            this._playerCards = [];
            this._playerPoints = 0;
            this._playerPointsAlternative = 0;
            this._dealerCards = [];
            this._dealerPoints = 0;
            this._waitForDealer = false;
            this.updateDisplay(false, false, false, true);
            this.switchStage('deal');
        },
        switchStage: function(stage) {
            if (stage && stage !== this._stage) {
                if (stage === 'play') {
                    this._dealButtons.hide();
                    this._playerChipsArea.hide();
                    this._userArea.removeClass('board');
                    this._playButtons.show();
                    this._pointsDisplay.show();
                    this._dealerCardsArea.show();
                    this._playerCardsArea.show();
                    $(".chips-table-inside [class*='chips-']").animate({
                        left: '70px',
                        bottom: '150px',
                        opacity: 0
                    }, 300);
                    this._stage = 'play';
                } else if (stage === 'deal') {
                    this._userArea.addClass('board');
                    this._playButtons.hide();
                    this._pointsDisplay.hide();
                    this._dealerCardsArea.hide();
                    this._playerChipsArea.show();
                    this._playerCardsArea.hide();
                    this._dealButtons.show();
                    this._stage = 'deal';
                }
            } else {
                if (this._stage === 'play') {
                    this.switchStage('deal');
                } else if (this._stage === 'deal') {
                    this.switchStage('play');
                }
            }
        },
        addLastGame: function(player, value) {
            if (blackjack._lastGames.children().length >= 20) blackjack._lastGames.children().last().remove();
            $('<div class="game-info"><div class="game-inner"><img class="avatar-img" src="' + player.avatar + '"><div class="user">' + player.username + '</div><div class="value ' + (value >= 0 ? 'win' : 'lose') + '">' + (value >= 0 ? '+' : '-') + parseInt(Math.abs(value)).parseValue() + '</div></div></div>').hide().prependTo(blackjack._lastGames).fadeIn(500);
        },
        /**
         * Depreciated
         * @param fast
         */
        toggle: function(fast) {
            if (typeof fast !== 'boolean') fast = false;
            if (this._hidden) {
                if (fast) {
                    $('.blackjack').css({
                        paddingLeft: 350
                    });
                } else {
                    $('.blackjack').animate({
                        paddingLeft: 350
                    });
                }
                blackjack._toggleButton.addClass('leftArrow');
                localStorage.setItem("blackjack", "show");
                this._hidden = false;
            } else {
                if (fast) { // $('.blackjack').css({paddingLeft: 0});
                } else {
                    $('.blackjack').animate({
                        paddingLeft: 0
                    });
                }
                blackjack._toggleButton.removeClass('leftArrow');
                localStorage.setItem("blackjack", "hide");
                this._hidden = true;
            }
        }
    };
    blackjack._toggleButton.on('click', function() {
        blackjack.toggle(false);
    });
    if (localStorage.getItem("blackjack") === "hide") {
        blackjack.toggle(true);
    }
    let cardsToPreload = ['cover2.png', 'spades.png', 'hearts.png', 'diamonds.png', 'clubs.png'];
    cardsToPreload.forEach(function(img) {
        new Image().src = '/assets/www/img/cards/' + img;
    });
    $('.coin').click(function() {
        sounds.tap.play();
        let value = $(this).data('value');
        if (!isNaN(parseFloat(value))) {
            if (user.currency === 'usd') {
                value = value / 1000;
            }
            value = parseFloat(value.toFixed(4));
        }
        blackjack.addChips(value);
        let dealValue = $('input[name="amount"]').val();
        $('.deal-value').text(dealValue);
    });
    $('.coin.format').each(function() {
        let value = $(this).data('value').formatCurrency();
        $('.inner', this).html(value.replace(/,000/, 'k').replace(/\.00/, ''));
    });
    $('.buttons').on('click', 'button', function() {
        sounds.button.play();
        if (blackjack._waitForDealer) return;
        switch ($(this).data('action')) {
            case 'deposit':
                blackjack._waitForDealer = true;
                let amount = parseFloat(blackjack._dealValue.val());
                if (user.currency === 'usd') {
                    amount *= 1000;
                }
                amount = parseInt(amount);
                if (user.balance === amount && Cookies.get('allIn') === 'false') {
                    $.popup('<div id="allIn" class="content"><h1>Are you sure you want to bet all your balance?</h1><br /><input type="submit" class="btn btn-accept accept" value="Yes" /><input type="submit" class="btn btn-decline decline" value="No" /></div>');
                    $('.btn-accept').click(function() {
                        service['socket'].send({
                            service: 'blackjack',
                            cmd: 'deposit',
                            amount: amount
                        });
                        $('.popup').close();
                        return true;
                    });
                    $('.btn-decline').click(function() {
                        $('.popup').close();
                        return false;
                    });
                    return false;
                } else {
                    service['socket'].send({
                        service: 'blackjack',
                        cmd: 'deposit',
                        amount: amount
                    });
                    return false;
                }
                break;
            case 'hit':
                blackjack._waitForDealer = true;
                service['socket'].send({
                    service: 'blackjack',
                    cmd: 'hit'
                });
                break;
            case 'stand':
                service['socket'].send({
                    service: 'blackjack',
                    cmd: 'end'
                });
                break;
            case 'double down':
                blackjack._waitForDealer = true;
                service['socket'].send({
                    service: 'blackjack',
                    cmd: 'double-down'
                });
                break;
        }
    });
    service['blackjack'].init();
}
"use strict";
if ($('#roulette').length > 0) {
    service['roulette'] = {
        timeout: 2000,
        states: {
            'CONNECTING': T('Connecting') + '...',
            'PREPARE': T('Preparing round') + '...',
            'DRAW': T('Drawing') + '!',
            'WINNER': T('Winner') + ': <span class="color"></span>',
            'ROUND': T('Preparing round') + '...',
            'COUNTDOWN': T('Rolling in') + ' <span class="countdown"></span>'
        },
        container: $('#roulette'),
        input: $('input[name="amount"]', this.container),
        state: 'CONNECTING',
        start: null,
        timer: null,
        width: $('.roll').width(),
        coin_width: 75,
        yours: {
            red: 0,
            green: 0,
            black: 0
        },
        summary: {
            red: [],
            green: [],
            black: []
        },
        bets: [],
        open: function() {
            if (this.state !== 'CONNECTING') {
                return false;
            }
            service['socket'].send({
                service: 'roulette',
                cmd: 'join'
            });
            setTimeout(this.open.bind(this), this.timeout);
            this.timeout *= 2;
        },
        close: function() {
            if (this.state === 'CONNECTING') {
                return false;
            }
            this.state = 'CONNECTING';
            this.updateState();
            this.round();
            this.open();
        },
        init: function() {
            let input = this.input;
            let that = this;
            if (user.theme === 'new') {
                this.coin_width = 100;
            }
            this.centerize();
            this.updateState();
            $(window).resize(function() {
                let width = $('.roll').width();
                let change = (that.width - width) / 2;
                that.width = width;
                $('.roll .items', that.container).css({
                    backgroundPositionX: '-=' + change
                });
            });
            $('.btn-bet', this.container).click(function() {
                sounds.button.play();
                let color = $(this).parents('.color').data('color');
                let amount = parseFloat(input.val());
                if (isNaN(amount)) {
                    return $.notify(T('Wrong amount'), 'error');
                }
                if (amount < bet_range[0]) {
                    return $.notify(T('Minimum bet amount is %d', bet_range[0]), 'error');
                }
                if (amount > Math.min(user.balance, bet_range[1])) {
                    return $.notify(T('Maximum bet amount is %d', Math.min(user.balance, bet_range[1])), 'error');
                }
                if (user.currency === 'usd') {
                    amount *= 1000;
                }
                amount = parseInt(amount);
                if (user.balance === amount && Cookies.get('allIn') === 'false') {
                    $.popup('<div id="allIn" class="content"><h1>Are you sure you want to bet all your balance?</h1><br /><input type="submit" class="btn btn-accept accept" value="Yes" /><input type="submit" class="btn btn-decline decline" value="No" /></div>');
                    $('.btn-accept').click(function() {
                        service['socket'].send({
                            service: 'roulette',
                            cmd: 'deposit',
                            color: color,
                            amount: amount
                        });
                        input.trigger('change');
                        $('.popup').close();
                        return true;
                    });
                    $('.btn-decline').click(function() {
                        $('.popup').close();
                        return false;
                    });
                    return false;
                } else {
                    service['socket'].send({
                        service: 'roulette',
                        cmd: 'deposit',
                        color: color,
                        amount: amount
                    });
                    input.trigger('change');
                    return false;
                }
            });
            $('.show-bets').click(function() {
                $('body').addClass('show-bets');
                $(this).parent().next('.list').addClass('opened');
            });
        },
        bet: function(bet, recalculate) {
            bet.amount = parseInt(bet.amount);
            let $container = $('.color[data-color="' + bet.color + '"]');
            if (bet.amount >= 20) {
                let $list = $('.list', $container);
                let tpl = $(tmpl('roulette-bet-tpl', bet)).css({
                    opacity: 0
                });
                $list.append(tpl);
                $('.profile', $list).sort(sortByDataSort).appendTo($list);
                tpl.animate({
                    opacity: 1
                }, 200);
            }
            if (bet.steam_id === user.steam_id) {
                this.yours[bet.color] += parseInt(bet.amount);
                $container.find('.your .value').stop(true, true).animateNumber({
                    number: this.yours[bet.color],
                    numberStep: currencyStep
                });
            }
            this.summary[bet.color].push(bet.amount);
            if (recalculate !== false) {
                this.recalculate($container);
            }
        },
        recalculate: function($container) {
            let color = $container.data('color');
            $('.sum .counter', $container).stop(true, true).animateNumber({
                number: this.summary[color].length,
                numberStep: numberStep
            }, 20);
            $('.sum .value', $container).stop(true, true).animateNumber({
                number: arraySum(this.summary[color]),
                numberStep: currencyStep
            }, 20);
        },
        checker: function() {
            if (this.state !== 'COUNTDOWN') {
                return false;
            }
            let timer = this.start + this.timer - Date.now();
            let value = (timer / this.config.timer * 100).toFixed(1);
            if (timer <= 0) {
                timer = 0;
                value = 0;
            }
            $('.countdown', this.container).text((timer / 1000).toFixed(2));
            $('.timer .status', this.container).css('width', value + '%');
            if (timer > 0) {
                setTimeout(this.checker.bind(this), 10);
            }
        },
        history(data) {
            $('<div class="coin ' + data.color + '" title="' + data.id + ': ' + data.hash + '">' + data.value + '</div>').appendTo('.history .list').tooltipster({
                theme: 'tooltipster-light',
                animation: 'grow',
                delay: 0
            });
            if ($('.history:eq(0) .coin').length > 10) {
                $('.history .coin:eq(0)').remove();
            }
        },
        centerize: function() {
            let roulette_width = this.coin_width * 15;
            let container_width = $('.items', this.container).width();
            return $('.roll .items', this.container).stop(true).css({
                backgroundPositionX: roulette_width / 2 - container_width / 2 * -1
            });
        },
        draw: function(data) {
            sounds.roulette.play();
            let positions = [1, 14, 2, 13, 3, 12, 4, 0, 11, 5, 10, 6, 9, 7, 8];
            let coin_position = positions.indexOf(parseInt(data.value)) - 7;
            let el_width = this.coin_width;
            if (data.shift > 90) {
                data.shift = 90;
            }
            if (data.shift < -90) {
                data.shift = -90;
            }
            let shift = data.shift / 100 * (el_width / 2);
            let animation = el_width * (Math.floor(data.timer / 1000) * 15 + coin_position) + shift;
            let that = this;
            this.centerize().animate({
                backgroundPositionX: '-=' + animation
            }, data.timer, $.bez([.06, .79, 0, 1]), function() {
                that.history(data);
            });
            setTimeout(function() {
                that.state = 'WINNER';
                that.updateState();
                sounds.rouletteend.play();
            }, data.timer - 250);
            $('.timer .status', this.container).css('width', 0);
        },
        round: function(data) {
            this.built = false;
            this.items = [];
            this.bets = [];
            this.yours = {
                red: 0,
                green: 0,
                black: 0
            };
            this.summary = {
                red: [],
                green: [],
                black: []
            };
            this.amount = 0;
            this.start = null;
            this.hash = '';
            $('.color').removeClass('win lose');
            /**
            				@mobile-changes
            			 */ // $('.color .list', this.container).html('');
            $('.profile', this.container).remove();
            $(this.container).removeClass('round countdown draw winner');
            $('.your .value', this.container).stop(true, true).animateNumber({
                number: 0,
                numberStep: currencyStep
            });
            $('.bets .sum .value', this.container).stop(true, true).animateNumber({
                number: 0,
                numberStep: currencyStep
            });
            $('.bets .sum .counter', this.container).stop(true, true).animateNumber({
                number: 0,
                numberStep: numberStep
            });
            this.container.addClass('round');
        },
        countdown: function(data) {
            this.start = Date.now();
            this.container.addClass('countdown');
            this.checker();
        },
        info: function(data) {
            this.state = data.state;
            this.id = data.id;
            if (data.hash) {
                this.hash = data.hash;
            }
            if (data.secret) {
                this.secret = data.secret;
            }
            if (data.value) {
                this.value = data.value;
            }
            if (data.timer) {
                this.timer = data.timer;
            }
            if (data.value) {
                this.value = data.value;
            }
            if (data.color) {
                this.color = data.color;
            }
            if (data.multiplier) {
                this.multiplier = data.multiplier;
            }
            if (data.config) {
                this.config = data.config;
                setBetRange(data.config);
            }
            if (data.history) {
                for (let i in data.history) {
                    this.history(data.history[i]);
                }
            }
            if (data.bets) {
                for (let i in data.bets) {
                    this.bet(data.bets[i], false);
                }
                let that = this;
                $('.colors .color').each(function() {
                    that.recalculate($(this));
                });
            }
            this.updateState();
            $('.hash', this.container).text(data.hash);
            if (data.state === 'ROUND') {
                this.round(data);
            } else if (data.state === 'COUNTDOWN') {
                this.countdown(data);
            } else if (data.state === 'DRAW') {
                this.draw(data);
            } else if (data.state === 'WINNER') {
                this.winner(data);
            }
        },
        winner(data) {
            let that = this;
            $('.colors .color').each(function() {
                let sum = 0;
                let bet = 0;
                if ($(this).data('color') === that.color) {
                    sum = arraySum(that.summary[that.color]) * that.multiplier;
                    bet = that.yours[that.color] * that.multiplier;
                    $(this).addClass('win');
                } else {
                    $(this).addClass('lose');
                    sum = arraySum(that.summary[$(this).data('color')]) * -1;
                    bet = that.yours[$(this).data('color')] * -1;
                }
                $('.sum .value', this).stop(true, true).animateNumber({
                    number: sum,
                    numberStep: currencyStepSign
                }, 20);
                $('.your .value', this).stop(true, true).animateNumber({
                    number: bet,
                    numberStep: currencyStepSign
                }, 20);
            });
        },
        updateState() {
            $('.message', this.container).html(this.states[this.state]);
            if (this.state === 'WINNER') {
                $('.message .color', this.container).text(T(this.color));
            }
        }
    };
    service['roulette'].init();
}
"use strict";
if ($('#russian').length > 0) {
    service['russian'] = {
        timeout: 2000,
        container: $('#russian'),
        state: 'CONNECTING',
        popup_container: '#russian-spectate',
        input: $('input[name="amount"]', this.container),
        games: {},
        animation: null,
        open: function() {
            if (this.state !== 'CONNECTING') {
                return false;
            }
            service['socket'].send({
                service: 'russian',
                cmd: 'join'
            });
            setTimeout(this.open.bind(this), this.timeout);
            this.timeout *= 2;
        },
        close: function() {
            if (this.state === 'CONNECTING') {
                return false;
            }
            $('.russian-games').html('');
            this.state = 'CONNECTING';
            this.open();
        },
        init: function() {
            let that = this;
            $('.side').click(function() {
                $('.side').removeClass('active');
                $(this).addClass('active');
                $('.btn-bet').removeClass('disabled');
            });
            let input = this.input;
            $('.btn-bet', this.container).click(function() {
                if ($(this).hasClass('disabled')) {
                    return false;
                }
                sounds.button.play();
                let color = $(this).parents('.color').data('color');
                let amount = parseFloat(input.val());
                if (isNaN(amount)) {
                    return $.notify(T('Wrong amount'), 'error');
                }
                if (amount < bet_range[0]) {
                    return $.notify(T('Minimum bet amount is %d', bet_range[0]), 'error');
                }
                if (amount > Math.min(user.balance, bet_range[1])) {
                    return $.notify(T('Maximum bet amount is %d', Math.min(user.balance, bet_range[1])), 'error');
                }
                if (user.currency === 'usd') {
                    amount *= 1000;
                }
                amount = parseInt(amount);
                if (user.balance === amount && Cookies.get('allIn') === 'false') {
                    $.popup('<div id="allIn" class="content"><h1>Are you sure you want to bet all your balance?</h1><br /><input type="submit" class="btn btn-accept accept" value="Yes" /><input type="submit" class="btn btn-decline decline" value="No" /></div>');
                    $('.btn-accept').click(function() {
                        service['socket'].send({
                            service: 'russian',
                            cmd: 'deposit',
                            side: $('.side.active').data('side'),
                            amount: amount
                        });
                        input.trigger('change');
                        $('.popup').close();
                        return true;
                    });
                    $('.btn-decline').click(function() {
                        $('.popup').close();
                        return false;
                    });
                    return false;
                } else {
                    service['socket'].send({
                        service: 'russian',
                        cmd: 'deposit',
                        side: $('.side.active').data('side'),
                        amount: amount
                    });
                    input.trigger('change');
                    return false;
                }
            });
            $('.russian-games').on('click', '.game', function() {
                $(this).find('.btn-spectate').trigger('click');
            });
            $('.russian-games').on('click', '.btn-spectate', function() {
                let id = $(this).parents('.russian-game').data('id');
                that.spectate(id);
                return false;
            });
            $('.russian-games').on('click', '.btn-join', function() {
                let id = $(this).parents('.russian-game').data('id');
                service['socket'].send({
                    service: 'russian',
                    cmd: 'counter',
                    id: id
                });
                return false;
            });
        },
        join: function(data) {
            this.state = 'OPEN';
            this.config = data.config;
            setBetRange(data.config);
            let that = this;
            data.games.forEach(function(game) {
                that.game(game);
            });
        },
        game: function(data) {
            let that = this;
            this.games[data.id] = data;
            if (data.owner.steam_id == user.steam_id) {
                that.spectate(data.id);
            }
            let tpl = $(tmpl('game-tpl', data)).hide().appendTo('.russian-games').fadeIn();
        },
        spectate: function(game_id) {
            if (this.spectating) {
                return false;
            }
            if (!this.games[game_id]) {
                $.notify(T('Game not found. Probably closed already.'));
                return;
            }
            $('.popup').remove();
            this.spectating = game_id;
            let game = this.games[game_id];
            $.popup(tmpl('spectate-tpl', game));
            this.updatePlayer(game.owner);
            $('.btn-close', this.popup_container).click(this.closeSpectate.bind(this));
            if (game.counter) {
                this.end(game);
            }
            let that = this;
        },
        updatePlayer(player) {
            let side = '.' + player.side;
            $(side + ' .username', this.popup_container).text(player.username);
            $(side + ' .avatar img', this.popup_container).attr('src', player.avatar);
            $(side, this.popup_container).data('steam_id', player.steam_id);
        },
        endSpectating: function(data) {
            let amount = this.games[data.id].amount * 2;
            $('.amount', this.popup_container).html(amount.formatCurrency(true));
            this.updatePlayer(data.counter);
            sounds.gunspin.play();
            let that = this;
            $('.bullet').fadeIn(function() {
                $(this).delay(200).fadeOut();
                $('.magazine').animate({
                    rotate: 360 * 4
                }, 1300, function() {
                    $(this).css({
                        rotate: 0
                    });
                    that.shot(1, data.value);
                });
            });
        },
        end: function(data) {
            if (!this.games[data.id]) {
                return false;
            }
            this.games[data.id] = $.extend({}, this.games[data.id], data);
            if (this.spectating === data.id) {
                this.endSpectating(data);
            }
            if (data.counter.steam_id == user.steam_id) {
                this.spectate(data.id);
            }
            let $game = $('.russian-game[data-id="' + data.id + '"]');
            let amount = this.games[data.id].amount * 2;
            $('.amount', $game).html(amount.formatCurrency(true));
            $('.counter .username', $game).text(data.counter.username);
            $('.counter .avatar img', $game).attr('src', data.counter.avatar);
            $('.counter .avatar', $game).removeClass('hidden');
            $('.btn-join', $game).remove();
            setTimeout(function() {
                if (data.value % 2 === 0) {
                    $('.profile.left', $game).addClass('killed');
                } else {
                    $('.profile.right', $game).addClass('killed');
                }
            }, 1500 * data.value);
            setTimeout(function() {
                $game.close();
                delete this.games[data.id];
            }, 30000);
        },
        shot: function(current, expect) {
            if (!this.spectating) {
                return;
            }
            let that = this;
            $('.magazine', that.popup_container).delay(50).animate({
                rotate: 360 / 6 * current
            });
            let rotation = -5;
            if (current % 2 === 0) {
                rotation = 5;
            }
            let $pistol = $('.pistol', that.popup_container).toggleClass('right').fadeIn(100).delay(150).animate({
                rotate: rotation
            }, 50).animate({
                rotate: 0
            }, 100);
            if (current === expect) {
                setTimeout(function() {
                    if (current % 2 === 0) {
                        $('.profile.left', that.popup_container).addClass('killed');
                        $('.profile.right', that.popup_container).addClass('winner');
                    } else {
                        $('.profile.right', that.popup_container).addClass('killed');
                        $('.profile.left', that.popup_container).addClass('winner');
                    }
                    if ($('.profile.winner', that.popup_container).data('steam_id') == user.steam_id) {
                        $('.status', that.popup_container).text(T('You won!'));
                        $('.amount', that.popup_container).addClass('green');
                    } else if ($('.profile.killed', that.popup_container).data('steam_id') == user.steam_id) {
                        $('.status', that.popup_container).text(T('You lost!'));
                        $('.amount', that.popup_container).addClass('red');
                    }
                }, 200);
                $('.bullet', that.popup_container).fadeIn();
                $('.magazine', that.popup_container).addClass('shot');
                sounds.gunshot.play();
            } else {
                sounds.gunempty.play();
                $pistol.delay(100).fadeOut(100);
                current++;
                that.animation = setTimeout(function() {
                    that.shot(current, expect);
                }, 1000);
            }
        },
        closeSpectate: function() {
            this.spectating = null;
            clearTimeout(this.animation);
            $('.popup').close();
        }
    };
    service['russian'].init();
}
"use strict";
if ($('#crash').length > 0) {
    service['crash'] = {
        states: {
            'CONNECTING': T('Connecting') + '...',
            'PREPARE': T('Preparing game') + '...',
            'COUNTDOWN': T('Preparing game') + '... <span class="value"></span>s',
            'CRASH': T('Crashed at') + '&nbsp;<span class="value"></span>x',
            'ROUND': '<span class="value">1.00</span>x'
        },
        currentStep: 1,
        currentMultiplier: 1,
        container: $('#crash'),
        input: $('input[name="amount"]', this.container),
        state: 'CONNECTING',
        start: null,
        timer: null,
        ticks: [],
        bets: [],
        amount: 0,
        base: 0,
        auto: 0,
        themes: {
            dark: ['#fa9300', '#222222', '#ff0200', 'green', 'red'],
            white: ['#fa9300', '#cecece', '#ff0200', 'green', 'red']
        },
        chartSettings: {},
        open: function() {
            if (this.state !== 'CONNECTING') {
                return false;
            }
            service['socket'].send({
                service: 'crash',
                cmd: 'join'
            });
            setTimeout(this.open.bind(this), 2000);
        },
        close: function() {
            this.container.removeClass('crash round');
            if (this.state === 'CONNECTING') {
                return false;
            }
            this.state = 'CONNECTING';
            this.updateState();
            this.open();
        },
        updateChart: function() {
            $.plot('#chart', [{
                data: this.ticks,
                lines: {
                    lineWidth: 2,
                    fill: true,
                    fillColor: 'rgba(28,28,28,0.6)'
                }
            }], this.chartSettings);
        },
        init: function() {
            this.chartSettings = {
                xaxis: {
                    show: false
                },
                yaxis: {
                    min: 1,
                    ticks: 5,
                    font: {
                        size: 11,
                        lineHeight: 13,
                        weight: "normal",
                        color: this.themes[user.theme_color][0]
                    },
                    tickFormatter: function(value) {
                        if (value == 1) return '';
                        return value.toFixed(1) + 'x';
                    }
                },
                colors: [],
                grid: {
                    borderColor: this.themes[user.theme_color][1],
                    borderWidth: {
                        top: 0,
                        right: 0,
                        left: 1,
                        bottom: 1
                    }
                }
            };
            this.title = document.title;
            this.updateState();
            let input = this.input;
            let that = this;
            $('.btn-bet', this.container).click(function() {
                let $parent = $(this).parent();
                if ($parent.hasClass('disabled') || $parent.hasClass('stop')) {
                    return false;
                }
                $parent.cooldown(700);
                sounds.button.play();
                if (that.amount > 0) {
                    if (that.state === 'ROUND') {
                        return service['socket'].send({
                            service: 'crash',
                            cmd: 'cashout'
                        });
                    }
                } else {
                    if (that.state !== 'COUNTDOWN') {
                        return false;
                    }
                    let cashout = $('input[name="cashout"]').val();
                    let amount = parseFloat(input.val());
                    if (isNaN(amount)) {
                        return $.notify(T('Wrong amount'), 'error');
                    }
                    if (amount < bet_range[0]) {
                        return $.notify(T('Minimum bet amount is %d', bet_range[0]), 'error');
                    }
                    if (amount > Math.min(user.balance, bet_range[1])) {
                        return $.notify(T('Maximum bet amount is %d', Math.min(user.balance, bet_range[1])), 'error');
                    }
                    if (user.currency === 'usd') {
                        amount *= 1000;
                    }
                    amount = parseInt(amount);
                    if (user.balance === amount && Cookies.get('allIn') === 'false') {
                        $.popup('<div id="allIn" class="content"><h1>Are you sure you want to bet all your balance?</h1><br /><input type="submit" class="btn btn-accept accept" value="Yes" /><input type="submit" class="btn btn-decline decline" value="No" /></div>');
                        $('.btn-accept').click(function() {
                            service['socket'].send({
                                service: 'crash',
                                cmd: 'deposit',
                                cashout: cashout,
                                amount: amount
                            });
                            input.trigger('change');
                            $('.popup').close();
                            return true;
                        });
                        $('.btn-decline').click(function() {
                            $('.popup').close();
                            return false;
                        });
                        return false;
                    } else {
                        service['socket'].send({
                            service: 'crash',
                            cmd: 'deposit',
                            cashout: cashout,
                            amount: amount
                        });
                        input.trigger('change');
                        return false;
                    }
                }
                return false;
            });
            $('.btn-auto').click(function() {
                let $parent = $(this).parent();
                $parent.toggleClass('active');
                $('.crash-auto').stop(true).slideToggle();
                if ($parent.hasClass('active')) {
                    $('span', this).text(T('hide'));
                } else {
                    $('span', this).text(T('show'));
                }
            });
            $('.btn-toggle-auto').click(function() {
                let $parent = $(this).parent();
                $parent.toggleClass('active');
                if ($parent.hasClass('active')) {
                    $('span', this).text('STOP');
                    that.base = parseInt(that.input.val());
                    that.auto = 1;
                } else {
                    $('span', this).text('START');
                    that.auto = 0;
                }
            });
            this.updateChart();
            $('.box-bet').each(function() {
                let that = this;
                $('.tabs-buttons div', that).click(function() {
                    $('.tabs-buttons div', that).removeClass('active');
                    $(this).addClass('active');
                    let index = $('.tabs-buttons div', that).index(this);
                    $('.tab', that).hide().eq(index).prepend($('.g-input-field')).show();
                    return false;
                }).eq(0).trigger('click');
            });
        },
        tick: function(data) {
            if (!this.start) {
                return;
            }
            let localMultiplier = parseFloat(this.currentMultiplier).toFixed(2);
            let that = this;
            /*cancelAnimationFrame(this.animation);
            			this.animation = requestAnimationFrame(function () {
            				that.drawMultiplier(data.tick);
            			});*/
            if (this.state === 'ROUND') {
                let diff = parseFloat(localMultiplier - data.tick).toFixed(2);
                if (diff > 0.01 || diff < -0.01) { //console.log('DESYNC', diff);
                    this.start = Date.now() - Math.log(data.tick) / (Math.log(Math.E) * this.config.step);
                }
            }
        },
        riser: function() {
            let time = Date.now() - this.start;
            let multiplier = Math.pow(Math.E, time * this.config.step);
            let that = this;
            $('.message .value', this.container).text(multiplier.toFixed(2));
            this.updateTitle();
            cancelAnimationFrame(this.animation);
            this.animation = requestAnimationFrame(function() {
                that.drawMultiplier(multiplier);
            });
        },
        addPoint: function() {
            this.currentStep++;
            this.currentMultiplier = Math.pow(Math.E, this.config.step * this.currentStep * this.config.tick);
            this.ticks.push([this.currentStep, this.currentMultiplier]);
        },
        drawMultiplier: function(multiplier) {
            if (this.state !== 'ROUND') {
                return;
            }
            let tick = this.growthFunc(Date.now() - this.start) / 100;
            while (this.currentMultiplier < multiplier) {
                this.addPoint();
            }
            this.chartSettings.yaxis.max = Math.max(2, tick);
            this.chartSettings.xaxis.max = Math.max(Math.floor(this.inverseGrowth(1.8) / this.config.tick), this.ticks.length);
            this.chartSettings.colors[0] = this.themes[user.theme_color][0];
            this.updateChart();
            if (this.amount > 0) {
                $('.btn-bet .value').html(Math.floor(this.amount * tick).formatCurrency());
            }
        },
        bet: function(bet) {
            bet.amount = parseInt(bet.amount);
            let $list = $('#bets-list');
            let tpl = $(tmpl('bet-tpl', bet)).css({
                opacity: 0
            });
            $list.append(tpl);
            $('tr', $list).sort(sortByDataSort).appendTo($list);
            tpl.animate({
                opacity: 1
            }, 200);
            if (!bet.profit && bet.steam_id === user.steam_id) {
                this.amount = bet.amount;
                $('.btn-bet', this.container).html('Cashout <span class="value">' + this.amount.formatCurrency() + '</span>').parent().removeClass('stop');
            }
        },
        cashout: function(bet) {
            bet.cashout = parseFloat(bet.cashout);
            let $bet = $('tr[data-steam_id="' + bet.steam_id + '"]', '#bets-list');
            $('.multiplier', $bet).text(bet.cashout.toFixed(2));
            $('.profit', $bet).html((bet.profit - bet.amount).formatCurrency());
            $bet.addClass('win');
            if (bet.steam_id === user.steam_id) {
                $('.btn-bet', this.container).text(T('Waiting for next game')).parent().addClass('stop');
                this.win = true;
                this.amount = 0;
            }
        },
        updateTitle: function() {
            document.title = $('.message', this.container).text() + ' | ' + this.title;
        },
        crash: function(data) {
            this.drawMultiplier(data.value);
            this.container.addClass('lose');
            clearInterval(this.interval);
            $('tr:not(.win)', '#bets-list').each(function() {
                $(this).addClass('lose');
                $('.multiplier', this).text('-');
                $('.profit', this).html(parseInt($(this).data('amount') * -1).formatCurrency());
            });
            this.chartSettings.colors[0] = this.themes[user.theme_color][2];
            $('.message .value', this.container).text(data.value.toFixed(2));
            this.updateChart();
            this.updateTitle();
            $('.btn-bet', this.container).text(T('Crashed') + '!').addClass('disabled');
            this.history(data);
        },
        checker: function() {
            if (this.state !== 'COUNTDOWN') {
                return false;
            }
            let timer = this.start + this.timer - Date.now();
            let value = (timer / this.config.timer * 100).toFixed(1);
            if (timer <= 0) {
                timer = 0;
                value = 0;
            }
            $('.countdown', this.container).text((timer / 1000).toFixed(1));
            $('.timer .status', this.container).css('width', value + '%');
            if (timer > 0) {
                setTimeout(this.checker.bind(this), 100);
            }
        },
        history(game) {
            if (game.value > 2) {
                game.color = this.themes[user.theme_color][3];
            }
            if (game.value < 1.8) {
                game.color = this.themes[user.theme_color][4];
            }
            let tpl = $(tmpl('history-tpl', game));
            $('#history-list').prepend(tpl);
            $('#history-list tr:eq(15)').remove();
        },
        notify(id, amount) {
            $.notify('Congratulations! You won %s', amount.formatCurrency(), {
                className: 'big'
            });
        },
        round: function(data) {
            if (this.amount === 0) {
                $('.btn-bet', this.container).text(T('Waiting for next game')).parent().addClass('stop');
            }
            this.start = Date.now() - data.elapsed;
            this.container.addClass('round');
            this.interval = setInterval(this.riser.bind(this), this.config.tick);
        },
        countdown: function(data) {
            this.container.addClass('countdown');
            let start = Date.now();
            let that = this;
            let timer = function() {
                if (that.state !== 'COUNTDOWN') {
                    return;
                }
                let elapsed = Date.now() - start;
                let value = that.timer - elapsed;
                if (value < 0) {
                    value = 0;
                }
                $('.message .value').text((value / 1000).toFixed(1));
                that.updateTitle();
                if (value > 0) {
                    setTimeout(timer, 100);
                }
            };
            timer();
            if (this.auto > 0) {
                this.autobetting();
            }
        },
        info: function(data) {
            this.state = data.state;
            this.id = data.id;
            if (data.elapsed) {
                this.elapsed = data.elapsed;
            }
            if (data.hash) {
                this.hash = data.hash;
            }
            if (data.timer) {
                this.timer = data.timer;
            }
            if (data.config) {
                setBetRange(data.config);
                $('.bet .minimum').html(data.config.betMin.formatCurrency());
                $('.bet .maximum').html(data.config.betMax.formatCurrency());
                this.config = data.config;
            }
            if (data.history) {
                for (let i in data.history) {
                    this.history(data.history[i]);
                }
            }
            $('.hash', this.container).text(data.hash);
            this.updateState();
            if (data.state === 'PREPARE') {
                this.prepare();
            } else if (data.state === 'COUNTDOWN') {
                this.countdown(data);
            } else if (data.state === 'ROUND') {
                this.round(data);
            } else if (data.state === 'CRASH') {
                this.crash(data);
            }
            if (data.bets) {
                for (let i in data.bets) {
                    this.bet(data.bets[i], false);
                }
            }
        },
        updateState() {
            $('.message', this.container).html(this.states[this.state]);
            this.updateTitle();
        },
        growthFunc(ms) {
            let r = 0.00006;
            return 100 * Math.pow(Math.E, r * ms);
        },
        inverseGrowth(result) {
            return Math.log(result) / Math.log(Math.E) / this.config.step;
        },
        autobetting: function() {
            console.log('Autobetting!');
            if (this.auto === 2) {
                let field = this.win ? 'win' : 'lose';
                console.log('Last result: ' + field);
                let mode = parseInt($('input[name="' + field + '"]:checked').val());
                console.log('Mode: ' + mode);
                if (mode === 0) {
                    this.input.val(this.base);
                } else {
                    let multiplier = parseFloat($('input[name="' + field + '-multiplier"]').val());
                    this.input.val(parseInt(this.input.val()) * multiplier).trigger('change');
                }
            }
            this.auto = 2;
            $('.btn-bet').trigger('click');
            this.win = false;
        },
        prepare: function() {
            this.bets = [];
            this.ticks = [];
            this.amount = 0;
            this.elapsed = 0;
            this.start = null;
            this.currentMultiplier = 1;
            this.currentStep = 1;
            this.updateChart();
            this.hash = '';
            $('#bets-list').html('');
            $('.btn-bet', this.container).text(T('Place bet')).parent().removeClass('disabled stop');
            $(this.container).removeClass('round lose');
        }
    };
    service['crash'].init();
}
"use strict";
if ($('#dice').length > 0) {
    service['dice'] = {
        _dice: $('#box'),
        container: $('#dice'),
        _toggleButton: $('.toggle-dice'),
        _hidden: false,
        input: $('input[name="amount"]', this.container),
        state: 'CONNECTING',
        open: function() {
            if (this.state !== 'CONNECTING') {
                return false;
            }
            service['socket'].send({
                service: 'dice',
                cmd: 'join'
            });
            setTimeout(this.open.bind(this), 2000);
        },
        close: function() {
            this.container.removeClass('dice round');
            if (this.state === 'CONNECTING') {
                return false;
            }
            this.state = 'CONNECTING';
            this.open();
        },
        init: function() {
            let input = this.input;
            let that = this;
            $('.btn-bet', this.container).click(function() {
                sounds.button.play();
                if (that.state !== 'OPEN') {
                    return false;
                }
                let option = $(this).data('option');
                let amount = parseFloat(input.val());
                if (isNaN(amount)) {
                    return $.notify(T('Wrong amount'), 'error');
                }
                if (amount < bet_range[0]) {
                    return $.notify(T('Minimum bet amount is %d', bet_range[0]), 'error');
                }
                if (amount > Math.min(user.balance, bet_range[1])) {
                    return $.notify(T('Maximum bet amount is %d', Math.min(user.balance, bet_range[1])), 'error');
                }
                if (user.currency === 'usd') {
                    amount *= 1000;
                }
                amount = parseInt(amount);
                if (user.balance === amount && Cookies.get('allIn') === 'false') {
                    $.popup('<div id="allIn" class="content"><h1>Are you sure you want to bet all your balance?</h1><br /><input type="submit" class="btn btn-accept accept" value="Yes" /><input type="submit" class="btn btn-decline decline" value="No" /></div>');
                    $('.btn-accept').click(function() {
                        service['socket'].send({
                            service: 'dice',
                            cmd: 'deposit',
                            option: option,
                            amount: amount
                        });
                        input.trigger('change');
                        $('.popup').close();
                        return true;
                    });
                    $('.btn-decline').click(function() {
                        $('.popup').close();
                        return false;
                    });
                    return false;
                } else {
                    service['socket'].send({
                        service: 'dice',
                        cmd: 'deposit',
                        option: option,
                        amount: amount
                    });
                    input.trigger('change');
                    return false;
                }
            });
        },
        diceRoll: function(bet, again) {
            let rotateXnow = this._dice.data('rotatex');
            let rotateYnow = this._dice.data('rotatey');
            again = again || 4;
            if (again > 1) {
                rotateXnow = rotateXnow + 270;
                rotateYnow = rotateYnow + 270;
                this._dice.css("transform", "rotateX(" + rotateXnow + "deg) rotateY(" + rotateYnow + "deg)").data('rotatex', rotateXnow).data('rotatey', rotateYnow);
                setTimeout(this.diceRoll.bind(this), 500, bet, again - 1);
            } else {
                let rotate = {
                    1: {
                        x: 270,
                        y: 0,
                        n: 6
                    },
                    2: {
                        x: 0,
                        y: 0,
                        n: 4
                    },
                    3: {
                        x: 0,
                        y: 270,
                        n: 5
                    },
                    4: {
                        x: 0,
                        y: 180,
                        n: 2
                    },
                    5: {
                        x: 0,
                        y: 90,
                        n: 3
                    },
                    6: {
                        x: 90,
                        y: 180,
                        n: 1
                    }
                };
                let rotateX = Math.ceil(rotateXnow / 360) * 360 + parseInt(rotate[bet.value].x);
                let rotateY = Math.ceil(rotateYnow / 360) * 360 + parseInt(rotate[bet.value].y);
                this._dice.css("transform", "rotateX(" + rotateX + "deg) rotateY(" + rotateY + "deg)").data('rotatex', rotateX).data('rotatey', rotateY);
                let that = this;
                setTimeout(function() {
                    that.state = 'OPEN';
                }, 1500);
            }
        },
        result: function(bet) {
            this.state = 'ROLLING';
            $('.hash').text(bet.hash);
            this.diceRoll(bet);
            sounds.dice.play();
            setTimeout(function() {
                if (bet.profit > 0) {
                    $.notify(T('Congratulations! You won %s', bet.profit.formatCurrency()), {
                        className: 'big'
                    });
                } else {
                    $.notify(T('You lost :('), 'error');
                }
            }, 2000);
        },
        history: function(bet) {
            $('#bets-list tr').slice(14, 15).remove();
            $(tmpl('history-tpl', bet)).css({
                opacity: 0
            }).prependTo('#bets-list').animate({
                opacity: 1
            }, 200);
        },
        info: function(data) {
            this.state = 'OPEN';
            if (data.config) {
                this.config = data.config;
                setBetRange(data.config);
            }
            for (let i in data.history) {
                this.history(data.history[i]);
            }
        }
    };
    service['dice'].init();
}
"use strict";
if ($('#coinflip').length > 0) {
    service['coinflip'] = {
        container: $('#coinflip'),
        _coinflip: $('.flip', this.container),
        input: $('input[name="amount"]', this.container),
        state: 'CONNECTING',
        open: function() {
            if (this.state !== 'CONNECTING') {
                return false;
            }
            service['socket'].send({
                service: 'coinflip',
                cmd: 'join'
            });
            setTimeout(this.open.bind(this), 2000);
        },
        close: function() {
            this.container.removeClass('coinflip round');
            if (this.state === 'CONNECTING') {
                return false;
            }
            this.state = 'CONNECTING';
            this.open();
        },
        init: function() {
            let input = this.input;
            let that = this;
            $('.btn-bet', this.container).click(function() {
                sounds.button.play();
                if (that.state !== 'OPEN') {
                    return false;
                }
                let option = $(this).data('option');
                let amount = parseFloat(input.val());
                if (isNaN(amount)) {
                    return $.notify(T('Wrong amount'), 'error');
                }
                if (amount < bet_range[0]) {
                    return $.notify(T('Minimum bet amount is %d', bet_range[0]), 'error');
                }
                if (amount > Math.min(user.balance, bet_range[1])) {
                    return $.notify(T('Maximum bet amount is %d', Math.max(bet_range[0], Math.min(user.balance, bet_range[1]))), 'error');
                }
                if (user.currency === 'usd') {
                    amount *= 1000;
                }
                amount = parseInt(amount);
                if (user.balance === amount && Cookies.get('allIn') === 'false') {
                    $.popup('<div id="allIn" class="content"><h1>Are you sure you want to bet all your balance?</h1><br /><input type="submit" class="btn btn-accept accept" value="Yes" /><input type="submit" class="btn btn-decline decline" value="No" /></div>');
                    $('.btn-accept').click(function() {
                        service['socket'].send({
                            service: 'coinflip',
                            cmd: 'deposit',
                            option: option,
                            amount: amount
                        });
                        input.trigger('change');
                        $('.popup').close();
                        return true;
                    });
                    $('.btn-decline').click(function() {
                        $('.popup').close();
                        return false;
                    });
                    return false;
                } else {
                    service['socket'].send({
                        service: 'coinflip',
                        cmd: 'deposit',
                        option: option,
                        amount: amount
                    });
                    input.trigger('change');
                    return false;
                }
            });
        },
        result: function(bet) {
            this.state = 'ROLLING';
            $('.hash').text(bet.hash); //sounds.coinflip.play();
            let rotate = getRandomInt(3, 5) * 360;
            if (bet.value === 2) {
                rotate += 180;
            }
            let that = this;
            sounds.coin.play();
            let timer = getRandomInt(2000, 3000);
            this._coinflip.animate({
                deg: rotate
            }, {
                easing: 'easeInOutSine',
                duration: timer,
                step: function(now) {
                    let scale = 1 + Math.sin(Math.PI * (now / rotate)) * 0.5;
                    $(this).css({
                        transform: 'scale(' + scale.toFixed(2) + ') rotateY(' + now + 'deg)'
                    });
                },
                complete: function() {
                    this.deg = 0;
                    that.state = 'OPEN';
                    if (bet.profit > 0) {
                        $.notify(T('Congratulations! You won %s', bet.profit.formatCurrency()), {
                            className: 'big'
                        });
                    } else {
                        $.notify(T('You lost :('), 'error');
                    }
                }
            });
            setTimeout(function() {
                sounds.coinend.play();
            }, timer - 150);
        },
        history: function(bet) {
            $('#bets-list tr').slice(14, 15).remove();
            $(tmpl('history-tpl', bet)).css({
                opacity: 0
            }).prependTo('#bets-list').animate({
                opacity: 1
            }, 200);
        },
        info: function(data) {
            this.state = 'OPEN';
            if (data.config) {
                this.config = data.config;
                setBetRange(data.config);
            }
            for (let i in data.history) {
                this.history(data.history[i]);
            }
        }
    };
    service['coinflip'].init();
}
"use strict";
if ($('#jackpot').length > 0) {
    service['jackpot'] = {
        states: {
            'CONNECTING': T('Connecting') + '...',
            'PREPARE': T('Preparing game') + '...',
            'DRAW': T('Drawing!'),
            'WINNER': '',
            'ROUND': '<span class="countdown"></span>',
            'COUNTDOWN': '<span class="countdown"></span>'
        },
        container: $('#jackpot'),
        chartSettings: {
            series: {
                pie: {
                    radius: 0.99,
                    innerRadius: 0.97,
                    show: true,
                    stroke: {
                        width: 0,
                        color: '#282828'
                    }
                }
            },
            colors: ['rgba(0,0,0,0)', '#fa6a00']
        },
        input: $('input[name="amount"]', this.container),
        state: 'CONNECTING',
        start: null,
        timer: null,
        amount: 0,
        sum: 0,
        bets: [],
        open: function() {
            if (this.state !== 'CONNECTING') {
                return false;
            }
            service['socket'].send({
                service: 'jackpot',
                cmd: 'join'
            });
            setTimeout(this.open.bind(this), 2000);
        },
        close: function() {
            if (this.state === 'CONNECTING') {
                return false;
            }
            this.state = 'CONNECTING';
            this.updateState();
            this.round();
            this.open();
        },
        init: function() {
            let input = this.input;
            let that = this;
            this.updateState();
            $('.btn-bet', this.container).click(function() {
                sounds.button.play();
                let amount = parseFloat(input.val());
                if (isNaN(amount)) {
                    return $.notify(T('Wrong amount'), 'error');
                }
                if (amount < bet_range[0]) {
                    return $.notify(T('Minimum bet amount is %d', bet_range[0]), 'error');
                }
                if (amount > Math.min(user.balance, bet_range[1])) {
                    return $.notify(T('Maximum bet  amount is %d', Math.min(user.balance, bet_range[1])), 'error');
                }
                if (user.currency === 'usd') {
                    amount *= 1000;
                }
                amount = parseInt(amount);
                if (user.balance === amount && Cookies.get('allIn') === 'false') {
                    $.popup('<div id="allIn" class="content"><h1>Are you sure you want to bet all your balance?</h1><br /><input type="submit" class="btn btn-accept accept" value="Yes" /><input type="submit" class="btn btn-decline decline" value="No" /></div>');
                    $('.btn-accept').click(function() {
                        service['socket'].send({
                            service: 'jackpot',
                            cmd: 'deposit',
                            amount: amount
                        });
                        input.trigger('change');
                        $('.popup').close();
                        return true;
                    });
                    $('.btn-decline').click(function() {
                        $('.popup').close();
                        return false;
                    });
                    return false;
                } else {
                    service['socket'].send({
                        service: 'jackpot',
                        cmd: 'deposit',
                        amount: amount
                    });
                    input.trigger('change');
                    return false;
                }
            });
            $.plot('.timer', [0, 0], this.chartSettings);
        },
        bet: function(bet, recalculate) {
            bet.amount = parseFloat(bet.amount);
            let $list = $('#bets-list');
            let tpl = $(tmpl('bet-tpl', bet)).css({
                opacity: 0
            });
            console.log(bet);
            $list.append(tpl);
            tpl.animate({
                opacity: 1
            }, 200);
            this.sum += bet.amount;
            this.bets[bet.user_id] = bet;
            if (bet.steam_id == user.steam_id) {
                this.amount += bet.amount;
            }
            if (recalculate !== false) {
                this.recalculate();
            }
        },
        recalculate: function() {
            let sum = this.sum;
            $('#bets-list tr').each(function() {
                let amount = parseFloat($(this).data('amount'));
                let chance = amount / sum * 100;
                $('.chance', this).text(chance.toFixed(2) + '%');
            });
            $('.chart .deposit').animateNumber({
                number: this.sum,
                numberStep: currencyStep
            });
            if (this.amount > 0) {
                $('.bet-info .deposit .value').html(this.amount.formatCurrency());
                $('.bet-info .chance .value').text((this.amount / this.sum * 100).toFixed(2) + '%');
            }
        },
        checker: function() {
            if (this.state !== 'COUNTDOWN') {
                return false;
            }
            let timer = this.start + this.timer - Date.now();
            let value = (timer / this.config.timer * 100).toFixed(1);
            if (timer <= 0) {
                timer = 0;
                value = 0;
            }
            this.updateChart(timer);
            $('.countdown', this.container).text((timer / 1000).toFixed(1));
            if (timer > 0) {
                setTimeout(this.checker.bind(this), 10);
            }
        },
        history(game) {
            let tpl = $(tmpl('history-tpl', game));
            if (game.winner) {
                $('.last-winner img').attr('src', game.winner.avatar);
                $('.last-winner .username').text(game.winner.username);
                $('.last-winner .profile .amount').html(game.sum.formatCurrency(true));
                $('.last-winner .profile .chance').text(game.winner.chance.toFixed(2));
                $('.last-winner .profile').addClass('active');
            }
            $('#history-list').prepend(tpl);
            $('#history-list tr:eq(15)').remove();
        },
        updateChart(timer) {
            $.plot('.timer', [this.config.timer - timer, timer], this.chartSettings);
        },
        draw: function(data) {
            sounds.roulette.play();
            let index = 0;
            let size = Object.keys(this.bets).length;
            let winner_index;
            for (i in this.bets) {
                let bet = this.bets[i];
                if (parseInt(i) === parseInt(data.winner_id)) {
                    winner_index = index;
                }
                $('<div class="element"><div class="avatar"><img src="' + bet.avatar + '" /></div></div>').appendTo('.chart .draw').css({
                    rotate: 360 * (index / size)
                });
                index++;
            }
            $(this.container).removeClass('countdown round').addClass('draw');
            $('.triangle', this.container).animate({
                rotate: 360 * Math.floor(data.timer / 1000) + 360 * winner_index / size
            }, data.timer);
            $('.bg', this.container).animate({
                rotate: -90 * Math.floor(data.timer / 1000)
            }, data.timer);
            setTimeout(function() {
                sounds.rouletteend.play();
            }, data.timer - 300);
        },
        prepare: function(data) {
            this.built = false;
            this.bets = {};
            this.sum = 0;
            this.amount = 0;
            this.start = null;
            this.hash = '';
            $('.triangle', this.container).css({
                rotate: 0
            });
            $('.bg', this.container).css({
                rotate: 0
            });
            $('#bets-list').html('');
            $('.chart .element').remove();
            $('.chart .deposit').animateNumber({
                number: 0,
                numberStep: currencyStep
            });
            $('.bet-info .deposit .value').html(0.formatCurrency());
            $('.bet-info .chance .value').text(0.toFixed(2) + '%');
            $(this.container).removeClass('round countdown draw winner');
        },
        round: function(data) {
            this.container.addClass('round');
            $('.countdown', this.container).text((this.config.timer / 1000).toFixed(1));
        },
        countdown: function(data) {
            this.start = Date.now();
            this.container.addClass('countdown');
            this.checker();
        },
        info: function(data) {
            this.state = data.state;
            this.id = data.id;
            if (data.hash) {
                this.hash = data.hash;
            }
            if (data.secret) {
                this.secret = data.secret;
            }
            if (data.value) {
                this.value = data.value;
            }
            if (data.timer) {
                this.timer = data.timer;
            }
            if (data.value) {
                this.value = data.value;
            }
            if (data.color) {
                this.color = data.color;
            }
            if (data.multiplier) {
                this.multiplier = data.multiplier;
            }
            if (data.config) {
                this.config = data.config;
                setBetRange(data.config);
            }
            if (data.history) {
                for (let i in data.history) {
                    this.history(data.history[i]);
                }
            }
            if (data.bets) {
                for (let i in data.bets) {
                    this.bet(data.bets[i], false);
                }
                this.recalculate();
            }
            this.updateState();
            $('.hash', this.container).text(data.hash);
            if (data.state === 'PREPARE') {
                this.prepare(data);
            } else if (data.state === 'ROUND') {
                this.round(data);
            } else if (data.state === 'COUNTDOWN') {
                this.countdown(data);
            } else if (data.state === 'DRAW') {
                this.draw(data);
            } else if (data.state === 'WINNER') {
                this.winner(data);
            }
        },
        winner(data) {
            this.history(data);
            if (data.username) {
                $('.message .username', this.container).text(data.winner.username);
            }
        },
        updateState() {
            $('.message', this.container).html(this.states[this.state]);
        }
    };
    service['jackpot'].init();
}
"use strict";
let validate_provably = function() {
    let data = {};
    let form = $('#provably form').serializeArray();
    for (let i in form) {
        data[form[i].name] = form[i].value;
    }
    let shaObj = new jsSHA("SHA-256", "TEXT");
    shaObj.setHMACKey(data.secret, "TEXT");
    shaObj.update(data.value.toString());
    $('.result').removeClass('error');
    if (data.hash === shaObj.getHMAC("HEX")) {
        $('.result').text(T('Round data is valid'));
    } else {
        $('.result').addClass('error').text(T('Round data is not valid'));
    }
};
$('#provably input').change(validate_provably).keyup(validate_provably);
$('#provably tr').click(function() {
    let data = {
        secret: $('td', this).eq(1).text(),
        value: $('td', this).eq(2).text(),
        hash: $('td', this).eq(3).text()
    };
    $.each(data, function(key, value) {
        $('form input[name="' + key + '"]').val(value);
    });
    $('form input').eq(0).change();
    return false;
});
$('#provably tbody tr').eq(0).trigger('click');
$('.paginate-container').simplePaginate();
if (location.hash_array) {
    $('.tabs-buttons .' + location.hash_array.game).trigger('click');
    $('table:visible tr[data-id="' + location.hash_array.id + '"]').addClass('active');
}
"use strict";
let $support = $('#support');
if ($support.length > 0) {
    $('tbody tr', $support).click(function() {
        location.href = $(this).find('a').attr('href');
        return false;
    });
    $('.btn-confirm').click(function() {
        if (!confirm('Are you sure?')) {
            return false;
        }
    });
    $('.btn-reply-close', $support).click(function() {
        $('input[name="status"]').val(0);
    });
    $('.btn-edit', $support).click(function() {
        let $parent = $(this).parents();
        if ($parent.hasClass('post')) var $post = $(this).parents('.post');
        else if ($parent.hasClass('template')) $post = $(this).parents('.template');
        let $title = $post.find('.title');
        let $reponse = $post.find('.response');
        $post.data('text', $reponse.html());
        $post.data('title', $title.html());
        $title.html('<textarea name="title">' + $title.text() + '</textarea>');
        $reponse.html('<textarea name="body">' + $reponse.text() + '</textarea>');
        $('.btn-edit', $post).addClass('hidden');
        $('.btn-cancel,.btn-save', $post).removeClass('hidden');
        return false;
    });
    $('.btn-cancel', $support).click(function() {
        let $parent = $(this).parents();
        if ($parent.hasClass('post')) var $post = $(this).parents('.post');
        else if ($parent.hasClass('template')) $post = $(this).parents('.template');
        let $title = $post.find('.title');
        let $reponse = $post.find('.response');
        $title.html($post.data('title'));
        $reponse.html($post.data('text'));
        $('.btn-edit', $post).removeClass('hidden');
        $('.btn-cancel,.btn-save', $post).addClass('hidden');
        return false;
    });
    $('.btn-save', $support).click(function() {
        let $parent = $(this).parents();
        if ($parent.hasClass('post')) var $post = $(this).parents('.post');
        else if ($parent.hasClass('template')) $post = $(this).parents('.template');
        let $title = $post.find('.title');
        let $reponse = $post.find('.response');
        let title = $('textarea[name=title]', $post).val();
        let text = $('textarea[name=body]', $post).val();
        let type = $post.data('type');
        let data = {
            type: type,
            body: text,
            title: title,
            id: $post.data('id')
        };
        $.ajax({
            url: '/support/update',
            data: data,
            dataType: 'json',
            type: 'POST',
            success: function(json) {
                if (json.error) {
                    return $('.btn-cancel', $post).trigger('click');
                }
                $title.html(nl2br(title));
                $reponse.html(nl2br(text));
            },
            error: function() {
                return $('.btn-cancel', $post).trigger('click');
            }
        });
        $('.btn-edit', $post).removeClass('hidden');
        $('.btn-cancel,.btn-save', $post).addClass('hidden');
        return false;
    });
    $('#select-template').change(function(e) {
        let $textarea = $('#support-add').find('textarea');
        if ($textarea.data('edited')) {
            if (confirm('Are you sure?')) {
                $textarea.val($(this).val()).data('edited', false);
            }
        } else {
            $textarea.val($(this).val());
        }
        $('option', this).eq(0).prop('selected', true);
    });
}
$('textarea, input', '#support-add').keyup(function(e) {
    $(this).data('edited', true);
    if (e.which === 13 && e.ctrlKey === true) {
        $('#support-add').submit();
    }
});
let $counter = $('#refresh-counter');
if ($counter.length > 0) {
    $counter.html('[<span class="value"></span>]');
    let time = 300;
    let countdown = function() {
        if (time > 0) {
            let timer = {};
            timer.m = Math.floor(time % 3600 / 60);
            timer.s = time % 60;
            $('.value', $counter).html(timer.m.zeroFill(2) + ':' + timer.s.zeroFill(2));
        } else {
            location.reload();
        }
        time--;
    };
    countdown();
    setInterval(countdown, 1000);
}
$('#support-table').dataTable({
    order: [
        [7, 'desc']
    ],
    searching: false,
    lengthChange: false,
    columnDefs: [{
        orderable: false,
        targets: 'column-nosort'
    }]
});
$('.btn-add-email').click(function() {
    let text = $(this).text();
    text === 'Hide Email' ? $(this).text('Show Email') : $(this).text('Hide Email');
    $('.email-input').toggleClass('active');
});
let $leaders = $('#leaders');
if ($leaders.length > 0) {
    $('.timer', $leaders).countdownClock();
}
$('.join').click(function() {
    if ($(this).hasClass('disabled')) {
        return false;
    }
});
$('.paginate').paginate();
"use strict";
if ($('#betting').length > 0) {
    service['betting'] = {
        timeout: 2000,
        container: $('#betting'),
        state: 'CONNECTING',
        games: {},
        bets: {},
        statuses: {
            0: 'Upcoming',
            1: 'Betting closed',
            2: 'Match live!',
            3: 'Match over',
            4: 'Payout!',
            10: 'Match forfeited. Bets refunded.',
            11: 'Team disqualified. Bets refunded.',
            12: 'Match postponed. Bets refunded.'
        },
        shorts: {
            0: 'UP',
            1: 'CL',
            2: 'LIVE',
            3: 'END',
            4: 'PAID',
            10: 'FF',
            11: 'DQ',
            12: 'PP'
        },
        open: function() {
            if (this.state !== 'CONNECTING') {
                return false;
            }
            service['socket'].send({
                service: 'betting',
                cmd: 'join'
            });
            setTimeout(this.open.bind(this), this.timeout);
            this.timeout *= 2;
        },
        close: function() {
            if (this.state === 'CONNECTING') {
                return false;
            }
            $('#betting-games').html('');
            $('#game-bet').removeClass('active').html('');
            this.state = 'CONNECTING';
            this.open();
        },
        debug: function(data) {
            console.log(data.game);
        },
        init: function() {
            let that = this;
            $('.table-container').scrollbar();
            $('#game-bet').scrollbar();
            $('#betting-games').on('click', '.result', function() {
                $('.result').removeClass('active');
                $(this).addClass('active');
                $('.bet-container').addClass('active');
                that.updatePreview($(this).data('id'));
                return false;
            });
            $('#betting-games').on('click', '.debug', function() {
                service['socket'].send({
                    service: 'betting',
                    cmd: 'debug',
                    id: $(this).parents('.result').data('id')
                });
            });
            $('#game-bet').on('click', '.btn-close', function() {
                $('.bet-container').removeClass('active');
            });
            $('#game-bet').on('click', '.btn-bet', function() {
                if ($(this).hasClass('disabled')) {
                    return false;
                }
                let input = $('input[name="amount"]');
                sounds.button.play();
                let color = $(this).parents('.color').data('color');
                let amount = parseFloat(input.val());
                if (isNaN(amount)) {
                    return $.notify(T('Wrong amount'), 'error');
                }
                if (amount < bet_range[0]) {
                    return $.notify(T('Minimum bet amount is %d', bet_range[0]), 'error');
                }
                if (amount > Math.min(user.balance, bet_range[1])) {
                    return $.notify(T('Maximum bet amount is %d', Math.min(user.balance, bet_range[1])), 'error');
                }
                if (user.currency === 'usd') {
                    amount *= 1000;
                }
                amount = parseInt(amount);
                service['socket'].send({
                    service: 'betting',
                    cmd: 'deposit',
                    game_id: $('#game-bet').data('id'),
                    team_index: $('.profile', '#game-bet').index($('.profile.active', '#game-bet')),
                    amount: amount
                });
                input.trigger('change');
                return false;
            });
            $('#game-bet').on('click', '.profile', function() {
                if ($('.sides').hasClass('closed')) {
                    return false;
                }
                $('.btn-bet').removeClass('disabled').attr('disabled', false);
                $('.profile', '#game-bet').removeClass('active');
                $(this).addClass('active');
                return false;
            });
            $('select[name="sort"]').change(function() {
                that.sort();
            });
            /*
            			let width = window.innerWidth;
            			this.layout($('.matchbetting'), width);

            			$(window).resize(function () {
            				let width = $(this).width();
            				console.log(width);
            				that.layout($('.matchbetting'), width)
            			})*/
        },
        join: function(data) {
            this.state = 'OPEN';
            this.config = data.config;
            setBetRange(data.config);
            let that = this;
            data.games.forEach(function(game) {
                that.game(game, true);
            });
            $('.result').eq(0).trigger('click');
        },
        updateStatus: function(id) {
            let game = this.games[id];
            if (game) {
                game.status_name = this.statuses[game.status];
                game.status_short = this.shorts[game.status];
            }
        },
        game: function(data, no_sort) {
            if ($('.result', '#betting-games').length >= 30) { //return false;
            }
            this.games[data.id] = data;
            this.updateStatus(data.id);
            $(tmpl('game-tpl', data)).hide().appendTo('#betting-games').fadeIn();
            if (no_sort !== true) {
                this.sort();
            }
        },
        updateGame(data) {
            let game = this.games[data.id];
            for (let i in data) {
                game[i] = data[i];
            }
        },
        getRow(id) {
            return $('.result[data-id="' + id + '"]');
        },
        updatePreview: function(id) {
            let game = this.games[id];
            if (game) {
                let tpl = tmpl('bet-tpl', game);
                $('.timer', '#game-bet').countdownClockClear();
                $('#game-bet').data('id', id).html(tpl).addClass('active');
                $('.timer', '#game-bet').countdownClock();
                $('.status', '#game-bet').removeClass(function(index, css) {
                    return (css.match(/status-/g) || []).join(' ');
                }).text(this.statuses[game.status]).addClass('status-' + game.status);
                updateInputBalance();
                setUserBalance();
                if (game.leader !== null) {
                    let $teams = $('.profile', '#game-bet').removeClass('win lose');
                    let $scores = $('.score', '#game-bet').removeClass('win lose');
                    if (game.leader === 0) {
                        $scores.eq(0).addClass('win');
                        $scores.eq(1).addClass('lose');
                        $teams.eq(0).addClass('win');
                        $teams.eq(1).addClass('lose');
                    } else {
                        $scores.eq(0).addClass('lose');
                        $scores.eq(1).addClass('win');
                        $teams.eq(0).addClass('lose');
                        $teams.eq(1).addClass('win');
                    }
                }
                if (this.bets[id]) {
                    game.bet = this.bets[id];
                    let coins = parseInt(game.bet.amount).formatCurrency(true);
                    let win = parseInt(game.bet.amount * game.multiplier[game.bet.team_index]).formatCurrency(true);
                    $('.profile').eq(game.bet.team_index).addClass('user-bet').find('.bet').html(coins);
                    $('.win-amount').html('Potential winnings: ' + win);
                }
            }
            /*
            			$('.accordion').click(function () {
            				let $content = $('.container', this);
            				let $icon = $('.title .arrow', this);

            				$content.stop().slideToggle();

            				if ($icon.hasClass('down-arrow')) {
            					$icon.removeClass('down-arrow').addClass('up-arrow');
            				}
            				else {
            					$icon.removeClass('up-arrow').addClass('down-arrow');
            				}
            			});
            			*/
        },
        status: function(data) {
            let $game = this.getRow(data.id);
            let game = this.games[data.id];
            if (data.status === -1) {
                delete this.games[data.id];
                $game.close();
                this.reload();
            } else if (data.status === 0) {
                $game.addClass('closed');
                $('.multiplier', $game).text(0);
            } else if (data.status === 1) {
                $game.removeClass('closed');
                $('.multiplier', $game).eq(0).text(game.multiplier[0].toFixed(2));
                $('.multiplier', $game).eq(1).text(game.multiplier[1].toFixed(2));
            } else if (data.status >= 4) {
                delete this.games[data.id];
                setTimeout(() => $game.close(), 15000);
                this.reload();
                if ($('#game-bet').data('id') === data.id) {
                    $('.result').eq(0).trigger('click');
                }
            }
            this.updateStatus(data.id);
            if (data.status !== 3 && this.games[data.id]) {
                this.games[data.id].status = data.status;
            }
            if ($('#game-bet').data('id') === data.id) {
                this.updatePreview(data.id);
            }
        },
        reload: function() {
            let games = [];
            for (let i in this.games) {
                if (this.games[i].status === 0) {
                    games.push(parseInt(i));
                }
            }
            service['socket'].send({
                service: 'betting',
                cmd: 'append',
                games: games
            });
        },
        update: function(data) {
            this.updateGame(data);
            let $game = this.getRow(data.id);
            this.flash($game);
            $('.percent', $game).eq(0).text(data.percent[0] + '%');
            $('.percent', $game).eq(1).text(data.percent[1] + '%');
            $('.multiplier', $game).eq(0).text(data.multiplier[0].toFixed(2));
            $('.multiplier', $game).eq(1).text(data.multiplier[1].toFixed(2));
            if ($('#game-bet').data('id') === data.id) {
                this.updatePreview(data.id);
            }
        },
        flash: function($object) {
            $object.qaddClass('change').delay(200).qremoveClass('change');
        },
        addBets: function(data) {
            data.bets.forEach(bet => {
                this.addBet(bet);
            });
        },
        addBet: function(bet) {
            this.bets[bet.game_id] = bet;
            $('.result[data-id="' + bet.game_id + '"]').addClass('bet');
            $('.result[data-id="' + bet.game_id + '"] .profile:eq(' + bet.team_index + ')').addClass('bet');
            if ($('#game-bet').data('id') === bet.game_id) {
                this.updatePreview(bet.game_id);
            }
        },
        score: function(data) {
            this.games[data.id].score = data.score;
            let $game = this.getRow(data.id);
            this.flash($game);
            if ($('#game-bet').data('id') === data.id) {
                this.updatePreview(data.id);
            }
        },
        time: function(data) {
            if (this.games[data.id]) {
                this.games[data.id].match_at = data.match_at;
                this.games[data.id].close_at = data.close_at;
                let $game = this.getRow(data.id);
                this.flash($game);
                $game.attr('data-sort', moment(data.match_at).unix());
                $('.date', $game).text(moment(data.match_at).format('YYYY/MM/DD HH:mm'));
                this.sort();
                if ($('#game-bet').data('id') === data.id) {
                    this.updatePreview(data.id);
                }
            }
        },
        teams: function(data) {
            if (this.games[data.id]) {
                this.games[data.id].teams = data.teams;
                this.games[data.id].lineups = data.lineups;
                let $game = this.getRow(data.id);
                this.flash($game);
                $('.profile .name', $game).eq(0).text(data.teams[0].name);
                $('.profile .name', $game).eq(1).text(data.teams[1].name);
                $('.profile img', $game).eq(0).attr('src', '/upload/team/' + data.teams[0].id + '.png');
                $('.profile img', $game).eq(1).attr('src', '/upload/team/' + data.teams[1].id + '.png');
                if ($('#game-bet').data('id') === data.id) {
                    this.updatePreview(data.id);
                }
            }
        },
        type: function(data) {
            if (this.games[data.id]) {
                this.games[data.id].type = data.type;
                let $game = this.getRow(data.id);
                this.flash($game);
                $('.type', $game).text(data.type);
            }
        },
        sort: function() {
            let sort = $('select[name="sort"]').val();
            let order = 'asc';
            if (sort === 'rank') {
                order = 'desc';
            }
            $('.result', '#betting-games').sort(sortBy(sort, order)).hide().appendTo('#betting-games').fadeIn();
        },
        layout(selector, width) {
            if (width <= 1920 && width >= 1800) {
                selector.addClass('wide');
            } else if (width <= 1800 && width >= 1600) {
                selector.removeClass('wide');
                $('#betting-games').removeClass('grid');
            } else if (width <= 1600) {
                $('#betting-games').addClass('grid');
            }
        }
    };
    service['betting'].init();
}
"use strict";
if ($('#three').length > 0) {
    service['three'] = {
        container: $('#three'),
        _three: $('.flip', this.container),
        input: $('input[name="amount"]', this.container),
        state: 'CONNECTING',
        open: function() {
            if (this.state !== 'CONNECTING') {
                return false;
            }
            service['socket'].send({
                service: 'three',
                cmd: 'join'
            });
            setTimeout(this.open.bind(this), 2000);
        },
        close: function() {
            this.container.removeClass('three round');
            if (this.state === 'CONNECTING') {
                return false;
            }
            this.state = 'CONNECTING';
            this.open();
        },
        init: function() {
            let input = this.input;
            let that = this;
            $('.btn-bet', this.container).click(function() {
                let $btn = $(this);
                if ($btn.hasClass('disabled')) {
                    return false;
                }
                $btn.addClass('disabled');
                sounds.button.play();
                let test = [getRandomInt(1, 2), getRandomInt(1, 2), getRandomInt(1, 2)];
                $('.flip:eq(0) .reverse img').attr('src', '/assets/www/img/coin-' + test[0] + '.png');
                $('.flip:eq(1) .reverse img').attr('src', '/assets/www/img/coin-' + test[1] + '.png');
                $('.flip:eq(2) .reverse img').attr('src', '/assets/www/img/coin-' + test[2] + '.png');
                $('.flip').eq(0).animate({
                    rotateY: 180
                });
                $('.flip').eq(1).delay(200).animate({
                    rotateY: 180
                });
                $('.flip').eq(2).delay(400).animate({
                    rotateY: 180
                });
                setTimeout(function() {
                    if (test[0] === test[1] && test[1] === test[2]) {
                        $('.status').addClass('win active').text('You won! Congratulation!');
                    } else {
                        $('.status').addClass('lose active').text('You lost :( try again!');
                    }
                }, 500);
                setTimeout(function() {
                    $('.status').removeClass('active lose win');
                    $('.flip').animate({
                        rotateY: 0
                    });
                    $btn.removeClass('disabled');
                }, 2000);
                if (that.state !== 'OPEN') {
                    return false;
                }
                let option = $(this).data('option');
                let amount = parseFloat(input.val());
                if (isNaN(amount)) {
                    return $.notify(T('Wrong amount'), 'error');
                }
                if (amount < bet_range[0]) {
                    return $.notify(T('Minimum bet amount is %d', bet_range[0]), 'error');
                }
                if (amount > Math.min(user.balance, bet_range[1])) {
                    return $.notify(T('Maximum bet amount is %d', Math.max(bet_range[0], Math.min(user.balance, bet_range[1]))), 'error');
                }
                if (user.currency === 'usd') {
                    amount *= 1000;
                }
                amount = parseInt(amount);
                service['socket'].send({
                    service: 'three',
                    cmd: 'deposit',
                    option: option,
                    amount: amount
                });
                input.trigger('change');
                return false;
            });
        },
        result: function(bet) {
            this.state = 'ROLLING';
            $('.hash').text(bet.hash); //sounds.three.play();
            let rotate = getRandomInt(3, 5) * 360;
            if (bet.value === 2) {
                rotate += 180;
            }
            let that = this;
            sounds.coin.play();
            let timer = getRandomInt(2000, 3000);
            this._three.animate({
                deg: rotate
            }, {
                easing: 'easeInOutSine',
                duration: timer,
                step: function(now) {
                    let scale = 1 + Math.sin(Math.PI * (now / rotate)) * 0.5;
                    $(this).css({
                        transform: 'scale(' + scale.toFixed(2) + ') rotateY(' + now + 'deg)'
                    });
                },
                complete: function() {
                    this.deg = 0;
                    that.state = 'OPEN';
                    if (bet.profit > 0) {
                        $.notify(T('Congratulations! You won %s', bet.profit.formatCurrency()), {
                            className: 'big'
                        });
                    } else {
                        $.notify(T('You lost :('), 'error');
                    }
                }
            });
            setTimeout(function() {
                sounds.coinend.play();
            }, timer - 150);
        },
        history: function(bet) {
            $('#bets-list tr').slice(14, 15).remove();
            $(tmpl('history-tpl', bet)).css({
                opacity: 0
            }).prependTo('#bets-list').animate({
                opacity: 1
            }, 200);
        },
        info: function(data) {
            this.state = 'OPEN';
            if (data.config) {
                this.config = data.config;
                setBetRange(data.config);
            }
            for (let i in data.history) {
                this.history(data.history[i]);
            }
        }
    };
    service['three'].init();
}
"use strict";
if ($('#slot').length > 0) {
    service['slot'] = {
        container: $('#slot'),
        _slot: $('.flip', this.container),
        input: $('input[name="amount"]', this.container),
        state: 'CONNECTING',
        open: function() {
            if (this.state !== 'CONNECTING') {
                return false;
            }
            service['socket'].send({
                service: 'slot',
                cmd: 'join'
            });
            setTimeout(this.open.bind(this), 2000);
        },
        close: function() {
            this.container.removeClass('slot round');
            if (this.state === 'CONNECTING') {
                return false;
            }
            this.state = 'CONNECTING';
            this.open();
        },
        init: function() {
            let input = this.input;
            let that = this;
            $('.btn-bet', this.container).click(function() {
                let $btn = $(this);
                if ($btn.hasClass('disabled')) {
                    return false;
                }
                $btn.addClass('disabled');
                sounds.button.play();
                let test = [getRandomInt(1, 4), getRandomInt(1, 4), getRandomInt(1, 4), getRandomInt(1, 4), getRandomInt(1, 4)];
                let start = 115 * 10;
                $('.coin').eq(0).animate({
                    backgroundPositionY: start + 115 * test[0]
                }, 800);
                $('.coin').eq(1).animate({
                    backgroundPositionY: start + 115 * test[1]
                }, 1200);
                $('.coin').eq(2).animate({
                    backgroundPositionY: start + 115 * test[2]
                }, 1600);
                $('.coin').eq(3).animate({
                    backgroundPositionY: start + 115 * test[3]
                }, 2000);
                $('.coin').eq(4).animate({
                    backgroundPositionY: start + 115 * test[4]
                }, 2400);
                setTimeout(function() {
                    if (test[0] === test[1] && test[1] === test[2] && test[2] === test[3] && test[3] === test[4]) {
                        $('.status').addClass('win active').text('You won! Congratulation!');
                    } else {
                        $('.status').addClass('lose active').text('You lost :( try again!');
                    }
                }, 2400);
                setTimeout(function() {
                    $('.status').removeClass('active lose win');
                    $('.coin').animate({
                        backgroundPositionY: 0
                    });
                    $btn.removeClass('disabled');
                }, 5000);
                if (that.state !== 'OPEN') {
                    return false;
                }
                let option = $(this).data('option');
                let amount = parseFloat(input.val());
                if (isNaN(amount)) {
                    return $.notify(T('Wrong amount'), 'error');
                }
                if (amount < bet_range[0]) {
                    return $.notify(T('Minimum bet amount is %d', bet_range[0]), 'error');
                }
                if (amount > Math.min(user.balance, bet_range[1])) {
                    return $.notify(T('Maximum bet amount is %d', Math.max(bet_range[0], Math.min(user.balance, bet_range[1]))), 'error');
                }
                if (user.currency === 'usd') {
                    amount *= 1000;
                }
                amount = parseInt(amount);
                if (user.balance === amount && Cookies.get('allIn') === 'false') {
                    $.popup('<div id="allIn" class="content"><h1>Are you sure you want to bet all your balance?</h1><br /><input type="submit" class="btn btn-accept accept" value="Yes" /><input type="submit" class="btn btn-decline decline" value="No" /></div>');
                    $('.btn-accept').click(function() {
                        service['socket'].send({
                            service: 'slot',
                            cmd: 'deposit',
                            option: option,
                            amount: amount
                        });
                        input.trigger('change');
                        $('.popup').close();
                        return true;
                    });
                    $('.btn-decline').click(function() {
                        $('.popup').close();
                        return false;
                    });
                    return false;
                } else {
                    service['socket'].send({
                        service: 'slot',
                        cmd: 'deposit',
                        option: option,
                        amount: amount
                    });
                    input.trigger('change');
                    return false;
                }
            });
        },
        result: function(bet) {
            this.state = 'ROLLING';
            $('.hash').text(bet.hash); //sounds.slot.play();
            let rotate = getRandomInt(3, 5) * 360;
            if (bet.value === 2) {
                rotate += 180;
            }
            let that = this;
            sounds.coin.play();
            let timer = getRandomInt(2000, 3000);
            this._slot.animate({
                deg: rotate
            }, {
                easing: 'easeInOutSine',
                duration: timer,
                step: function(now) {
                    let scale = 1 + Math.sin(Math.PI * (now / rotate)) * 0.5;
                    $(this).css({
                        transform: 'scale(' + scale.toFixed(2) + ') rotateY(' + now + 'deg)'
                    });
                },
                complete: function() {
                    this.deg = 0;
                    that.state = 'OPEN';
                    if (bet.profit > 0) {
                        $.notify(T('Congratulations! You won %s', bet.profit.formatCurrency()), {
                            className: 'big'
                        });
                    } else {
                        $.notify(T('You lost :('), 'error');
                    }
                }
            });
            setTimeout(function() {
                sounds.coinend.play();
            }, timer - 150);
        },
        history: function(bet) {
            $('#bets-list tr').slice(14, 15).remove();
            $(tmpl('history-tpl', bet)).css({
                opacity: 0
            }).prependTo('#bets-list').animate({
                opacity: 1
            }, 200);
        },
        info: function(data) {
            this.state = 'OPEN';
            if (data.config) {
                this.config = data.config;
                setBetRange(data.config);
            }
            for (let i in data.history) {
                this.history(data.history[i]);
            }
        }
    };
    service['slot'].init();
}
if ($('#tradeup').length > 0) {
    service['tradeup'] = {
        trade: {},
        container: $('#tradeup'),
        input: $('input[name="amount"]', this.container),
        slider: $('#range'),
        init: function() {
            let that = this;
            $(tmpl('tradeup-tpl', this.trade)).prependTo('.tradeup');
            that.slider.ionRangeSlider({
                min: 0.01,
                max: 100,
                step: 0.01,
                from: 100,
                from_max: 85,
                onStart: function(data) {
                    $('.chance').text(Math.round10(data.from_percent, -2));
                },
                onChange: function(data) {
                    $('.chance').text(Math.round10(data.from_percent, -2));
                    if (that.slider.update === true) {
                        that.input.val(data.from_pretty);
                    }
                },
                onUpdate: function(data) {
                    $('.chance').text(Math.round10(data.from_percent, -2));
                }
            });
            $('.item').click(function() {
                let price = $(this).data('price');
                let name = $(this).data('name');
                let type = /\(([^)]+)\)/.exec(name);
                if (user.currency === 'usd') {
                    price /= 1000;
                }
                let max = Math.floor(price * 0.85);
                let min = Math.floor(price * 0.01);
                if (min < 10) min = 10;
                that.trade['price'] = price;
                that.trade['img'] = $('img', this).attr('src');
                that.trade['name'] = name.replace(type[0], '').toUpperCase();
                that.trade['type'] = type[1].toUpperCase();
                let tpl = tmpl('tradeup-tpl', that.trade);
                $('.tradeup').html(tpl);
                that.slider.data('ionRangeSlider').update({
                    from_min: min,
                    max: price,
                    from_max: max
                });
                that.slider.update = true;
                that.input.val(max);
            });
            that.dropTester();
            $('.tradeup-btn', that.container).click(function() {
                that.container.addClass('win');
            });
            $('.type a', that.container).click(function() {
                if (!$(this).hasClass('active')) {
                    $('.type a').removeClass('active');
                    $(this).addClass('active');
                }
            });
        },
        dropTester: function() {
            let that = this;
            $.ajax({
                url: 'game/random',
                type: 'GET',
                dataType: 'json',
                success: function(item) {
                    let tpl = tmpl('drop-tpl', item);
                    that.load_color($(tpl).prependTo('#tradeup .wrapper'));
                }
            }); // setTimeout(that.dropTester(), 3000);
        },
        load_color: function(item) {
            $(item).each(function() {
                let color = $(this).data('color');
                $(this).css({
                    borderTopColor: color
                });
            });
        }
    };
    service['tradeup'].init();
}
let snowStorm = function(window, document) { // --- common properties ---
    this.autoStart = false; // Whether the snow should start automatically or not.
    this.excludeMobile = true; // Snow is likely to be bad news for mobile phones' CPUs (and batteries.) Enable at your own risk.
    this.flakesMax = 128; // Limit total amount of snow made (falling + sticking)
    this.flakesMaxActive = 64; // Limit amount of snow falling at once (less = lower CPU use)
    this.animationInterval = 50; // Theoretical "miliseconds per frame" measurement. 20 = fast + smooth, but high CPU use. 50 = more conservative, but slower
    this.useGPU = true; // Enable transform-based hardware acceleration, reduce CPU load.
    this.className = null; // CSS class name for further customization on snow elements
    this.excludeMobile = true; // Snow is likely to be bad news for mobile phones' CPUs (and batteries.) By default, be nice.
    this.flakeBottom = null; // Integer for Y axis snow limit, 0 or null for "full-screen" snow effect
    this.followMouse = false; // Snow movement can respond to the user's mouse
    this.snowColor = '#fff'; // Don't eat (or use?) yellow snow.
    this.snowCharacter = '&bull;'; // &bull; = bullet, &middot; is square on some systems etc.
    this.snowStick = true; // Whether or not snow should "stick" at the bottom. When off, will never collect.
    this.targetElement = null; // element which snow will be appended to (null = document.body) - can be an element ID eg. 'myDiv', or a DOM node reference
    this.useMeltEffect = true; // When recycling fallen snow (or rarely, when falling), have it "melt" and fade out if browser supports it
    this.useTwinkleEffect = false; // Allow snow to randomly "flicker" in and out of view while falling
    this.usePositionFixed = false; // true = snow does not shift vertically when scrolling. May increase CPU load, disabled by default - if enabled, used only where supported
    this.usePixelPosition = false; // Whether to use pixel values for snow top/left vs. percentages. Auto-enabled if body is position:relative or targetElement is specified.
    // --- less-used bits ---
    this.freezeOnBlur = true; // Only snow when the window is in focus (foreground.) Saves CPU.
    this.flakeLeftOffset = 0; // Left margin/gutter space on edge of container (eg. browser window.) Bump up these values if seeing horizontal scrollbars.
    this.flakeRightOffset = 0; // Right margin/gutter space on edge of container
    this.flakeWidth = 8; // Max pixel width reserved for snow element
    this.flakeHeight = 8; // Max pixel height reserved for snow element
    this.vMaxX = 1; // Maximum X velocity range for snow
    this.vMaxY = 5; // Maximum Y velocity range for snow
    this.zIndex = 0; // CSS stacking order applied to each snowflake
    // --- "No user-serviceable parts inside" past this point, yadda yadda ---
    var storm = this,
        features, // UA sniffing and backCompat rendering mode checks for fixed position, etc.
        isIE = navigator.userAgent.match(/msie/i),
        isIE6 = navigator.userAgent.match(/msie 6/i),
        isMobile = navigator.userAgent.match(/mobile|opera m(ob|in)/i),
        isBackCompatIE = isIE && document.compatMode === 'BackCompat',
        noFixed = isBackCompatIE || isIE6,
        screenX = null,
        screenX2 = null,
        screenY = null,
        scrollY = null,
        docHeight = null,
        vRndX = null,
        vRndY = null,
        windOffset = 1,
        windMultiplier = 2,
        flakeTypes = 6,
        fixedForEverything = false,
        targetElementIsRelative = false,
        opacitySupported = function() {
            try {
                document.createElement('div').style.opacity = '0.5';
            } catch (e) {
                return false;
            }
            return true;
        }(),
        didInit = false,
        docFrag = document.createDocumentFragment();
    features = function() {
        var getAnimationFrame;
        /**
         * hat tip: paul irish
         * http://paulirish.com/2011/requestanimationframe-for-smart-animating/
         * https://gist.github.com/838785
         */
        function timeoutShim(callback) {
            window.setTimeout(callback, 1000 / (storm.animationInterval || 20));
        }
        var _animationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || timeoutShim; // apply to window, avoid "illegal invocation" errors in Chrome
        getAnimationFrame = _animationFrame ? function() {
            return _animationFrame.apply(window, arguments);
        } : null;
        var testDiv;
        testDiv = document.createElement('div');

        function has(prop) { // test for feature support
            var result = testDiv.style[prop];
            return result !== undefined ? prop : null;
        } // note local scope.
        var localFeatures = {
            transform: {
                ie: has('-ms-transform'),
                moz: has('MozTransform'),
                opera: has('OTransform'),
                webkit: has('webkitTransform'),
                w3: has('transform'),
                prop: null // the normalized property value
            },
            getAnimationFrame: getAnimationFrame
        };
        localFeatures.transform.prop = localFeatures.transform.w3 || localFeatures.transform.moz || localFeatures.transform.webkit || localFeatures.transform.ie || localFeatures.transform.opera;
        testDiv = null;
        return localFeatures;
    }();
    this.timer = null;
    this.flakes = [];
    this.disabled = false;
    this.active = false;
    this.meltFrameCount = 20;
    this.meltFrames = [];
    this.setXY = function(o, x, y) {
        if (!o) {
            return false;
        }
        if (storm.usePixelPosition || targetElementIsRelative) {
            o.style.left = x - storm.flakeWidth + 'px';
            o.style.top = y - storm.flakeHeight + 'px';
        } else if (noFixed) {
            o.style.right = 100 - x / screenX * 100 + '%'; // avoid creating vertical scrollbars
            o.style.top = Math.min(y, docHeight - storm.flakeHeight) + 'px';
        } else {
            if (!storm.flakeBottom) { // if not using a fixed bottom coordinate...
                o.style.right = 100 - x / screenX * 100 + '%';
                o.style.bottom = 100 - y / screenY * 100 + '%';
            } else { // absolute top.
                o.style.right = 100 - x / screenX * 100 + '%';
                o.style.top = Math.min(y, docHeight - storm.flakeHeight) + 'px';
            }
        }
    };
    this.events = function() {
        var old = !window.addEventListener && window.attachEvent,
            slice = Array.prototype.slice,
            evt = {
                add: old ? 'attachEvent' : 'addEventListener',
                remove: old ? 'detachEvent' : 'removeEventListener'
            };

        function getArgs(oArgs) {
            var args = slice.call(oArgs),
                len = args.length;
            if (old) {
                args[1] = 'on' + args[1]; // prefix
                if (len > 3) {
                    args.pop(); // no capture
                }
            } else if (len === 3) {
                args.push(false);
            }
            return args;
        }

        function apply(args, sType) {
            var element = args.shift(),
                method = [evt[sType]];
            if (old) {
                element[method](args[0], args[1]);
            } else {
                element[method].apply(element, args);
            }
        }

        function addEvent() {
            apply(getArgs(arguments), 'add');
        }

        function removeEvent() {
            apply(getArgs(arguments), 'remove');
        }
        return {
            add: addEvent,
            remove: removeEvent
        };
    }();

    function rnd(n, min) {
        if (isNaN(min)) {
            min = 0;
        }
        return Math.random() * n + min;
    }

    function plusMinus(n) {
        return parseInt(rnd(2), 10) === 1 ? n * -1 : n;
    }
    this.randomizeWind = function() {
        var i;
        vRndX = plusMinus(rnd(storm.vMaxX, 0.2));
        vRndY = rnd(storm.vMaxY, 0.2);
        if (this.flakes) {
            for (i = 0; i < this.flakes.length; i++) {
                if (this.flakes[i].active) {
                    this.flakes[i].setVelocities();
                }
            }
        }
    };
    this.scrollHandler = function() {
        var i; // "attach" snowflakes to bottom of window if no absolute bottom value was given
        scrollY = storm.flakeBottom ? 0 : parseInt(window.scrollY || document.documentElement.scrollTop || (noFixed ? document.body.scrollTop : 0), 10);
        if (isNaN(scrollY)) {
            scrollY = 0; // Netscape 6 scroll fix
        }
        if (!fixedForEverything && !storm.flakeBottom && storm.flakes) {
            for (i = 0; i < storm.flakes.length; i++) {
                if (storm.flakes[i].active === 0) {
                    storm.flakes[i].stick();
                }
            }
        }
    };
    this.resizeHandler = function() {
        if (window.innerWidth || window.innerHeight) {
            screenX = window.innerWidth - 16 - storm.flakeRightOffset;
            screenY = storm.flakeBottom || window.innerHeight;
        } else {
            screenX = (document.documentElement.clientWidth || document.body.clientWidth || document.body.scrollWidth) - (!isIE ? 8 : 0) - storm.flakeRightOffset;
            screenY = storm.flakeBottom || document.documentElement.clientHeight || document.body.clientHeight || document.body.scrollHeight;
        }
        docHeight = document.body.offsetHeight;
        screenX2 = parseInt(screenX / 2, 10);
    };
    this.resizeHandlerAlt = function() {
        screenX = storm.targetElement.offsetWidth - storm.flakeRightOffset;
        screenY = storm.flakeBottom || storm.targetElement.offsetHeight;
        screenX2 = parseInt(screenX / 2, 10);
        docHeight = document.body.offsetHeight;
    };
    this.freeze = function() { // pause animation
        if (!storm.disabled) {
            storm.disabled = 1;
        } else {
            return false;
        }
        storm.timer = null;
    };
    this.resume = function() {
        if (storm.disabled) {
            storm.disabled = 0;
        } else {
            return false;
        }
        storm.timerInit();
    };
    this.toggleSnow = function() {
        if (!storm.flakes.length) { // first run
            storm.start();
        } else {
            storm.active = !storm.active;
            if (storm.active) {
                storm.show();
                storm.resume();
            } else {
                storm.stop();
                storm.freeze();
            }
        }
    };
    this.stop = function() {
        var i;
        this.freeze();
        for (i = 0; i < this.flakes.length; i++) {
            this.flakes[i].o.style.display = 'none';
        }
        storm.events.remove(window, 'scroll', storm.scrollHandler);
        storm.events.remove(window, 'resize', storm.resizeHandler);
        if (storm.freezeOnBlur) {
            if (isIE) {
                storm.events.remove(document, 'focusout', storm.freeze);
                storm.events.remove(document, 'focusin', storm.resume);
            } else {
                storm.events.remove(window, 'blur', storm.freeze);
                storm.events.remove(window, 'focus', storm.resume);
            }
        }
    };
    this.show = function() {
        var i;
        for (i = 0; i < this.flakes.length; i++) {
            this.flakes[i].o.style.display = 'block';
        }
    };
    this.SnowFlake = function(type, x, y) {
        var s = this;
        this.type = type;
        this.x = x || parseInt(rnd(screenX - 20), 10);
        this.y = !isNaN(y) ? y : -rnd(screenY) - 12;
        this.vX = null;
        this.vY = null;
        this.vAmpTypes = [1, 1.2, 1.4, 1.6, 1.8]; // "amplification" for vX/vY (based on flake size/type)
        this.vAmp = this.vAmpTypes[this.type] || 1;
        this.melting = false;
        this.meltFrameCount = storm.meltFrameCount;
        this.meltFrames = storm.meltFrames;
        this.meltFrame = 0;
        this.twinkleFrame = 0;
        this.active = 1;
        this.fontSize = 10 + this.type / 5 * 10;
        this.o = document.createElement('div');
        this.o.innerHTML = storm.snowCharacter;
        if (storm.className) {
            this.o.setAttribute('class', storm.className);
        }
        this.o.style.color = storm.snowColor;
        this.o.style.position = fixedForEverything ? 'fixed' : 'absolute';
        if (storm.useGPU && features.transform.prop) { // GPU-accelerated snow.
            this.o.style[features.transform.prop] = 'translate3d(0px, 0px, 0px)';
        }
        this.o.style.width = storm.flakeWidth + 'px';
        this.o.style.height = storm.flakeHeight + 'px';
        this.o.style.fontFamily = 'arial,verdana';
        this.o.style.cursor = 'default';
        this.o.style.overflow = 'hidden';
        this.o.style.fontWeight = 'normal';
        this.o.style.zIndex = storm.zIndex;
        docFrag.appendChild(this.o);
        this.refresh = function() {
            if (isNaN(s.x) || isNaN(s.y)) { // safety check
                return false;
            }
            storm.setXY(s.o, s.x, s.y);
        };
        this.stick = function() {
            if (noFixed || storm.targetElement !== document.documentElement && storm.targetElement !== document.body) {
                s.o.style.top = screenY + scrollY - storm.flakeHeight + 'px';
            } else if (storm.flakeBottom) {
                s.o.style.top = storm.flakeBottom + 'px';
            } else {
                s.o.style.display = 'none';
                s.o.style.bottom = '0%';
                s.o.style.position = 'fixed';
                s.o.style.display = 'block';
            }
        };
        this.vCheck = function() {
            if (s.vX >= 0 && s.vX < 0.2) {
                s.vX = 0.2;
            } else if (s.vX < 0 && s.vX > -0.2) {
                s.vX = -0.2;
            }
            if (s.vY >= 0 && s.vY < 0.2) {
                s.vY = 0.2;
            }
        };
        this.move = function() {
            var vX = s.vX * windOffset,
                yDiff;
            s.x += vX;
            s.y += s.vY * s.vAmp;
            if (s.x >= screenX || screenX - s.x < storm.flakeWidth) { // X-axis scroll check
                s.x = 0;
            } else if (vX < 0 && s.x - storm.flakeLeftOffset < -storm.flakeWidth) {
                s.x = screenX - storm.flakeWidth - 1; // flakeWidth;
            }
            s.refresh();
            yDiff = screenY + scrollY - s.y + storm.flakeHeight;
            if (yDiff < storm.flakeHeight) {
                s.active = 0;
                if (storm.snowStick) {
                    s.stick();
                } else {
                    s.recycle();
                }
            } else {
                if (storm.useMeltEffect && s.active && s.type < 3 && !s.melting && Math.random() > 0.998) { // ~1/1000 chance of melting mid-air, with each frame
                    s.melting = true;
                    s.melt(); // only incrementally melt one frame
                    // s.melting = false;
                }
                if (storm.useTwinkleEffect) {
                    if (s.twinkleFrame < 0) {
                        if (Math.random() > 0.97) {
                            s.twinkleFrame = parseInt(Math.random() * 8, 10);
                        }
                    } else {
                        s.twinkleFrame--;
                        if (!opacitySupported) {
                            s.o.style.visibility = s.twinkleFrame && s.twinkleFrame % 2 === 0 ? 'hidden' : 'visible';
                        } else {
                            s.o.style.opacity = s.twinkleFrame && s.twinkleFrame % 2 === 0 ? 0 : 1;
                        }
                    }
                }
            }
        };
        this.animate = function() { // main animation loop
            // move, check status, die etc.
            s.move();
        };
        this.setVelocities = function() {
            s.vX = vRndX + rnd(storm.vMaxX * 0.12, 0.1);
            s.vY = vRndY + rnd(storm.vMaxY * 0.12, 0.1);
        };
        this.setOpacity = function(o, opacity) {
            if (!opacitySupported) {
                return false;
            }
            o.style.opacity = opacity;
        };
        this.melt = function() {
            if (!storm.useMeltEffect || !s.melting) {
                s.recycle();
            } else {
                if (s.meltFrame < s.meltFrameCount) {
                    s.setOpacity(s.o, s.meltFrames[s.meltFrame]);
                    s.o.style.fontSize = s.fontSize - s.fontSize * (s.meltFrame / s.meltFrameCount) + 'px';
                    s.o.style.lineHeight = storm.flakeHeight + 2 + storm.flakeHeight * 0.75 * (s.meltFrame / s.meltFrameCount) + 'px';
                    s.meltFrame++;
                } else {
                    s.recycle();
                }
            }
        };
        this.recycle = function() {
            s.o.style.display = 'none';
            s.o.style.position = fixedForEverything ? 'fixed' : 'absolute';
            s.o.style.bottom = 'auto';
            s.setVelocities();
            s.vCheck();
            s.meltFrame = 0;
            s.melting = false;
            s.setOpacity(s.o, 1);
            s.o.style.padding = '0px';
            s.o.style.margin = '0px';
            s.o.style.fontSize = s.fontSize + 'px';
            s.o.style.lineHeight = storm.flakeHeight + 2 + 'px';
            s.o.style.textAlign = 'center';
            s.o.style.verticalAlign = 'baseline';
            s.x = parseInt(rnd(screenX - storm.flakeWidth - 20), 10);
            s.y = parseInt(rnd(screenY) * -1, 10) - storm.flakeHeight;
            s.refresh();
            s.o.style.display = 'block';
            s.active = 1;
        };
        this.recycle(); // set up x/y coords etc.
        this.refresh();
    };
    this.snow = function() {
        var active = 0,
            flake = null,
            i, j;
        for (i = 0, j = storm.flakes.length; i < j; i++) {
            if (storm.flakes[i].active === 1) {
                storm.flakes[i].move();
                active++;
            }
            if (storm.flakes[i].melting) {
                storm.flakes[i].melt();
            }
        }
        if (active < storm.flakesMaxActive) {
            flake = storm.flakes[parseInt(rnd(storm.flakes.length), 10)];
            if (flake.active === 0) {
                flake.melting = true;
            }
        }
        if (storm.timer) {
            features.getAnimationFrame(storm.snow);
        }
    };
    this.mouseMove = function(e) {
        if (!storm.followMouse) {
            return true;
        }
        var x = parseInt(e.clientX, 10);
        if (x < screenX2) {
            windOffset = -windMultiplier + x / screenX2 * windMultiplier;
        } else {
            x -= screenX2;
            windOffset = x / screenX2 * windMultiplier;
        }
    };
    this.createSnow = function(limit, allowInactive) {
        var i;
        for (i = 0; i < limit; i++) {
            storm.flakes[storm.flakes.length] = new storm.SnowFlake(parseInt(rnd(flakeTypes), 10));
            if (allowInactive || i > storm.flakesMaxActive) {
                storm.flakes[storm.flakes.length - 1].active = -1;
            }
        }
        storm.targetElement.appendChild(docFrag);
    };
    this.timerInit = function() {
        storm.timer = true;
        storm.snow();
    };
    this.init = function() {
        var i;
        for (i = 0; i < storm.meltFrameCount; i++) {
            storm.meltFrames.push(1 - i / storm.meltFrameCount);
        }
        storm.randomizeWind();
        storm.createSnow(storm.flakesMax); // create initial batch
        storm.events.add(window, 'resize', storm.resizeHandler);
        storm.events.add(window, 'scroll', storm.scrollHandler);
        if (storm.freezeOnBlur) {
            if (isIE) {
                storm.events.add(document, 'focusout', storm.freeze);
                storm.events.add(document, 'focusin', storm.resume);
            } else {
                storm.events.add(window, 'blur', storm.freeze);
                storm.events.add(window, 'focus', storm.resume);
            }
        }
        storm.resizeHandler();
        storm.scrollHandler();
        if (storm.followMouse) {
            storm.events.add(isIE ? document : window, 'mousemove', storm.mouseMove);
        }
        storm.animationInterval = Math.max(20, storm.animationInterval);
        storm.timerInit();
    };
    this.start = function(bFromOnLoad) {
        if (!didInit) {
            didInit = true;
        } else if (bFromOnLoad) { // already loaded and running
            return true;
        }
        if (typeof storm.targetElement === 'string') {
            var targetID = storm.targetElement;
            storm.targetElement = document.getElementById(targetID);
            if (!storm.targetElement) {
                throw new Error('Snowstorm: Unable to get targetElement "' + targetID + '"');
            }
        }
        if (!storm.targetElement) {
            storm.targetElement = document.body || document.documentElement;
        }
        if (storm.targetElement !== document.documentElement && storm.targetElement !== document.body) { // re-map handler to get element instead of screen dimensions
            storm.resizeHandler = storm.resizeHandlerAlt; //and force-enable pixel positioning
            storm.usePixelPosition = true;
        }
        storm.resizeHandler(); // get bounding box elements
        storm.usePositionFixed = storm.usePositionFixed && !noFixed && !storm.flakeBottom; // whether or not position:fixed is to be used
        if (window.getComputedStyle) { // attempt to determine if body or user-specified snow parent element is relatlively-positioned.
            try {
                targetElementIsRelative = window.getComputedStyle(storm.targetElement, null).getPropertyValue('position') === 'relative';
            } catch (e) { // oh well
                targetElementIsRelative = false;
            }
        }
        fixedForEverything = storm.usePositionFixed;
        if (screenX && screenY && !storm.disabled) {
            storm.init();
            storm.active = true;
        }
    };

    function doDelayedStart() {
        window.setTimeout(function() {
            storm.start(true);
        }, 20); // event cleanup
        storm.events.remove(isIE ? document : window, 'mousemove', doDelayedStart);
    }

    function doStart() {
        if (!storm.excludeMobile || !isMobile) {
            doDelayedStart();
        } // event cleanup
        storm.events.remove(window, 'load', doStart);
    } // hooks for starting the snow
    if (storm.autoStart) {
        storm.events.add(window, 'load', doStart, false);
    }
    return this;
}(window, document);
let keys = [];
$('body').keyup(function(e) {
    keys.unshift(e.which);
    keys = keys.slice(0, 4);
    if (JSON.stringify(keys) === JSON.stringify([83, 65, 77, 88])) {
        snowStorm.toggleSnow();
    }
});